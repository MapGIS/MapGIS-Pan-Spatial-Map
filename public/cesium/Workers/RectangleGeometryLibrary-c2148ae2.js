define(["exports","./Matrix2-59fd2efe","./when-ae2e0b60","./RuntimeError-24b14c10","./Transforms-3bc98d07","./ComponentDatatype-b7b5db18"],function(n,m,d,t,a,X){var w=Math.cos,M=Math.sin,Y=Math.sqrt,r={computePosition:function(n,t,a,r,e,o,s){var t=t.radiiSquared,i=n.nwCorner,g=n.boundingRectangle,h=i.latitude-n.granYCos*r+e*n.granXSin,u=w(h),c=M(h),C=t.z*c,i=i.longitude+r*n.granYSin+e*n.granXCos,l=u*w(i),u=u*M(i),S=t.x*l,t=t.y*u,l=Y(S*l+t*u+C*c);o.x=S/l,o.y=t/l,o.z=C/l,a&&(u=n.stNwCorner,d.defined(u)?(h=u.latitude-n.stGranYCos*r+e*n.stGranXSin,i=u.longitude+r*n.stGranYSin+e*n.stGranXCos,s.x=(i-n.stWest)*n.lonScalar,s.y=(h-n.stSouth)*n.latScalar):(s.x=(i-g.west)*n.lonScalar,s.y=(h-g.south)*n.latScalar))}},l=new m.Matrix2,S=new m.Cartesian3,p=new m.Cartographic,x=new m.Cartesian3,R=new a.GeographicProjection;function b(n,t,a,r,e,o,s){var i=Math.cos(t),g=r*i,i=a*i,h=Math.sin(t),r=r*h,a=a*h,h=(S=R.project(n,S),S=m.Cartesian3.subtract(S,x,S),m.Matrix2.fromRotation(t,l)),t=(S=m.Matrix2.multiplyByVector(h,S,S),S=m.Cartesian3.add(S,x,S),(n=R.unproject(S,n)).latitude),h=t+--o*a,u=t-g*--s,c=t-g*s+o*a,C=Math.max(t,h,u,c),t=Math.min(t,h,u,c),h=n.longitude,u=h+o*i,c=h+s*r,s=h+s*r+o*i;return{north:C,south:t,east:Math.max(h,u,c,s),west:Math.min(h,u,c,s),granYCos:g,granYSin:r,granXCos:i,granXSin:a,nwCorner:n}}r.computeOptions=function(n,t,a,r,e,o,s){var i=n.east,g=n.west,h=n.north,u=n.south,c=!1,C=!1,l=(h===X.CesiumMath.PI_OVER_TWO&&(c=!0),u===-X.CesiumMath.PI_OVER_TWO&&(C=!0),h-u),S=i<g?X.CesiumMath.TWO_PI-g+i:i-g,d=Math.ceil(S/t)+1,t=Math.ceil(l/t)+1,S=S/(d-1),l=l/(t-1),o=m.Rectangle.northwest(n,o),w=m.Rectangle.center(n,p),w=(0===a&&0===r||(w.longitude<o.longitude&&(w.longitude+=X.CesiumMath.TWO_PI),x=R.project(w,x)),l),M=S,n=m.Rectangle.clone(n,e),e={granYCos:w,granYSin:0,granXCos:M,granXSin:0,nwCorner:o,boundingRectangle:n,width:d,height:t,northCap:c,southCap:C};return 0!==a&&(h=(w=b(o,a,S,l,0,d,t)).north,u=w.south,i=w.east,g=w.west,e.granYCos=w.granYCos,e.granYSin=w.granYSin,e.granXCos=w.granXCos,e.granXSin=w.granXSin,n.north=h,n.south=u,n.east=i,n.west=g),0!==r&&(a-=r,c=b(M=m.Rectangle.northwest(n,s),a,S,l,0,d,t),e.stGranYCos=c.granYCos,e.stGranXCos=c.granXCos,e.stGranYSin=c.granYSin,e.stGranXSin=c.granXSin,e.stNwCorner=M,e.stWest=c.west,e.stSouth=c.south),e},n.RectangleGeometryLibrary=r});
