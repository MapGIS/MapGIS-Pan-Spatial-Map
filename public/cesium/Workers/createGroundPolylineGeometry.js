define(["./Transforms-ce97037a","./Cartesian2-38b35910","./Check-f996273c","./when-ae2e0b60","./Math-5bbcea10","./ArcType-1275a14e","./arrayRemoveDuplicates-bdf50aa0","./ComponentDatatype-e44126e4","./EllipsoidGeodesic-0207b202","./EllipsoidRhumbLine-af7b5ebe","./EncodedCartesian3-d40e98d6","./GeometryAttribute-f82de479","./IntersectionTests-ce427234","./Plane-ee0aa150","./WebMercatorProjection-cf614542","./combine-276652d0","./RuntimeError-ac2797b4","./WebGLConstants-35626ea2"],function(sa,oa,a,la,ua,ca,Ia,Ca,T,pa,ha,da,ga,r,t,n,h,d){"use strict";function e(e){e=la.defaultValue(e,la.defaultValue.EMPTY_OBJECT),this._ellipsoid=la.defaultValue(e.ellipsoid,oa.Ellipsoid.WGS84),this._rectangle=la.defaultValue(e.rectangle,oa.Rectangle.MAX_VALUE),this._projection=new sa.GeographicProjection(this._ellipsoid),this._numberOfLevelZeroTilesX=la.defaultValue(e.numberOfLevelZeroTilesX,2),this._numberOfLevelZeroTilesY=la.defaultValue(e.numberOfLevelZeroTilesY,1)}Object.defineProperties(e.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},rectangle:{get:function(){return this._rectangle}},projection:{get:function(){return this._projection}}}),e.prototype.getNumberOfXTilesAtLevel=function(e){return this._numberOfLevelZeroTilesX<<e},e.prototype.getNumberOfYTilesAtLevel=function(e){return this._numberOfLevelZeroTilesY<<e},e.prototype.rectangleToNativeRectangle=function(e,a){var t=ua.CesiumMath.toDegrees(e.west),n=ua.CesiumMath.toDegrees(e.south),i=ua.CesiumMath.toDegrees(e.east),e=ua.CesiumMath.toDegrees(e.north);return la.defined(a)?(a.west=t,a.south=n,a.east=i,a.north=e,a):new oa.Rectangle(t,n,i,e)},e.prototype.tileXYToNativeRectangle=function(e,a,t,n){e=this.tileXYToRectangle(e,a,t,n);return e.west=ua.CesiumMath.toDegrees(e.west),e.south=ua.CesiumMath.toDegrees(e.south),e.east=ua.CesiumMath.toDegrees(e.east),e.north=ua.CesiumMath.toDegrees(e.north),e},e.prototype.tileXYToRectangle=function(e,a,t,n){var i=this._rectangle,r=this.getNumberOfXTilesAtLevel(t),t=this.getNumberOfYTilesAtLevel(t),r=i.width/r,s=e*r+i.west,e=(e+1)*r+i.west,r=i.height/t,t=i.north-a*r,i=i.north-(a+1)*r;return(n=la.defined(n)?n:new oa.Rectangle(s,i,e,t)).west=s,n.south=i,n.east=e,n.north=t,n},e.prototype.positionToTileXY=function(e,a,t){var n,i,r,s,o=this._rectangle;if(oa.Rectangle.contains(o,e))return n=this.getNumberOfXTilesAtLevel(a),a=this.getNumberOfYTilesAtLevel(a),s=o.width/n,i=o.height/a,r=e.longitude,o.east<o.west&&(r+=ua.CesiumMath.TWO_PI),n<=(r=(r-o.west)/s|0)&&(r=n-1),a<=(s=(o.north-e.latitude)/i|0)&&(s=a-1),la.defined(t)?(t.x=r,t.y=s,t):new oa.Cartesian2(r,s)};var s=new oa.Cartesian3,o=new oa.Cartesian3,l=new oa.Cartographic,u=new oa.Cartesian3,g=new oa.Cartesian3,m=new sa.BoundingSphere,f=new e,c=[new oa.Cartographic,new oa.Cartographic,new oa.Cartographic,new oa.Cartographic],C=new oa.Cartesian2,ma={};function w(e){oa.Cartographic.fromRadians(e.east,e.north,0,c[0]),oa.Cartographic.fromRadians(e.west,e.north,0,c[1]),oa.Cartographic.fromRadians(e.east,e.south,0,c[2]),oa.Cartographic.fromRadians(e.west,e.south,0,c[3]);for(var a=0,t=0,n=0,i=0,r=ma._terrainHeightsMaxLevel,s=0;s<=r;++s){for(var o=!1,l=0;l<4;++l)if(f.positionToTileXY(c[l],s,C),0===l)n=C.x,i=C.y;else if(n!==C.x||i!==C.y){o=!0;break}if(o)break;a=n,t=i}if(0!==s)return{x:a,y:t,level:r<s?r:s-1}}ma.initialize=function(){var e=ma._initPromise;return la.defined(e)||(e=sa.Resource.fetchJson(sa.buildModuleUrl("Assets/approximateTerrainHeights.json")).then(function(e){ma._terrainHeights=e}),ma._initPromise=e),e},ma.getMinimumMaximumHeights=function(e,a){a=la.defaultValue(a,oa.Ellipsoid.WGS84);var t=w(e),n=ma._defaultMinTerrainHeight,i=ma._defaultMaxTerrainHeight;return la.defined(t)&&(t=t.level+"-"+t.x+"-"+t.y,t=ma._terrainHeights[t],la.defined(t)&&(n=t[0],i=t[1]),a.cartographicToCartesian(oa.Rectangle.northeast(e,l),s),a.cartographicToCartesian(oa.Rectangle.southwest(e,l),o),oa.Cartesian3.midpoint(o,s,u),t=a.scaleToGeodeticSurface(u,g),n=la.defined(t)?(e=oa.Cartesian3.distance(u,t),Math.min(n,-e)):ma._defaultMinTerrainHeight),{minimumTerrainHeight:n=Math.max(ma._defaultMinTerrainHeight,n),maximumTerrainHeight:i}},ma.getBoundingSphere=function(e,a){a=la.defaultValue(a,oa.Ellipsoid.WGS84);var t=w(e),n=ma._defaultMaxTerrainHeight,t=(la.defined(t)&&(t=t.level+"-"+t.x+"-"+t.y,t=ma._terrainHeights[t],la.defined(t))&&(n=t[1]),sa.BoundingSphere.fromRectangle3D(e,a,0));return sa.BoundingSphere.fromRectangle3D(e,a,n,m),sa.BoundingSphere.union(t,m,t)},ma._terrainHeightsMaxLevel=6,ma._defaultMaxTerrainHeight=9e3,ma._defaultMinTerrainHeight=-1e5,ma._terrainHeights=void 0,ma._initPromise=void 0,Object.defineProperties(ma,{initialized:{get:function(){return la.defined(ma._terrainHeights)}}});var fa=[sa.GeographicProjection,t.WebMercatorProjection],y=fa.length,xa=Math.cos(ua.CesiumMath.toRadians(30)),M=Math.cos(ua.CesiumMath.toRadians(150)),Na=0,Ra=1e3;function p(e){var a=(e=la.defaultValue(e,la.defaultValue.EMPTY_OBJECT)).positions;this.width=la.defaultValue(e.width,1),this._positions=a,this.granularity=la.defaultValue(e.granularity,9999),this.loop=la.defaultValue(e.loop,!1),this.arcType=la.defaultValue(e.arcType,ca.ArcType.GEODESIC),this._ellipsoid=oa.Ellipsoid.WGS84,this._projectionIndex=0,this._workerName="createGroundPolylineGeometry",this._scene3DOnly=!1}Object.defineProperties(p.prototype,{packedLength:{get:function(){return 1+3*this._positions.length+1+1+1+oa.Ellipsoid.packedLength+1+1}}}),p.setProjectionAndEllipsoid=function(e,a){for(var t=0,n=0;n<y;n++)if(a instanceof fa[n]){t=n;break}e._projectionIndex=t,e._ellipsoid=a.ellipsoid};var v=new oa.Cartesian3,E=new oa.Cartesian3,_=new oa.Cartesian3;function wa(e,a,t,n,i){var r=Ma(n,e,0,v),e=Ma(n,e,t,E),t=Ma(n,a,0,_),n=Ta(e,r,E),a=Ta(t,r,_);return oa.Cartesian3.cross(a,n,i),oa.Cartesian3.normalize(i,i)}var O=new oa.Cartographic,b=new oa.Cartesian3,P=new oa.Cartesian3,k=new oa.Cartesian3;function ya(e,a,t,n,i,r,s,o,l,u,c){if(0!==i){r===ca.ArcType.GEODESIC?C=new T.EllipsoidGeodesic(e,a,s):r===ca.ArcType.RHUMB&&(C=new pa.EllipsoidRhumbLine(e,a,s));var C,r=C.surfaceDistance;if(!(r<i))for(var p=wa(e,a,n,s,k),e=Math.ceil(r/i),h=r/e,d=h,g=e-1,m=o.length,f=0;f<g;f++){var w=C.interpolateUsingSurfaceDistance(d,O),y=Ma(s,w,t,b),M=Ma(s,w,n,P);oa.Cartesian3.pack(p,o,m),oa.Cartesian3.pack(y,l,m),oa.Cartesian3.pack(M,u,m),c.push(w.latitude),c.push(w.longitude),m+=3,d+=h}}}var i=new oa.Cartographic;function Ma(e,a,t,n){return oa.Cartographic.clone(a,i),i.height=t,oa.Cartographic.toCartesian(i,e,n)}function Ta(e,a,t){return oa.Cartesian3.subtract(e,a,t),oa.Cartesian3.normalize(t,t),t}function A(e,a,t,n){return n=Ta(e,a,n),n=oa.Cartesian3.cross(n,t,n),n=oa.Cartesian3.normalize(n,n),n=oa.Cartesian3.cross(t,n,n)}p.pack=function(e,a,t){var n=la.defaultValue(t,0),i=e._positions,r=i.length;a[n++]=r;for(var s=0;s<r;++s){var o=i[s];oa.Cartesian3.pack(o,a,n),n+=3}return a[n++]=e.granularity,a[n++]=e.loop?1:0,a[n++]=e.arcType,oa.Ellipsoid.pack(e._ellipsoid,a,n),n+=oa.Ellipsoid.packedLength,a[n++]=e._projectionIndex,a[n++]=e._scene3DOnly?1:0,a},p.unpack=function(e,a,t){for(var n=la.defaultValue(a,0),i=e[n++],r=new Array(i),s=0;s<i;s++)r[s]=oa.Cartesian3.unpack(e,n),n+=3;var a=e[n++],o=1===e[n++],l=e[n++],u=oa.Ellipsoid.unpack(e,n),c=(n+=oa.Ellipsoid.packedLength,e[n++]),C=1===e[n++];return(t=la.defined(t)?t:new p({positions:r}))._positions=r,t.granularity=a,t.loop=o,t.arcType=l,t._ellipsoid=u,t._projectionIndex=c,t._scene3DOnly=C,t};var L=new oa.Cartesian3,S=new oa.Cartesian3,I=new oa.Cartesian3,x=new oa.Cartesian3;function va(e,a,t,n,i){t=Ta(t,a,x),e=A(e,a,t,L),n=A(n,a,t,S);if(ua.CesiumMath.equalsEpsilon(oa.Cartesian3.dot(e,n),-1,ua.CesiumMath.EPSILON5))return i=oa.Cartesian3.cross(t,e,i),i=oa.Cartesian3.normalize(i,i);i=oa.Cartesian3.add(n,e,i),i=oa.Cartesian3.normalize(i,i);a=oa.Cartesian3.cross(t,i,I);return i=oa.Cartesian3.dot(n,a)<0?oa.Cartesian3.negate(i,i):i}var Ea=r.Plane.fromPointNormal(oa.Cartesian3.ZERO,oa.Cartesian3.UNIT_Y),Da=new oa.Cartesian3,za=new oa.Cartesian3,Ha=new oa.Cartesian3,Ba=new oa.Cartesian3,ja=new oa.Cartesian3,_a=new oa.Cartesian3,Oa=new oa.Cartographic,Ga=new oa.Cartographic,Va=new oa.Cartographic,N=(p.createGeometry=function(e){for(var a,t,n,D,z,i,H,B,j=!e._scene3DOnly,G=e.loop,r=e._ellipsoid,V=e.granularity,Y=e.arcType,F=new fa[e._projectionIndex](r),s=Na,q=Ra,X=e._positions,W=X.length,U=(2===W&&(G=!1),new pa.EllipsoidRhumbLine(void 0,void 0,r)),Z=[X[0]],o=0;o<W-1;o++)t=X[o],n=X[o+1],i=ga.IntersectionTests.lineSegmentPlane(t,n,Ea,_a),!la.defined(i)||oa.Cartesian3.equalsEpsilon(i,t,ua.CesiumMath.EPSILON7)||oa.Cartesian3.equalsEpsilon(i,n,ua.CesiumMath.EPSILON7)||(e.arcType===ca.ArcType.GEODESIC?Z.push(oa.Cartesian3.clone(i)):e.arcType===ca.ArcType.RHUMB&&(B=r.cartesianToCartographic(i,Oa).longitude,D=r.cartesianToCartographic(t,Oa),z=r.cartesianToCartographic(n,Ga),U.setEndPoints(D,z),H=U.findIntersectionWithLongitude(B,Va),i=r.cartographicToCartesian(H,_a),!la.defined(i)||oa.Cartesian3.equalsEpsilon(i,t,ua.CesiumMath.EPSILON7)||oa.Cartesian3.equalsEpsilon(i,n,ua.CesiumMath.EPSILON7)||Z.push(oa.Cartesian3.clone(i)))),Z.push(n);G&&(t=X[W-1],n=X[0],i=ga.IntersectionTests.lineSegmentPlane(t,n,Ea,_a),!la.defined(i)||oa.Cartesian3.equalsEpsilon(i,t,ua.CesiumMath.EPSILON7)||oa.Cartesian3.equalsEpsilon(i,n,ua.CesiumMath.EPSILON7)||(e.arcType===ca.ArcType.GEODESIC?Z.push(oa.Cartesian3.clone(i)):e.arcType===ca.ArcType.RHUMB&&(B=r.cartesianToCartographic(i,Oa).longitude,D=r.cartesianToCartographic(t,Oa),z=r.cartesianToCartographic(n,Ga),U.setEndPoints(D,z),H=U.findIntersectionWithLongitude(B,Va),i=r.cartographicToCartesian(H,_a),!la.defined(i)||oa.Cartesian3.equalsEpsilon(i,t,ua.CesiumMath.EPSILON7)||oa.Cartesian3.equalsEpsilon(i,n,ua.CesiumMath.EPSILON7)||Z.push(oa.Cartesian3.clone(i)))));var J=Z.length,l=new Array(J);for(o=0;o<J;o++){var Q=oa.Cartographic.fromCartesian(Z[o],r);Q.height=0,l[o]=Q}if(!((J=(l=Ia.arrayRemoveDuplicates(l,oa.Cartographic.equalsEpsilon)).length)<2)){var u=[],c=[],C=[],p=[],K=Da,h=za,d=Ha,$=Ba,g=ja,m=l[0],f=l[1];for(K=Ma(r,l[J-1],s,K),$=Ma(r,f,s,$),h=Ma(r,m,s,h),d=Ma(r,m,q,d),g=G?va(K,h,d,$,g):wa(m,f,q,r,g),oa.Cartesian3.pack(g,c,0),oa.Cartesian3.pack(h,C,0),oa.Cartesian3.pack(d,p,0),u.push(m.latitude),u.push(m.longitude),ya(m,f,s,q,V,Y,r,c,C,p,u),o=1;o<J-1;++o){var K=oa.Cartesian3.clone(h,K),h=oa.Cartesian3.clone($,h),ee=l[o];Ma(r,ee,q,d),Ma(r,l[o+1],s,$),va(K,h,d,$,g),a=c.length,oa.Cartesian3.pack(g,c,a),oa.Cartesian3.pack(h,C,a),oa.Cartesian3.pack(d,p,a),u.push(ee.latitude),u.push(ee.longitude),ya(l[o],l[o+1],s,q,V,Y,r,c,C,p,u)}var f=l[J-1],ae=l[J-2];if(h=Ma(r,f,s,h),d=Ma(r,f,q,d),g=G?(M=l[0],va(K=Ma(r,ae,s,K),h,d,$=Ma(r,M,s,$),g)):wa(ae,f,q,r,g),a=c.length,oa.Cartesian3.pack(g,c,a),oa.Cartesian3.pack(h,C,a),oa.Cartesian3.pack(d,p,a),u.push(f.latitude),u.push(f.longitude),G){for(ya(f,m,s,q,V,Y,r,c,C,p,u),a=c.length,o=0;o<3;++o)c[a+o]=c[o],C[a+o]=C[o],p[a+o]=p[o];u.push(m.latitude),u.push(m.longitude)}var w,y,te,ne,ie,re,M=G,T=F,se=C,oe=p,le=c,v=u,ue=j,ce=T._ellipsoid,Ce=se.length/3-1,ae=8*Ce,f=4*ae,m=36*Ce,pe=new(65535<ae?Uint32Array:Uint16Array)(m),E=new Float64Array(3*ae),he=new Float32Array(f),de=new Float32Array(f),ge=new Float32Array(f),me=new Float32Array(f),fe=new Float32Array(f),we=(ue&&(te=new Float32Array(f),ne=new Float32Array(f),ie=new Float32Array(f),re=new Float32Array(2*ae)),v.length/2),ye=0,_=qa,O=(_.height=0,Xa),Me=(O.height=0,Wa),b=ka;if(ue)for(y=0,w=1;w<we;w++)_.latitude=v[y],_.longitude=v[y+1],O.latitude=v[y+2],O.longitude=v[y+3],Me=T.project(_,Me),b=T.project(O,b),ye+=oa.Cartesian3.distance(Me,b),y+=2;var P,Te=oe.length/3,ve=(b=oa.Cartesian3.unpack(oe,0,b),0);for(y=3,w=1;w<Te;w++)Me=oa.Cartesian3.clone(b,Me),b=oa.Cartesian3.unpack(oe,y,b),ve+=oa.Cartesian3.distance(Me,b),y+=3;var Ee=0,_e=0,k=0,Oe=0,be=!(y=3),Pe=oa.Cartesian3.unpack(se,0,Za),ke=oa.Cartesian3.unpack(oe,0,ka),A=oa.Cartesian3.unpack(le,0,Qa);M&&(m=oa.Cartesian3.unpack(se,se.length-6,Ua),Ya(A,m,Pe,ke))&&(A=oa.Cartesian3.negate(A,A));var Ae,Le,Se,Ie,xe,Ne,Re,De=0,ze=0,He=0;for(w=0;w<Ce;w++){var L=oa.Cartesian3.clone(Pe,Ua),Be=oa.Cartesian3.clone(ke,Wa),S=oa.Cartesian3.clone(A,Ja),je=(be&&(S=oa.Cartesian3.negate(S,S)),Pe=oa.Cartesian3.unpack(se,y,Za),ke=oa.Cartesian3.unpack(oe,y,ka),A=oa.Cartesian3.unpack(le,y,Qa),be=Ya(A,L,Pe,ke),_.latitude=v[Ee],_.longitude=v[Ee+1],O.latitude=v[Ee+2],O.longitude=v[Ee+3],ue&&(Ye=function(e,a){var t=Math.abs(e.longitude),n=Math.abs(a.longitude);{var i;if(ua.CesiumMath.equalsEpsilon(t,ua.CesiumMath.PI,ua.CesiumMath.EPSILON11))return i=ua.CesiumMath.sign(a.longitude),e.longitude=i*(t-ua.CesiumMath.EPSILON11),1;if(ua.CesiumMath.equalsEpsilon(n,ua.CesiumMath.PI,ua.CesiumMath.EPSILON11))return i=ua.CesiumMath.sign(e.longitude),a.longitude=i*(n-ua.CesiumMath.EPSILON11),2}return 0}(_,O),Ae=T.project(_,it),(je=Ta(Le=T.project(O,rt),Ae,dt)).y=Math.abs(je.y),Se=Aa,Ie=La,0===Ye||oa.Cartesian3.dot(je,oa.Cartesian3.UNIT_Y)>xa?(Se=ba(T,_,S,Ae,Aa),Ie=ba(T,O,A,Le,La)):1===Ye?(Ie=ba(T,O,A,Le,La),Se.x=0,Se.y=ua.CesiumMath.sign(_.longitude-Math.abs(O.longitude)),Se.z=0):(Se=ba(T,_,S,Ae,Aa),Ie.x=0,Ie.y=ua.CesiumMath.sign(_.longitude-O.longitude),Ie.z=0)),oa.Cartesian3.distance(Be,ke)),Ge=ha.EncodedCartesian3.fromCartesian(L,pt),Ve=oa.Cartesian3.subtract(Pe,L,st),Ye=oa.Cartesian3.normalize(Ve,ut),I=oa.Cartesian3.subtract(Be,L,ot),Fe=(I=oa.Cartesian3.normalize(I,I),oa.Cartesian3.cross(Ye,I,ut)),qe=(Fe=oa.Cartesian3.normalize(Fe,Fe),oa.Cartesian3.cross(I,S,ct)),I=(qe=oa.Cartesian3.normalize(qe,qe),oa.Cartesian3.subtract(ke,Pe,lt)),Xe=(I=oa.Cartesian3.normalize(I,I),oa.Cartesian3.cross(A,I,Ct)),We=(Xe=oa.Cartesian3.normalize(Xe,Xe),je/ve),Ue=De/ve,S=0,Ze=0,Je=0;for(ue&&(S=oa.Cartesian3.distance(Ae,Le),xe=ha.EncodedCartesian3.fromCartesian(Ae,ht),Ne=oa.Cartesian3.subtract(Le,Ae,dt),I=(Re=oa.Cartesian3.normalize(Ne,gt)).x,Re.x=Re.y,Re.y=-I,Ze=S/ye,Je=ze/ye),P=0;P<8;P++){var x=Oe+4*P,Qe=_e+2*P,Ke=x+3,$e=P<4?1:-1,ea=2===P||3===P||6===P||7===P?1:-1,aa=(oa.Cartesian3.pack(Ge.high,he,x),he[Ke]=Ve.x,oa.Cartesian3.pack(Ge.low,de,x),de[Ke]=Ve.y,oa.Cartesian3.pack(qe,ge,x),ge[Ke]=Ve.z,oa.Cartesian3.pack(Xe,me,x),me[Ke]=We*$e,oa.Cartesian3.pack(Fe,fe,x),Ue*ea);0===aa&&ea<0&&(aa=9),fe[Ke]=aa,ue&&(te[x]=xe.high.x,te[x+1]=xe.high.y,te[x+2]=xe.low.x,te[x+3]=xe.low.y,ie[x]=-Se.y,ie[x+1]=Se.x,ie[x+2]=Ie.y,ie[x+3]=-Ie.x,ne[x]=Ne.x,ne[x+1]=Ne.y,ne[x+2]=Re.x,ne[x+3]=Re.y,re[Qe]=Ze*$e,0===(aa=Je*ea)&&ea<0&&(aa=9),re[Qe+1]=aa)}var I=tt,N=nt,R=et,ta=at,na=oa.Rectangle.fromCartographicArray(Ka,$a),na=ma.getMinimumMaximumHeights(na,ce),ia=na.minimumTerrainHeight,na=na.maximumTerrainHeight,L=(He=He+ia+na,Fa(L,Be,ia,na,I,R),Fa(Pe,ke,ia,na,N,ta),oa.Cartesian3.multiplyByScalar(Fe,ua.CesiumMath.EPSILON5,mt));oa.Cartesian3.add(I,L,I),oa.Cartesian3.add(N,L,N),oa.Cartesian3.add(R,L,R),oa.Cartesian3.add(ta,L,ta),Pa(I,N),Pa(R,ta),oa.Cartesian3.pack(I,E,k),oa.Cartesian3.pack(N,E,k+3),oa.Cartesian3.pack(ta,E,k+6),oa.Cartesian3.pack(R,E,k+9),L=oa.Cartesian3.multiplyByScalar(Fe,-2*ua.CesiumMath.EPSILON5,mt),oa.Cartesian3.add(I,L,I),oa.Cartesian3.add(N,L,N),oa.Cartesian3.add(R,L,R),oa.Cartesian3.add(ta,L,ta),Pa(I,N),Pa(R,ta),oa.Cartesian3.pack(I,E,k+12),oa.Cartesian3.pack(N,E,k+15),oa.Cartesian3.pack(ta,E,k+18),oa.Cartesian3.pack(R,E,k+21),Ee+=2,y+=3,_e+=16,k+=24,Oe+=32,De+=je,ze+=S}var ra=y=0;for(w=0;w<Ce;w++){for(P=0;P<yt;P++)pe[y+P]=wt[P]+ra;ra+=8,y+=yt}return f=ft,sa.BoundingSphere.fromVertices(se,oa.Cartesian3.ZERO,3,f[0]),sa.BoundingSphere.fromVertices(oe,oa.Cartesian3.ZERO,3,f[1]),(ae=sa.BoundingSphere.fromBoundingSpheres(f)).radius+=He/(2*Ce),M={position:new da.GeometryAttribute({componentDatatype:Ca.ComponentDatatype.DOUBLE,componentsPerAttribute:3,normalize:!1,values:E}),startHiAndForwardOffsetX:Sa(he),startLoAndForwardOffsetY:Sa(de),startNormalAndForwardOffsetZ:Sa(ge),endNormalAndTextureCoordinateNormalizationX:Sa(me),rightNormalAndTextureCoordinateNormalizationY:Sa(fe)},ue&&(M.startHiLo2D=Sa(te),M.offsetAndRight2D=Sa(ne),M.startEndNormals2D=Sa(ie),M.texcoordNormalization2D=new da.GeometryAttribute({componentDatatype:Ca.ComponentDatatype.FLOAT,componentsPerAttribute:2,normalize:!1,values:re})),new da.Geometry({attributes:M,indices:pe,boundingSphere:ae})}},new oa.Cartesian3),R=new sa.Matrix3,D=new sa.Quaternion;function Ya(e,a,t,n){var a=Ta(t,a,N),a=oa.Cartesian3.dot(a,e);return(xa<a||a<M)&&(n=Ta(n,t,x),t=a<M?ua.CesiumMath.PI_OVER_TWO:-ua.CesiumMath.PI_OVER_TWO,a=sa.Quaternion.fromAxisAngle(n,t,D),n=sa.Matrix3.fromQuaternion(a,R),sa.Matrix3.multiplyByVector(n,e,e),!0)}var z=new oa.Cartographic,H=new oa.Cartesian3,B=new oa.Cartesian3;function ba(e,a,t,n,i){var r=oa.Cartographic.toCartesian(a,e._ellipsoid,H),s=oa.Cartesian3.add(r,t,B),o=!1,l=e._ellipsoid,u=l.cartesianToCartographic(s,z),a=(Math.abs(a.longitude-u.longitude)>ua.CesiumMath.PI_OVER_TWO&&(o=!0,s=oa.Cartesian3.subtract(r,t,B),u=l.cartesianToCartographic(s,z)),u.height=0,e.project(u,i));return(i=oa.Cartesian3.subtract(a,n,i)).z=0,i=oa.Cartesian3.normalize(i,i),o&&oa.Cartesian3.negate(i,i),i}var j=new oa.Cartesian3,G=new oa.Cartesian3;function Fa(e,a,t,n,i,r){var s=oa.Cartesian3.subtract(a,e,j),t=(oa.Cartesian3.normalize(s,s),t-Na),t=oa.Cartesian3.multiplyByScalar(s,t,G),e=(oa.Cartesian3.add(e,t,i),n-Ra),t=oa.Cartesian3.multiplyByScalar(s,e,G);oa.Cartesian3.add(a,t,r)}var V=new oa.Cartesian3;function Pa(e,a){var t=r.Plane.getPointDistance(Ea,e),n=r.Plane.getPointDistance(Ea,a),i=V;ua.CesiumMath.equalsEpsilon(t,0,ua.CesiumMath.EPSILON2)?(i=Ta(a,e,i),oa.Cartesian3.multiplyByScalar(i,ua.CesiumMath.EPSILON2,i),oa.Cartesian3.add(e,i,e)):ua.CesiumMath.equalsEpsilon(n,0,ua.CesiumMath.EPSILON2)&&(i=Ta(e,a,i),oa.Cartesian3.multiplyByScalar(i,ua.CesiumMath.EPSILON2,i),oa.Cartesian3.add(a,i,a))}var qa=new oa.Cartographic,Xa=new oa.Cartographic,Wa=new oa.Cartesian3,ka=new oa.Cartesian3,Ua=new oa.Cartesian3,Za=new oa.Cartesian3,Ja=new oa.Cartesian3,Qa=new oa.Cartesian3,Ka=[qa,Xa],$a=new oa.Rectangle,et=new oa.Cartesian3,at=new oa.Cartesian3,tt=new oa.Cartesian3,nt=new oa.Cartesian3,it=new oa.Cartesian3,rt=new oa.Cartesian3,Aa=new oa.Cartesian3,La=new oa.Cartesian3,st=new oa.Cartesian3,ot=new oa.Cartesian3,lt=new oa.Cartesian3,ut=new oa.Cartesian3,ct=new oa.Cartesian3,Ct=new oa.Cartesian3,pt=new ha.EncodedCartesian3,ht=new ha.EncodedCartesian3,dt=new oa.Cartesian3,gt=new oa.Cartesian3,mt=new oa.Cartesian3,ft=[new sa.BoundingSphere,new sa.BoundingSphere],wt=[0,2,1,0,3,2,0,7,3,0,4,7,0,5,4,0,1,5,5,7,4,5,6,7,5,2,6,5,1,2,3,6,2,3,7,6],yt=wt.length;function Sa(e){return new da.GeometryAttribute({componentDatatype:Ca.ComponentDatatype.FLOAT,componentsPerAttribute:4,normalize:!1,values:e})}return p._projectNormal=ba,function(e,a){return ma.initialize().then(function(){return la.defined(a)&&(e=p.unpack(e,a)),p.createGeometry(e)})}});
