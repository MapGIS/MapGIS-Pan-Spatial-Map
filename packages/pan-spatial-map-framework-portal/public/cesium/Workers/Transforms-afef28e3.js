define(["exports","./Cartesian2-8dbd81c1","./Check-c47ad5ed","./when-695b7bde","./Math-09ca1a10","./combine-e8814f60","./RuntimeError-c71a6766"],function(e,R,o,T,k,d,W){"use strict";function t(e){this._ellipsoid=T.defaultValue(e,R.Ellipsoid.WGS84),this._semimajorAxis=this._ellipsoid.maximumRadius,this._oneOverSemimajorAxis=1/this._semimajorAxis}Object.defineProperties(t.prototype,{ellipsoid:{get:function(){return this._ellipsoid}}}),t.prototype.project=function(e,t){var n=this._semimajorAxis,r=e.longitude*n,n=e.latitude*n,e=e.height;return T.defined(t)?(t.x=r,t.y=n,t.z=e,t):new R.Cartesian3(r,n,e)},t.prototype.unproject=function(e,t){var n=this._oneOverSemimajorAxis,r=e.x*n,n=e.y*n,e=e.z;return T.defined(t)?(t.longitude=r,t.latitude=n,t.height=e,t):new R.Cartographic(r,n,e)};var a=Object.freeze({OUTSIDE:-1,INTERSECTING:0,INSIDE:1});function i(e,t){this.start=T.defaultValue(e,0),this.stop=T.defaultValue(t,0)}function F(e,t,n,r,a,i,s,o,u){this[0]=T.defaultValue(e,0),this[1]=T.defaultValue(r,0),this[2]=T.defaultValue(s,0),this[3]=T.defaultValue(t,0),this[4]=T.defaultValue(a,0),this[5]=T.defaultValue(o,0),this[6]=T.defaultValue(n,0),this[7]=T.defaultValue(i,0),this[8]=T.defaultValue(u,0)}F.packedLength=9,F.pack=function(e,t,n){return n=T.defaultValue(n,0),t[n++]=e[0],t[n++]=e[1],t[n++]=e[2],t[n++]=e[3],t[n++]=e[4],t[n++]=e[5],t[n++]=e[6],t[n++]=e[7],t[n++]=e[8],t},F.unpack=function(e,t,n){return t=T.defaultValue(t,0),(n=T.defined(n)?n:new F)[0]=e[t++],n[1]=e[t++],n[2]=e[t++],n[3]=e[t++],n[4]=e[t++],n[5]=e[t++],n[6]=e[t++],n[7]=e[t++],n[8]=e[t++],n},F.clone=function(e,t){if(T.defined(e))return T.defined(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t):new F(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8])},F.fromArray=function(e,t,n){return t=T.defaultValue(t,0),(n=T.defined(n)?n:new F)[0]=e[t],n[1]=e[t+1],n[2]=e[t+2],n[3]=e[t+3],n[4]=e[t+4],n[5]=e[t+5],n[6]=e[t+6],n[7]=e[t+7],n[8]=e[t+8],n},F.fromColumnMajorArray=function(e,t){return F.clone(e,t)},F.fromRowMajorArray=function(e,t){return T.defined(t)?(t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],t):new F(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},F.fromQuaternion=function(e,t){var n=e.x*e.x,r=e.x*e.y,a=e.x*e.z,c=e.x*e.w,i=e.y*e.y,s=e.y*e.z,o=e.y*e.w,u=e.z*e.z,l=e.z*e.w,e=e.w*e.w,d=n-i-u+e,f=2*(r-l),h=2*(a+o),r=2*(r+l),l=i-n-u+e,p=2*(s-c),a=2*(a-o),o=2*(s+c),s=-n-i+u+e;return T.defined(t)?(t[0]=d,t[1]=r,t[2]=a,t[3]=f,t[4]=l,t[5]=o,t[6]=h,t[7]=p,t[8]=s,t):new F(d,f,h,r,l,p,a,o,s)},F.fromHeadingPitchRoll=function(e,t){var n=Math.cos(-e.pitch),r=Math.cos(-e.heading),a=Math.cos(e.roll),i=Math.sin(-e.pitch),s=Math.sin(-e.heading),e=Math.sin(e.roll),o=n*r,u=-a*s+e*i*r,l=e*s+a*i*r,c=n*s,d=a*r+e*i*s,r=-e*r+a*i*s,s=-i,i=e*n,e=a*n;return T.defined(t)?(t[0]=o,t[1]=c,t[2]=s,t[3]=u,t[4]=d,t[5]=i,t[6]=l,t[7]=r,t[8]=e,t):new F(o,u,l,c,d,r,s,i,e)},F.fromScale=function(e,t){return T.defined(t)?(t[0]=e.x,t[1]=0,t[2]=0,t[3]=0,t[4]=e.y,t[5]=0,t[6]=0,t[7]=0,t[8]=e.z,t):new F(e.x,0,0,0,e.y,0,0,0,e.z)},F.fromUniformScale=function(e,t){return T.defined(t)?(t[0]=e,t[1]=0,t[2]=0,t[3]=0,t[4]=e,t[5]=0,t[6]=0,t[7]=0,t[8]=e,t):new F(e,0,0,0,e,0,0,0,e)},F.fromCrossProduct=function(e,t){return T.defined(t)?(t[0]=0,t[1]=e.z,t[2]=-e.y,t[3]=-e.z,t[4]=0,t[5]=e.x,t[6]=e.y,t[7]=-e.x,t[8]=0,t):new F(0,-e.z,e.y,e.z,0,-e.x,-e.y,e.x,0)},F.fromRotationX=function(e,t){var n=Math.cos(e),e=Math.sin(e);return T.defined(t)?(t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=n,t[5]=e,t[6]=0,t[7]=-e,t[8]=n,t):new F(1,0,0,0,n,-e,0,e,n)},F.fromRotationY=function(e,t){var n=Math.cos(e),e=Math.sin(e);return T.defined(t)?(t[0]=n,t[1]=0,t[2]=-e,t[3]=0,t[4]=1,t[5]=0,t[6]=e,t[7]=0,t[8]=n,t):new F(n,0,e,0,1,0,-e,0,n)},F.fromRotationZ=function(e,t){var n=Math.cos(e),e=Math.sin(e);return T.defined(t)?(t[0]=n,t[1]=e,t[2]=0,t[3]=-e,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t):new F(n,-e,0,e,n,0,0,0,1)},F.toArray=function(e,t){return T.defined(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t):[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},F.getElementIndex=function(e,t){return 3*e+t},F.getColumn=function(e,t,n){var t=3*t,r=e[t],a=e[1+t],e=e[2+t];return n.x=r,n.y=a,n.z=e,n},F.setColumn=function(e,t,n,r){t*=3;return(r=F.clone(e,r))[t]=n.x,r[1+t]=n.y,r[2+t]=n.z,r},F.getRow=function(e,t,n){var r=e[t],a=e[t+3],e=e[t+6];return n.x=r,n.y=a,n.z=e,n},F.setRow=function(e,t,n,r){return(r=F.clone(e,r))[t]=n.x,r[t+3]=n.y,r[t+6]=n.z,r};var n=new R.Cartesian3,r=(F.getScale=function(e,t){return t.x=R.Cartesian3.magnitude(R.Cartesian3.fromElements(e[0],e[1],e[2],n)),t.y=R.Cartesian3.magnitude(R.Cartesian3.fromElements(e[3],e[4],e[5],n)),t.z=R.Cartesian3.magnitude(R.Cartesian3.fromElements(e[6],e[7],e[8],n)),t},new R.Cartesian3),s=(F.getMaximumScale=function(e){return F.getScale(e,r),R.Cartesian3.maximumComponent(r)},F.multiply=function(e,t,n){var r=e[0]*t[0]+e[3]*t[1]+e[6]*t[2],a=e[1]*t[0]+e[4]*t[1]+e[7]*t[2],i=e[2]*t[0]+e[5]*t[1]+e[8]*t[2],s=e[0]*t[3]+e[3]*t[4]+e[6]*t[5],o=e[1]*t[3]+e[4]*t[4]+e[7]*t[5],u=e[2]*t[3]+e[5]*t[4]+e[8]*t[5],l=e[0]*t[6]+e[3]*t[7]+e[6]*t[8],c=e[1]*t[6]+e[4]*t[7]+e[7]*t[8],e=e[2]*t[6]+e[5]*t[7]+e[8]*t[8];return n[0]=r,n[1]=a,n[2]=i,n[3]=s,n[4]=o,n[5]=u,n[6]=l,n[7]=c,n[8]=e,n},F.add=function(e,t,n){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3],n[4]=e[4]+t[4],n[5]=e[5]+t[5],n[6]=e[6]+t[6],n[7]=e[7]+t[7],n[8]=e[8]+t[8],n},F.subtract=function(e,t,n){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n[3]=e[3]-t[3],n[4]=e[4]-t[4],n[5]=e[5]-t[5],n[6]=e[6]-t[6],n[7]=e[7]-t[7],n[8]=e[8]-t[8],n},F.multiplyByVector=function(e,t,n){var r=t.x,a=t.y,t=t.z,i=e[0]*r+e[3]*a+e[6]*t,s=e[1]*r+e[4]*a+e[7]*t,r=e[2]*r+e[5]*a+e[8]*t;return n.x=i,n.y=s,n.z=r,n},F.multiplyByScalar=function(e,t,n){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n[4]=e[4]*t,n[5]=e[5]*t,n[6]=e[6]*t,n[7]=e[7]*t,n[8]=e[8]*t,n},F.multiplyByScale=function(e,t,n){return n[0]=e[0]*t.x,n[1]=e[1]*t.x,n[2]=e[2]*t.x,n[3]=e[3]*t.y,n[4]=e[4]*t.y,n[5]=e[5]*t.y,n[6]=e[6]*t.z,n[7]=e[7]*t.z,n[8]=e[8]*t.z,n},F.negate=function(e,t){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=-e[7],t[8]=-e[8],t},F.transpose=function(e,t){var n=e[0],r=e[3],a=e[6],i=e[1],s=e[4],o=e[7],u=e[2],l=e[5],e=e[8];return t[0]=n,t[1]=r,t[2]=a,t[3]=i,t[4]=s,t[5]=o,t[6]=u,t[7]=l,t[8]=e,t},new R.Cartesian3(1,1,1));F.getRotation=function(e,t){var n=R.Cartesian3.divideComponents(s,F.getScale(e,r),r);return t=F.multiplyByScale(e,n,t)};var v=[1,0,0],x=[2,2,1];var E=new F,O=new F,u=(F.computeEigenDecomposition=function(c,e){for(var d=k.CesiumMath.EPSILON20,f=0,h=0,p=(e=T.defined(e)?e:{}).unitary=F.clone(F.IDENTITY,e.unitary),t=e.diagonal=F.clone(c,e.diagonal),m=d*function(e){for(var t=0,n=0;n<9;++n){var r=e[n];t+=r*r}return Math.sqrt(t)}(t);h<10&&function(e){for(var t=0,n=0;n<3;++n){var r=e[F.getElementIndex(x[n],v[n])];t+=2*r*r}return Math.sqrt(t)}(t)>m;){a=l=u=o=C=A=s=i=y=a=r=n=void 0;for(var n=t,r=E,a=k.CesiumMath.EPSILON15,y=0,i=1,s=0;s<3;++s){var A=Math.abs(n[F.getElementIndex(x[s],v[s])]);y<A&&(i=s,y=A)}var C=1,o=0,u=v[i],l=x[i];Math.abs(n[F.getElementIndex(l,u)])>a&&(o=(a=(a=(n[F.getElementIndex(l,l)]-n[F.getElementIndex(u,u)])/2/n[F.getElementIndex(l,u)])<0?-1/(-a+Math.sqrt(1+a*a)):1/(a+Math.sqrt(1+a*a)))*(C=1/Math.sqrt(1+a*a))),(r=F.clone(F.IDENTITY,r))[F.getElementIndex(u,u)]=r[F.getElementIndex(l,l)]=C,r[F.getElementIndex(l,u)]=o,r[F.getElementIndex(u,l)]=-o,F.transpose(E,O),F.multiply(t,E,t),F.multiply(O,t,t),F.multiply(p,E,p),2<++f&&(++h,f=0)}return e},F.abs=function(e,t){return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t[4]=Math.abs(e[4]),t[5]=Math.abs(e[5]),t[6]=Math.abs(e[6]),t[7]=Math.abs(e[7]),t[8]=Math.abs(e[8]),t},F.determinant=function(e){var t=e[0],n=e[3],r=e[6],a=e[1],i=e[4],s=e[7],o=e[2],u=e[5],e=e[8];return t*(i*e-u*s)+a*(u*r-n*e)+o*(n*s-i*r)},F.inverse=function(e,t){var n=e[0],r=e[1],a=e[2],i=e[3],s=e[4],o=e[5],u=e[6],c=e[7],l=e[8],e=F.determinant(e),l=(t[0]=s*l-c*o,t[1]=c*a-r*l,t[2]=r*o-s*a,t[3]=u*o-i*l,t[4]=n*l-u*a,t[5]=i*a-n*o,t[6]=i*c-u*s,t[7]=u*r-n*c,t[8]=n*s-i*r,1/e);return F.multiplyByScalar(t,l,t)},new F);function B(e,t,n,r){this.x=T.defaultValue(e,0),this.y=T.defaultValue(t,0),this.z=T.defaultValue(n,0),this.w=T.defaultValue(r,0)}F.inverseTranspose=function(e,t){return F.inverse(F.transpose(e,u),t)},F.equals=function(e,t){return e===t||T.defined(e)&&T.defined(t)&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]},F.equalsEpsilon=function(e,t,n){return n=T.defaultValue(n,0),e===t||T.defined(e)&&T.defined(t)&&Math.abs(e[0]-t[0])<=n&&Math.abs(e[1]-t[1])<=n&&Math.abs(e[2]-t[2])<=n&&Math.abs(e[3]-t[3])<=n&&Math.abs(e[4]-t[4])<=n&&Math.abs(e[5]-t[5])<=n&&Math.abs(e[6]-t[6])<=n&&Math.abs(e[7]-t[7])<=n&&Math.abs(e[8]-t[8])<=n},F.IDENTITY=Object.freeze(new F(1,0,0,0,1,0,0,0,1)),F.ZERO=Object.freeze(new F(0,0,0,0,0,0,0,0,0)),F.COLUMN0ROW0=0,F.COLUMN0ROW1=1,F.COLUMN0ROW2=2,F.COLUMN1ROW0=3,F.COLUMN1ROW1=4,F.COLUMN1ROW2=5,F.COLUMN2ROW0=6,F.COLUMN2ROW1=7,F.COLUMN2ROW2=8,Object.defineProperties(F.prototype,{length:{get:function(){return F.packedLength}}}),F.prototype.clone=function(e){return F.clone(this,e)},F.prototype.equals=function(e){return F.equals(this,e)},F.equalsArray=function(e,t,n){return e[0]===t[n]&&e[1]===t[n+1]&&e[2]===t[n+2]&&e[3]===t[n+3]&&e[4]===t[n+4]&&e[5]===t[n+5]&&e[6]===t[n+6]&&e[7]===t[n+7]&&e[8]===t[n+8]},F.prototype.equalsEpsilon=function(e,t){return F.equalsEpsilon(this,e,t)},F.prototype.toString=function(){return"("+this[0]+", "+this[3]+", "+this[6]+")\n("+this[1]+", "+this[4]+", "+this[7]+")\n("+this[2]+", "+this[5]+", "+this[8]+")"},B.fromElements=function(e,t,n,r,a){return T.defined(a)?(a.x=e,a.y=t,a.z=n,a.w=r,a):new B(e,t,n,r)},B.fromColor=function(e,t){return T.defined(t)?(t.x=e.red,t.y=e.green,t.z=e.blue,t.w=e.alpha,t):new B(e.red,e.green,e.blue,e.alpha)},B.clone=function(e,t){if(T.defined(e))return T.defined(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t):new B(e.x,e.y,e.z,e.w)},B.packedLength=4,B.pack=function(e,t,n){return n=T.defaultValue(n,0),t[n++]=e.x,t[n++]=e.y,t[n++]=e.z,t[n]=e.w,t},B.unpack=function(e,t,n){return t=T.defaultValue(t,0),(n=T.defined(n)?n:new B).x=e[t++],n.y=e[t++],n.z=e[t++],n.w=e[t],n},B.packArray=function(e,t){var n=e.length,r=4*n;if(T.defined(t)){if(!Array.isArray(t)&&t.length!==r)throw new o.DeveloperError("If result is a typed array, it must have exactly array.length * 4 elements");t.length!==r&&(t.length=r)}else t=new Array(r);for(var a=0;a<n;++a)B.pack(e[a],t,4*a);return t},B.unpackArray=function(e,t){var n=e.length;T.defined(t)?t.length=n/4:t=new Array(n/4);for(var r=0;r<n;r+=4){var a=r/4;t[a]=B.unpack(e,r,t[a])}return t},B.fromArray=B.unpack,B.maximumComponent=function(e){return Math.max(e.x,e.y,e.z,e.w)},B.minimumComponent=function(e){return Math.min(e.x,e.y,e.z,e.w)},B.minimumByComponent=function(e,t,n){return n.x=Math.min(e.x,t.x),n.y=Math.min(e.y,t.y),n.z=Math.min(e.z,t.z),n.w=Math.min(e.w,t.w),n},B.maximumByComponent=function(e,t,n){return n.x=Math.max(e.x,t.x),n.y=Math.max(e.y,t.y),n.z=Math.max(e.z,t.z),n.w=Math.max(e.w,t.w),n},B.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w},B.magnitude=function(e){return Math.sqrt(B.magnitudeSquared(e))};var l=new B,h=(B.distance=function(e,t){return B.subtract(e,t,l),B.magnitude(l)},B.distanceSquared=function(e,t){return B.subtract(e,t,l),B.magnitudeSquared(l)},B.normalize=function(e,t){var n=B.magnitude(e);return t.x=e.x/n,t.y=e.y/n,t.z=e.z/n,t.w=e.w/n,t},B.dot=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w},B.multiplyComponents=function(e,t,n){return n.x=e.x*t.x,n.y=e.y*t.y,n.z=e.z*t.z,n.w=e.w*t.w,n},B.divideComponents=function(e,t,n){return n.x=e.x/t.x,n.y=e.y/t.y,n.z=e.z/t.z,n.w=e.w/t.w,n},B.add=function(e,t,n){return n.x=e.x+t.x,n.y=e.y+t.y,n.z=e.z+t.z,n.w=e.w+t.w,n},B.subtract=function(e,t,n){return n.x=e.x-t.x,n.y=e.y-t.y,n.z=e.z-t.z,n.w=e.w-t.w,n},B.multiplyByScalar=function(e,t,n){return n.x=e.x*t,n.y=e.y*t,n.z=e.z*t,n.w=e.w*t,n},B.divideByScalar=function(e,t,n){return n.x=e.x/t,n.y=e.y/t,n.z=e.z/t,n.w=e.w/t,n},B.negate=function(e,t){return t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=-e.w,t},B.abs=function(e,t){return t.x=Math.abs(e.x),t.y=Math.abs(e.y),t.z=Math.abs(e.z),t.w=Math.abs(e.w),t},new B),p=(B.lerp=function(e,t,n,r){return B.multiplyByScalar(t,n,h),r=B.multiplyByScalar(e,1-n,r),B.add(h,r,r)},new B),m=(B.mostOrthogonalAxis=function(e,t){e=B.normalize(e,p);return B.abs(e,e),t=e.x<=e.y?e.x<=e.z?e.x<=e.w?B.clone(B.UNIT_X,t):B.clone(B.UNIT_W,t):e.z<=e.w?B.clone(B.UNIT_Z,t):B.clone(B.UNIT_W,t):e.y<=e.z?e.y<=e.w?B.clone(B.UNIT_Y,t):B.clone(B.UNIT_W,t):e.z<=e.w?B.clone(B.UNIT_Z,t):B.clone(B.UNIT_W,t)},B.equals=function(e,t){return e===t||T.defined(e)&&T.defined(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.w===t.w},B.equalsArray=function(e,t,n){return e.x===t[n]&&e.y===t[n+1]&&e.z===t[n+2]&&e.w===t[n+3]},B.equalsEpsilon=function(e,t,n,r){return e===t||T.defined(e)&&T.defined(t)&&k.CesiumMath.equalsEpsilon(e.x,t.x,n,r)&&k.CesiumMath.equalsEpsilon(e.y,t.y,n,r)&&k.CesiumMath.equalsEpsilon(e.z,t.z,n,r)&&k.CesiumMath.equalsEpsilon(e.w,t.w,n,r)},B.ZERO=Object.freeze(new B(0,0,0,0)),B.UNIT_X=Object.freeze(new B(1,0,0,0)),B.UNIT_Y=Object.freeze(new B(0,1,0,0)),B.UNIT_Z=Object.freeze(new B(0,0,1,0)),B.UNIT_W=Object.freeze(new B(0,0,0,1)),B.prototype.clone=function(e){return B.clone(this,e)},B.prototype.equals=function(e){return B.equals(this,e)},B.prototype.equalsEpsilon=function(e,t,n){return B.equalsEpsilon(this,e,t,n)},B.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+", "+this.w+")"},new Float32Array(1)),y=new Uint8Array(m.buffer),A=new Uint32Array([287454020]),C=68===new Uint8Array(A.buffer)[0];function L(e,t,n,r,a,i,s,o,u,l,c,d,f,h,p,m){this[0]=T.defaultValue(e,0),this[1]=T.defaultValue(a,0),this[2]=T.defaultValue(u,0),this[3]=T.defaultValue(f,0),this[4]=T.defaultValue(t,0),this[5]=T.defaultValue(i,0),this[6]=T.defaultValue(l,0),this[7]=T.defaultValue(h,0),this[8]=T.defaultValue(n,0),this[9]=T.defaultValue(s,0),this[10]=T.defaultValue(c,0),this[11]=T.defaultValue(p,0),this[12]=T.defaultValue(r,0),this[13]=T.defaultValue(o,0),this[14]=T.defaultValue(d,0),this[15]=T.defaultValue(m,0)}B.packFloat=function(e,t){return T.defined(t)||(t=new B),m[0]=e,C?(t.x=y[0],t.y=y[1],t.z=y[2],t.w=y[3]):(t.x=y[3],t.y=y[2],t.z=y[1],t.w=y[0]),t},B.unpackFloat=function(e){return C?(y[0]=e.x,y[1]=e.y,y[2]=e.z,y[3]=e.w):(y[0]=e.w,y[1]=e.z,y[2]=e.y,y[3]=e.x),m[0]},L.packedLength=16,L.pack=function(e,t,n){return n=T.defaultValue(n,0),t[n++]=e[0],t[n++]=e[1],t[n++]=e[2],t[n++]=e[3],t[n++]=e[4],t[n++]=e[5],t[n++]=e[6],t[n++]=e[7],t[n++]=e[8],t[n++]=e[9],t[n++]=e[10],t[n++]=e[11],t[n++]=e[12],t[n++]=e[13],t[n++]=e[14],t[n]=e[15],t},L.unpack=function(e,t,n){return t=T.defaultValue(t,0),(n=T.defined(n)?n:new L)[0]=e[t++],n[1]=e[t++],n[2]=e[t++],n[3]=e[t++],n[4]=e[t++],n[5]=e[t++],n[6]=e[t++],n[7]=e[t++],n[8]=e[t++],n[9]=e[t++],n[10]=e[t++],n[11]=e[t++],n[12]=e[t++],n[13]=e[t++],n[14]=e[t++],n[15]=e[t],n},L.clone=function(e,t){if(T.defined(e))return T.defined(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t):new L(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15])},L.fromArray=L.unpack,L.fromColumnMajorArray=function(e,t){return L.clone(e,t)},L.fromRowMajorArray=function(e,t){return T.defined(t)?(t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15],t):new L(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},L.fromRotationTranslation=function(e,t,n){return t=T.defaultValue(t,R.Cartesian3.ZERO),T.defined(n)?(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=0,n[4]=e[3],n[5]=e[4],n[6]=e[5],n[7]=0,n[8]=e[6],n[9]=e[7],n[10]=e[8],n[11]=0,n[12]=t.x,n[13]=t.y,n[14]=t.z,n[15]=1,n):new L(e[0],e[3],e[6],t.x,e[1],e[4],e[7],t.y,e[2],e[5],e[8],t.z,0,0,0,1)},L.fromTranslationQuaternionRotationScale=function(e,t,n,r){T.defined(r)||(r=new L);var a=n.x,i=n.y,n=n.z,s=t.x*t.x,o=t.x*t.y,u=t.x*t.z,c=t.x*t.w,l=t.y*t.y,d=t.y*t.z,f=t.y*t.w,h=t.z*t.z,p=t.z*t.w,t=t.w*t.w,m=2*(o-p),y=2*(u+f),o=2*(o+p),p=l-s-h+t,A=2*(d-c),u=2*(u-f),f=2*(d+c),d=-s-l+h+t;return r[0]=(s-l-h+t)*a,r[1]=o*a,r[2]=u*a,r[3]=0,r[4]=m*i,r[5]=p*i,r[6]=f*i,r[7]=0,r[8]=y*n,r[9]=A*n,r[10]=d*n,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,r},L.fromTranslationRotationScale=function(e,t){return L.fromTranslationQuaternionRotationScale(e.translation,e.rotation,e.scale,t)},L.fromTranslation=function(e,t){return L.fromRotationTranslation(F.IDENTITY,e,t)},L.fromScale=function(e,t){return T.defined(t)?(t[0]=e.x,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e.y,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e.z,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t):new L(e.x,0,0,0,0,e.y,0,0,0,0,e.z,0,0,0,0,1)},L.fromUniformScale=function(e,t){return T.defined(t)?(t[0]=e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t):new L(e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1)};var S=new R.Cartesian3,_=new R.Cartesian3,b=new R.Cartesian3,M=(L.fromCamera=function(e,t){var n=e.position,r=e.direction,e=e.up,r=(R.Cartesian3.normalize(r,S),R.Cartesian3.normalize(R.Cartesian3.cross(S,e,_),_),R.Cartesian3.normalize(R.Cartesian3.cross(_,S,b),b),_.x),e=_.y,a=_.z,i=S.x,s=S.y,o=S.z,u=b.x,c=b.y,d=b.z,l=n.x,f=n.y,n=n.z,h=r*-l+e*-f+a*-n,p=u*-l+c*-f+d*-n,l=i*l+s*f+o*n;return T.defined(t)?(t[0]=r,t[1]=u,t[2]=-i,t[3]=0,t[4]=e,t[5]=c,t[6]=-s,t[7]=0,t[8]=a,t[9]=d,t[10]=-o,t[11]=0,t[12]=h,t[13]=p,t[14]=l,t[15]=1,t):new L(r,e,a,h,u,c,d,p,-i,-s,-o,l,0,0,0,1)},L.computePerspectiveFieldOfView=function(e,t,n,r,a){var e=1/Math.tan(.5*e),i=(r+n)/(n-r),n=2*r*n/(n-r);return a[0]=e/t,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=e,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=i,a[11]=-1,a[12]=0,a[13]=0,a[14]=n,a[15]=0,a},L.computeOrthographicOffCenter=function(e,t,n,r,a,i,s){var o=1/(t-e),u=1/(r-n),l=1/(i-a),t=-(t+e)*o,e=-(r+n)*u,r=-(i+a)*l;return u*=2,l*=-2,s[0]=o*=2,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=u,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=l,s[11]=0,s[12]=t,s[13]=e,s[14]=r,s[15]=1,s},L.computePerspectiveOffCenter=function(e,t,n,r,a,i,s){var o=2*a/(r-n),u=(t+e)/(t-e),r=(r+n)/(r-n),n=-(i+a)/(i-a),i=-2*i*a/(i-a);return s[0]=2*a/(t-e),s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=o,s[6]=0,s[7]=0,s[8]=u,s[9]=r,s[10]=n,s[11]=-1,s[12]=0,s[13]=0,s[14]=i,s[15]=0,s},L.computeInfinitePerspectiveOffCenter=function(e,t,n,r,a,i){var s=2*a/(r-n),o=(t+e)/(t-e),r=(r+n)/(r-n),n=-2*a;return i[0]=2*a/(t-e),i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=s,i[6]=0,i[7]=0,i[8]=o,i[9]=r,i[10]=-1,i[11]=-1,i[12]=0,i[13]=0,i[14]=n,i[15]=0,i},L.computeViewportTransformation=function(e,t,n,r){T.defined(r)||(r=new L),e=T.defaultValue(e,T.defaultValue.EMPTY_OBJECT);var a=T.defaultValue(e.x,0),i=T.defaultValue(e.y,0),s=T.defaultValue(e.width,0),e=T.defaultValue(e.height,0),s=(t=T.defaultValue(t,0),.5*s),e=.5*e,n=.5*((n=T.defaultValue(n,1))-t),o=e,u=n,a=a+s,i=i+e,e=t+n;return r[0]=s,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=o,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=u,r[11]=0,r[12]=a,r[13]=i,r[14]=e,r[15]=1,r},L.computeView=function(e,t,n,r,a){return a[0]=r.x,a[1]=n.x,a[2]=-t.x,a[3]=0,a[4]=r.y,a[5]=n.y,a[6]=-t.y,a[7]=0,a[8]=r.z,a[9]=n.z,a[10]=-t.z,a[11]=0,a[12]=-R.Cartesian3.dot(r,e),a[13]=-R.Cartesian3.dot(n,e),a[14]=R.Cartesian3.dot(t,e),a[15]=1,a},L.toArray=function(e,t){return T.defined(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t):[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]},L.getElementIndex=function(e,t){return 4*e+t},L.getColumn=function(e,t,n){var t=4*t,r=e[t],a=e[1+t],i=e[2+t],e=e[3+t];return n.x=r,n.y=a,n.z=i,n.w=e,n},L.setColumn=function(e,t,n,r){t*=4;return(r=L.clone(e,r))[t]=n.x,r[1+t]=n.y,r[2+t]=n.z,r[3+t]=n.w,r},L.setTranslation=function(e,t,n){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=t.x,n[13]=t.y,n[14]=t.z,n[15]=e[15],n},new R.Cartesian3),z=(L.setScale=function(e,t,n){var r=L.getScale(e,M),t=R.Cartesian3.divideComponents(t,r,M);return L.multiplyByScale(e,t,n)},L.getRow=function(e,t,n){var r=e[t],a=e[t+4],i=e[t+8],e=e[t+12];return n.x=r,n.y=a,n.z=i,n.w=e,n},L.setRow=function(e,t,n,r){return(r=L.clone(e,r))[t]=n.x,r[t+4]=n.y,r[t+8]=n.z,r[t+12]=n.w,r},new R.Cartesian3),I=(L.getScale=function(e,t){return t.x=R.Cartesian3.magnitude(R.Cartesian3.fromElements(e[0],e[1],e[2],z)),t.y=R.Cartesian3.magnitude(R.Cartesian3.fromElements(e[4],e[5],e[6],z)),t.z=R.Cartesian3.magnitude(R.Cartesian3.fromElements(e[8],e[9],e[10],z)),t},new R.Cartesian3),U=(L.getMaximumScale=function(e){return L.getScale(e,I),R.Cartesian3.maximumComponent(I)},L.multiply=function(e,t,n){var c=e[0],r=e[1],d=e[2],f=e[3],h=e[4],p=e[5],m=e[6],y=e[7],A=e[8],C=e[9],w=e[10],g=e[11],v=e[12],x=e[13],E=e[14],e=e[15],O=t[0],S=t[1],_=t[2],b=t[3],a=t[4],i=t[5],s=t[6],o=t[7],u=t[8],l=t[9],M=t[10],R=t[11],T=t[12],q=t[13],z=t[14],t=t[15],I=r*O+p*S+C*_+x*b,U=d*O+m*S+w*_+E*b,D=f*O+y*S+g*_+e*b,P=c*a+h*i+A*s+v*o,N=r*a+p*i+C*s+x*o,V=d*a+m*i+w*s+E*o,a=f*a+y*i+g*s+e*o,i=c*u+h*l+A*M+v*R,s=r*u+p*l+C*M+x*R,o=d*u+m*l+w*M+E*R,u=f*u+y*l+g*M+e*R,l=c*T+h*q+A*z+v*t,M=r*T+p*q+C*z+x*t,R=d*T+m*q+w*z+E*t,r=f*T+y*q+g*z+e*t;return n[0]=c*O+h*S+A*_+v*b,n[1]=I,n[2]=U,n[3]=D,n[4]=P,n[5]=N,n[6]=V,n[7]=a,n[8]=i,n[9]=s,n[10]=o,n[11]=u,n[12]=l,n[13]=M,n[14]=R,n[15]=r,n},L.add=function(e,t,n){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3],n[4]=e[4]+t[4],n[5]=e[5]+t[5],n[6]=e[6]+t[6],n[7]=e[7]+t[7],n[8]=e[8]+t[8],n[9]=e[9]+t[9],n[10]=e[10]+t[10],n[11]=e[11]+t[11],n[12]=e[12]+t[12],n[13]=e[13]+t[13],n[14]=e[14]+t[14],n[15]=e[15]+t[15],n},L.subtract=function(e,t,n){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n[3]=e[3]-t[3],n[4]=e[4]-t[4],n[5]=e[5]-t[5],n[6]=e[6]-t[6],n[7]=e[7]-t[7],n[8]=e[8]-t[8],n[9]=e[9]-t[9],n[10]=e[10]-t[10],n[11]=e[11]-t[11],n[12]=e[12]-t[12],n[13]=e[13]-t[13],n[14]=e[14]-t[14],n[15]=e[15]-t[15],n},L.multiplyTransformation=function(e,t,n){var r=e[0],a=e[1],i=e[2],s=e[4],o=e[5],u=e[6],l=e[8],c=e[9],d=e[10],f=e[12],h=e[13],e=e[14],p=t[0],m=t[1],y=t[2],A=t[4],C=t[5],w=t[6],g=t[8],v=t[9],x=t[10],E=t[12],O=t[13],t=t[14],S=a*p+o*m+c*y,_=i*p+u*m+d*y,b=r*A+s*C+l*w,M=a*A+o*C+c*w,A=i*A+u*C+d*w,C=r*g+s*v+l*x,w=a*g+o*v+c*x,g=i*g+u*v+d*x,v=r*E+s*O+l*t+f,x=a*E+o*O+c*t+h,f=i*E+u*O+d*t+e;return n[0]=r*p+s*m+l*y,n[1]=S,n[2]=_,n[3]=0,n[4]=b,n[5]=M,n[6]=A,n[7]=0,n[8]=C,n[9]=w,n[10]=g,n[11]=0,n[12]=v,n[13]=x,n[14]=f,n[15]=1,n},L.multiplyByMatrix3=function(e,t,n){var r=e[0],a=e[1],i=e[2],s=e[4],c=e[5],d=e[6],f=e[8],h=e[9],p=e[10],m=t[0],y=t[1],A=t[2],o=t[3],u=t[4],l=t[5],C=t[6],w=t[7],t=t[8],g=a*m+c*y+h*A,v=i*m+d*y+p*A,x=r*o+s*u+f*l,E=a*o+c*u+h*l,o=i*o+d*u+p*l,u=r*C+s*w+f*t,l=a*C+c*w+h*t,a=i*C+d*w+p*t;return n[0]=r*m+s*y+f*A,n[1]=g,n[2]=v,n[3]=0,n[4]=x,n[5]=E,n[6]=o,n[7]=0,n[8]=u,n[9]=l,n[10]=a,n[11]=0,n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n},L.multiplyByTranslation=function(e,t,n){var r=t.x,a=t.y,t=t.z,i=r*e[0]+a*e[4]+t*e[8]+e[12],s=r*e[1]+a*e[5]+t*e[9]+e[13],r=r*e[2]+a*e[6]+t*e[10]+e[14];return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=i,n[13]=s,n[14]=r,n[15]=e[15],n},new R.Cartesian3),j=(L.multiplyByUniformScale=function(e,t,n){return U.x=t,U.y=t,U.z=t,L.multiplyByScale(e,U,n)},L.multiplyByScale=function(e,t,n){var r=t.x,a=t.y,t=t.z;return 1===r&&1===a&&1===t?L.clone(e,n):(n[0]=r*e[0],n[1]=r*e[1],n[2]=r*e[2],n[3]=0,n[4]=a*e[4],n[5]=a*e[5],n[6]=a*e[6],n[7]=0,n[8]=t*e[8],n[9]=t*e[9],n[10]=t*e[10],n[11]=0,n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=1,n)},L.multiplyByVector=function(e,t,n){var r=t.x,a=t.y,i=t.z,t=t.w,s=e[0]*r+e[4]*a+e[8]*i+e[12]*t,o=e[1]*r+e[5]*a+e[9]*i+e[13]*t,u=e[2]*r+e[6]*a+e[10]*i+e[14]*t,r=e[3]*r+e[7]*a+e[11]*i+e[15]*t;return n.x=s,n.y=o,n.z=u,n.w=r,n},L.multiplyByPointAsVector=function(e,t,n){var r=t.x,a=t.y,t=t.z,i=e[0]*r+e[4]*a+e[8]*t,s=e[1]*r+e[5]*a+e[9]*t,r=e[2]*r+e[6]*a+e[10]*t;return n.x=i,n.y=s,n.z=r,n},L.multiplyByPoint=function(e,t,n){var r=t.x,a=t.y,t=t.z,i=e[0]*r+e[4]*a+e[8]*t+e[12],s=e[1]*r+e[5]*a+e[9]*t+e[13],r=e[2]*r+e[6]*a+e[10]*t+e[14];return n.x=i,n.y=s,n.z=r,n},L.multiplyByScalar=function(e,t,n){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n[4]=e[4]*t,n[5]=e[5]*t,n[6]=e[6]*t,n[7]=e[7]*t,n[8]=e[8]*t,n[9]=e[9]*t,n[10]=e[10]*t,n[11]=e[11]*t,n[12]=e[12]*t,n[13]=e[13]*t,n[14]=e[14]*t,n[15]=e[15]*t,n},L.negate=function(e,t){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=-e[7],t[8]=-e[8],t[9]=-e[9],t[10]=-e[10],t[11]=-e[11],t[12]=-e[12],t[13]=-e[13],t[14]=-e[14],t[15]=-e[15],t},L.transpose=function(e,t){var n=e[1],r=e[2],a=e[3],i=e[6],s=e[7],o=e[11];return t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=i,t[10]=e[10],t[11]=e[14],t[12]=a,t[13]=s,t[14]=o,t[15]=e[15],t},L.abs=function(e,t){return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t[4]=Math.abs(e[4]),t[5]=Math.abs(e[5]),t[6]=Math.abs(e[6]),t[7]=Math.abs(e[7]),t[8]=Math.abs(e[8]),t[9]=Math.abs(e[9]),t[10]=Math.abs(e[10]),t[11]=Math.abs(e[11]),t[12]=Math.abs(e[12]),t[13]=Math.abs(e[13]),t[14]=Math.abs(e[14]),t[15]=Math.abs(e[15]),t},L.equals=function(e,t){return e===t||T.defined(e)&&T.defined(t)&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[3]===t[3]&&e[7]===t[7]&&e[11]===t[11]&&e[15]===t[15]},L.equalsEpsilon=function(e,t,n){return n=T.defaultValue(n,0),e===t||T.defined(e)&&T.defined(t)&&Math.abs(e[0]-t[0])<=n&&Math.abs(e[1]-t[1])<=n&&Math.abs(e[2]-t[2])<=n&&Math.abs(e[3]-t[3])<=n&&Math.abs(e[4]-t[4])<=n&&Math.abs(e[5]-t[5])<=n&&Math.abs(e[6]-t[6])<=n&&Math.abs(e[7]-t[7])<=n&&Math.abs(e[8]-t[8])<=n&&Math.abs(e[9]-t[9])<=n&&Math.abs(e[10]-t[10])<=n&&Math.abs(e[11]-t[11])<=n&&Math.abs(e[12]-t[12])<=n&&Math.abs(e[13]-t[13])<=n&&Math.abs(e[14]-t[14])<=n&&Math.abs(e[15]-t[15])<=n},L.getTranslation=function(e,t){return t.x=e[12],t.y=e[13],t.z=e[14],t},L.getMatrix3=function(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},new F),Y=new F,H=new B,Z=new B(0,0,0,1),D=(L.inverse=function(e,t){var n=e[0],r=e[4],a=e[8],i=e[12],s=e[1],o=e[5],u=e[9],c=e[13],d=e[2],f=e[6],h=e[10],p=e[14],m=e[3],y=e[7],l=e[11],A=e[15],C=h*A,w=p*l,g=f*A,v=p*y,x=f*l,E=h*y,O=d*A,S=p*m,_=d*l,b=h*m,M=d*y,R=f*m,T=C*o+v*u+x*c-(w*o+g*u+E*c),q=w*s+O*u+b*c-(C*s+S*u+_*c),z=g*s+S*o+M*c-(v*s+O*o+R*c),I=E*s+_*o+R*u-(x*s+b*o+M*u),U=w*r+g*a+E*i-(C*r+v*a+x*i),D=C*n+S*a+_*i-(w*n+O*a+b*i),P=v*n+O*r+R*i-(g*n+S*r+M*i),N=x*n+b*r+M*a-(E*n+_*r+R*a),V=(C=a*c)*y+(v=i*o)*l+(x=r*u)*A-((w=i*u)*y+(g=r*c)*l+(E=a*o)*A),c=w*m+(O=n*c)*l+(b=a*s)*A-(C*m+(S=i*s)*l+(_=n*u)*A),u=g*m+S*y+(M=n*o)*A-(v*m+O*y+(R=r*s)*A),o=E*m+_*y+R*l-(x*m+b*y+M*l),s=g*h+E*p+w*f-(x*p+C*f+v*h),A=_*p+C*d+S*h-(O*h+b*p+w*d),m=O*f+R*p+v*d-(M*p+g*d+S*f),y=M*h+x*d+b*f-(_*f+R*h+E*d),l=n*T+r*q+a*z+i*I;if(Math.abs(l)<k.CesiumMath.EPSILON21){if(F.equalsEpsilon(L.getMatrix3(e,j),Y,k.CesiumMath.EPSILON7)&&B.equals(L.getRow(e,3,H),Z))return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=0,t[11]=0,t[12]=-e[12],t[13]=-e[13],t[14]=-e[14],t[15]=1,t;throw new W.RuntimeError("matrix is not invertible because its determinate is zero.")}return t[0]=T*(l=1/l),t[1]=q*l,t[2]=z*l,t[3]=I*l,t[4]=U*l,t[5]=D*l,t[6]=P*l,t[7]=N*l,t[8]=V*l,t[9]=c*l,t[10]=u*l,t[11]=o*l,t[12]=s*l,t[13]=A*l,t[14]=m*l,t[15]=y*l,t},L.inverseTransformation=function(e,t){var n=e[0],r=e[1],a=e[2],i=e[4],s=e[5],o=e[6],c=e[8],d=e[9],f=e[10],u=e[12],l=e[13],e=e[14],h=-n*u-r*l-a*e,p=-i*u-s*l-o*e,u=-c*u-d*l-f*e;return t[0]=n,t[1]=i,t[2]=c,t[3]=0,t[4]=r,t[5]=s,t[6]=d,t[7]=0,t[8]=a,t[9]=o,t[10]=f,t[11]=0,t[12]=h,t[13]=p,t[14]=u,t[15]=1,t},new L);function q(e,t){this.center=R.Cartesian3.clone(T.defaultValue(e,R.Cartesian3.ZERO)),this.radius=T.defaultValue(t,0)}L.inverseTranspose=function(e,t){return L.inverse(L.transpose(e,D),t)},L.IDENTITY=Object.freeze(new L(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)),L.ZERO=Object.freeze(new L(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)),L.COLUMN0ROW0=0,L.COLUMN0ROW1=1,L.COLUMN0ROW2=2,L.COLUMN0ROW3=3,L.COLUMN1ROW0=4,L.COLUMN1ROW1=5,L.COLUMN1ROW2=6,L.COLUMN1ROW3=7,L.COLUMN2ROW0=8,L.COLUMN2ROW1=9,L.COLUMN2ROW2=10,L.COLUMN2ROW3=11,L.COLUMN3ROW0=12,L.COLUMN3ROW1=13,L.COLUMN3ROW2=14,L.COLUMN3ROW3=15,Object.defineProperties(L.prototype,{length:{get:function(){return L.packedLength}}}),L.prototype.clone=function(e){return L.clone(this,e)},L.prototype.equals=function(e){return L.equals(this,e)},L.equalsArray=function(e,t,n){return e[0]===t[n]&&e[1]===t[n+1]&&e[2]===t[n+2]&&e[3]===t[n+3]&&e[4]===t[n+4]&&e[5]===t[n+5]&&e[6]===t[n+6]&&e[7]===t[n+7]&&e[8]===t[n+8]&&e[9]===t[n+9]&&e[10]===t[n+10]&&e[11]===t[n+11]&&e[12]===t[n+12]&&e[13]===t[n+13]&&e[14]===t[n+14]&&e[15]===t[n+15]},L.prototype.equalsEpsilon=function(e,t){return L.equalsEpsilon(this,e,t)},L.prototype.toString=function(){return"("+this[0]+", "+this[4]+", "+this[8]+", "+this[12]+")\n("+this[1]+", "+this[5]+", "+this[9]+", "+this[13]+")\n("+this[2]+", "+this[6]+", "+this[10]+", "+this[14]+")\n("+this[3]+", "+this[7]+", "+this[11]+", "+this[15]+")"};for(var P=new R.Cartesian3,N=new R.Cartesian3,V=new R.Cartesian3,X=new R.Cartesian3,J=new R.Cartesian3,G=new R.Cartesian3,Q=new R.Cartesian3,K=new R.Cartesian3,$=new R.Cartesian3,ee=new R.Cartesian3,te=new R.Cartesian3,ne=new R.Cartesian3,re=4/3*k.CesiumMath.PI,ae=(q.fromPoints=function(e,t){if(T.defined(t)||(t=new q),!T.defined(e)||0===e.length)return t.center=R.Cartesian3.clone(R.Cartesian3.ZERO,t.center),t.radius=0,t;for(var n=R.Cartesian3.clone(e[0],Q),c=R.Cartesian3.clone(n,P),d=R.Cartesian3.clone(n,N),f=R.Cartesian3.clone(n,V),h=R.Cartesian3.clone(n,X),p=R.Cartesian3.clone(n,J),m=R.Cartesian3.clone(n,G),y=e.length,r=1;r<y;r++){R.Cartesian3.clone(e[r],n);var A=n.x,C=n.y,w=n.z;A<c.x&&R.Cartesian3.clone(n,c),A>h.x&&R.Cartesian3.clone(n,h),C<d.y&&R.Cartesian3.clone(n,d),C>p.y&&R.Cartesian3.clone(n,p),w<f.z&&R.Cartesian3.clone(n,f),w>m.z&&R.Cartesian3.clone(n,m)}var a=R.Cartesian3.magnitudeSquared(R.Cartesian3.subtract(h,c,K)),i=R.Cartesian3.magnitudeSquared(R.Cartesian3.subtract(p,d,K)),g=R.Cartesian3.magnitudeSquared(R.Cartesian3.subtract(m,f,K)),v=c,s=h,x=a,o=(a<i&&(x=i,v=d,s=p),x<g&&(x=g,v=f,s=m),$),E=(o.x=.5*(v.x+s.x),o.y=.5*(v.y+s.y),o.z=.5*(v.z+s.z),R.Cartesian3.magnitudeSquared(R.Cartesian3.subtract(s,o,K))),u=Math.sqrt(E),a=ee,i=(a.x=c.x,a.y=d.y,a.z=f.z,te),O=(i.x=h.x,i.y=p.y,i.z=m.z,R.Cartesian3.midpoint(a,i,ne)),S=0;for(r=0;r<y;r++){R.Cartesian3.clone(e[r],n);var _,l=R.Cartesian3.magnitude(R.Cartesian3.subtract(n,O,K)),l=(S<l&&(S=l),R.Cartesian3.magnitudeSquared(R.Cartesian3.subtract(n,o,K)));E<l&&(E=(u=.5*(u+(l=Math.sqrt(l))))*u,o.x=(u*o.x+(_=l-u)*n.x)/l,o.y=(u*o.y+_*n.y)/l,o.z=(u*o.z+_*n.z)/l)}return u<S?(R.Cartesian3.clone(o,t.center),t.radius=u):(R.Cartesian3.clone(O,t.center),t.radius=S),t},new t),ie=new R.Cartesian3,se=new R.Cartesian3,oe=new R.Cartographic,ue=new R.Cartographic,le=(q.fromRectangle2D=function(e,t,n){return q.fromRectangleWithHeights2D(e,t,0,0,n)},q.fromRectangleWithHeights2D=function(e,t,n,r,a){if(T.defined(a)||(a=new q),!T.defined(e))return a.center=R.Cartesian3.clone(R.Cartesian3.ZERO,a.center),a.radius=0,a;t=T.defaultValue(t,ae),R.Rectangle.southwest(e,oe),oe.height=n,R.Rectangle.northeast(e,ue),ue.height=r;var n=t.project(oe,ie),e=t.project(ue,se),r=e.x-n.x,t=e.y-n.y,e=e.z-n.z,i=(a.radius=.5*Math.sqrt(r*r+t*t+e*e),a.center);return i.x=n.x+.5*r,i.y=n.y+.5*t,i.z=n.z+.5*e,a},[]),ce=(q.fromRectangle3D=function(e,t,n,r){if(t=T.defaultValue(t,R.Ellipsoid.WGS84),n=T.defaultValue(n,0),T.defined(r)||(r=new q),!T.defined(e))return r.center=R.Cartesian3.clone(R.Cartesian3.ZERO,r.center),r.radius=0,r;e=R.Rectangle.subsample(e,t,n,le);return q.fromPoints(e,r)},q.fromVertices=function(e,t,c,n){if(T.defined(n)||(n=new q),!T.defined(e)||0===e.length)return n.center=R.Cartesian3.clone(R.Cartesian3.ZERO,n.center),n.radius=0,n;t=T.defaultValue(t,R.Cartesian3.ZERO),c=T.defaultValue(c,3);for(var r=Q,d=(r.x=e[0]+t.x,r.y=e[1]+t.y,r.z=e[2]+t.z,R.Cartesian3.clone(r,P)),f=R.Cartesian3.clone(r,N),h=R.Cartesian3.clone(r,V),p=R.Cartesian3.clone(r,X),m=R.Cartesian3.clone(r,J),y=R.Cartesian3.clone(r,G),A=e.length,a=0;a<A;a+=c){var C=e[a]+t.x,w=e[a+1]+t.y,g=e[a+2]+t.z;r.x=C,r.y=w,r.z=g,C<d.x&&R.Cartesian3.clone(r,d),C>p.x&&R.Cartesian3.clone(r,p),w<f.y&&R.Cartesian3.clone(r,f),w>m.y&&R.Cartesian3.clone(r,m),g<h.z&&R.Cartesian3.clone(r,h),g>y.z&&R.Cartesian3.clone(r,y)}var i=R.Cartesian3.magnitudeSquared(R.Cartesian3.subtract(p,d,K)),s=R.Cartesian3.magnitudeSquared(R.Cartesian3.subtract(m,f,K)),v=R.Cartesian3.magnitudeSquared(R.Cartesian3.subtract(y,h,K)),x=d,E=p,O=i,o=(i<s&&(O=s,x=f,E=m),O<v&&(O=v,x=h,E=y),$),S=(o.x=.5*(x.x+E.x),o.y=.5*(x.y+E.y),o.z=.5*(x.z+E.z),R.Cartesian3.magnitudeSquared(R.Cartesian3.subtract(E,o,K))),u=Math.sqrt(S),i=ee,s=(i.x=d.x,i.y=f.y,i.z=h.z,te),_=(s.x=p.x,s.y=m.y,s.z=y.z,R.Cartesian3.midpoint(i,s,ne)),b=0;for(a=0;a<A;a+=c){r.x=e[a]+t.x,r.y=e[a+1]+t.y,r.z=e[a+2]+t.z;var M,l=R.Cartesian3.magnitude(R.Cartesian3.subtract(r,_,K)),l=(b<l&&(b=l),R.Cartesian3.magnitudeSquared(R.Cartesian3.subtract(r,o,K)));S<l&&(S=(u=.5*(u+(l=Math.sqrt(l))))*u,o.x=(u*o.x+(M=l-u)*r.x)/l,o.y=(u*o.y+M*r.y)/l,o.z=(u*o.z+M*r.z)/l)}return u<b?(R.Cartesian3.clone(o,n.center),n.radius=u):(R.Cartesian3.clone(_,n.center),n.radius=b),n},q.fromEncodedCartesianVertices=function(e,t,n){if(T.defined(n)||(n=new q),!T.defined(e)||!T.defined(t)||e.length!==t.length||0===e.length)return n.center=R.Cartesian3.clone(R.Cartesian3.ZERO,n.center),n.radius=0,n;for(var r=Q,c=(r.x=e[0]+t[0],r.y=e[1]+t[1],r.z=e[2]+t[2],R.Cartesian3.clone(r,P)),d=R.Cartesian3.clone(r,N),f=R.Cartesian3.clone(r,V),h=R.Cartesian3.clone(r,X),p=R.Cartesian3.clone(r,J),m=R.Cartesian3.clone(r,G),y=e.length,a=0;a<y;a+=3){var A=e[a]+t[a],C=e[a+1]+t[a+1],w=e[a+2]+t[a+2];r.x=A,r.y=C,r.z=w,A<c.x&&R.Cartesian3.clone(r,c),A>h.x&&R.Cartesian3.clone(r,h),C<d.y&&R.Cartesian3.clone(r,d),C>p.y&&R.Cartesian3.clone(r,p),w<f.z&&R.Cartesian3.clone(r,f),w>m.z&&R.Cartesian3.clone(r,m)}var i=R.Cartesian3.magnitudeSquared(R.Cartesian3.subtract(h,c,K)),s=R.Cartesian3.magnitudeSquared(R.Cartesian3.subtract(p,d,K)),g=R.Cartesian3.magnitudeSquared(R.Cartesian3.subtract(m,f,K)),v=c,x=h,E=i,o=(i<s&&(E=s,v=d,x=p),E<g&&(E=g,v=f,x=m),$),O=(o.x=.5*(v.x+x.x),o.y=.5*(v.y+x.y),o.z=.5*(v.z+x.z),R.Cartesian3.magnitudeSquared(R.Cartesian3.subtract(x,o,K))),u=Math.sqrt(O),i=ee,s=(i.x=c.x,i.y=d.y,i.z=f.z,te),S=(s.x=h.x,s.y=p.y,s.z=m.z,R.Cartesian3.midpoint(i,s,ne)),_=0;for(a=0;a<y;a+=3){r.x=e[a]+t[a],r.y=e[a+1]+t[a+1],r.z=e[a+2]+t[a+2];var b,l=R.Cartesian3.magnitude(R.Cartesian3.subtract(r,S,K)),l=(_<l&&(_=l),R.Cartesian3.magnitudeSquared(R.Cartesian3.subtract(r,o,K)));O<l&&(O=(u=.5*(u+(l=Math.sqrt(l))))*u,o.x=(u*o.x+(b=l-u)*r.x)/l,o.y=(u*o.y+b*r.y)/l,o.z=(u*o.z+b*r.z)/l)}return u<_?(R.Cartesian3.clone(o,n.center),n.radius=u):(R.Cartesian3.clone(S,n.center),n.radius=_),n},q.fromCornerPoints=function(e,t,n){T.defined(n)||(n=new q);e=R.Cartesian3.midpoint(e,t,n.center);return n.radius=R.Cartesian3.distance(e,t),n},q.fromEllipsoid=function(e,t){return T.defined(t)||(t=new q),R.Cartesian3.clone(R.Cartesian3.ZERO,t.center),t.radius=e.maximumRadius,t},new R.Cartesian3),de=(q.fromBoundingSpheres=function(e,t){if(T.defined(t)||(t=new q),!T.defined(e)||0===e.length)return t.center=R.Cartesian3.clone(R.Cartesian3.ZERO,t.center),t.radius=0,t;var n=e.length;if(1===n)return q.clone(e[0],t);if(2===n)return q.union(e[0],e[1],t);for(var r=[],a=0;a<n;a++)r.push(e[a].center);var i=(t=q.fromPoints(r,t)).center,s=t.radius;for(a=0;a<n;a++)var o=e[a],s=Math.max(s,R.Cartesian3.distance(i,o.center,ce)+o.radius);return t.radius=s,t},new R.Cartesian3),fe=new R.Cartesian3,he=new R.Cartesian3,pe=(q.fromOrientedBoundingBox=function(e,t){T.defined(t)||(t=new q);var n=e.halfAxes,r=F.getColumn(n,0,de),a=F.getColumn(n,1,fe),n=F.getColumn(n,2,he);return R.Cartesian3.add(r,a,r),R.Cartesian3.add(r,n,r),t.center=R.Cartesian3.clone(e.center,t.center),t.radius=R.Cartesian3.magnitude(r),t},q.clone=function(e,t){if(T.defined(e))return T.defined(t)?(t.center=R.Cartesian3.clone(e.center,t.center),t.radius=e.radius,t):new q(e.center,e.radius)},q.packedLength=4,q.pack=function(e,t,n){n=T.defaultValue(n,0);var r=e.center;return t[n++]=r.x,t[n++]=r.y,t[n++]=r.z,t[n]=e.radius,t},q.unpack=function(e,t,n){t=T.defaultValue(t,0);var r=(n=T.defined(n)?n:new q).center;return r.x=e[t++],r.y=e[t++],r.z=e[t++],n.radius=e[t],n},new R.Cartesian3),me=new R.Cartesian3,ye=(q.union=function(e,t,n){T.defined(n)||(n=new q);var r=e.center,a=e.radius,i=t.center,s=t.radius,i=R.Cartesian3.subtract(i,r,pe),o=R.Cartesian3.magnitude(i);if(o+s<=a)return e.clone(n),n;if(o+a<=s)return t.clone(n),n;e=.5*(a+o+s),t=R.Cartesian3.multiplyByScalar(i,(e-a)/o,me);return R.Cartesian3.add(t,r,t),R.Cartesian3.clone(t,n.center),n.radius=e,n},new R.Cartesian3),Ae=(q.expand=function(e,t,n){n=q.clone(e,n);e=R.Cartesian3.magnitude(R.Cartesian3.subtract(t,n.center,ye));return e>n.radius&&(n.radius=e),n},q.intersectPlane=function(e,t){var n=e.center,e=e.radius,r=t.normal,r=R.Cartesian3.dot(r,n)+t.distance;return r<-e?a.OUTSIDE:r<e?a.INTERSECTING:a.INSIDE},q.transform=function(e,t,n){return(n=T.defined(n)?n:new q).center=L.multiplyByPoint(t,e.center,n.center),n.radius=L.getMaximumScale(t)*e.radius,n},new R.Cartesian3),Ce=(q.distanceSquaredTo=function(e,t){t=R.Cartesian3.subtract(e.center,t,Ae),t=R.Cartesian3.magnitude(t)-e.radius;return t<=0?0:t*t},q.transformWithoutScale=function(e,t,n){return(n=T.defined(n)?n:new q).center=L.multiplyByPoint(t,e.center,n.center),n.radius=e.radius,n},new R.Cartesian3),we=(q.computePlaneDistances=function(e,t,n,r){T.defined(r)||(r=new i);t=R.Cartesian3.subtract(e.center,t,Ce),n=R.Cartesian3.dot(n,t);return r.start=n-e.radius,r.stop=n+e.radius,r},new R.Cartesian3),ge=new R.Cartesian3,ve=new R.Cartesian3,xe=new R.Cartesian3,Ee=new R.Cartesian3,Oe=new R.Cartographic,Se=new Array(8),_e=0;_e<8;++_e)Se[_e]=new R.Cartesian3;var be,Me,Re,Te,qe,ze,Ie,Ue,De,Pe,Ne,Ve,Fe,Be,Le,ke,We,je,Ye=new t,He=(q.projectTo2D=function(e,t,c){for(var d=(t=T.defaultValue(t,Ye)).ellipsoid,n=e.center,e=e.radius,r=R.Cartesian3.equals(n,R.Cartesian3.ZERO)?R.Cartesian3.clone(R.Cartesian3.UNIT_X,we):d.geodeticSurfaceNormal(n,we),a=R.Cartesian3.cross(R.Cartesian3.UNIT_Z,r,ge),i=(R.Cartesian3.normalize(a,a),R.Cartesian3.cross(r,a,ve)),e=(R.Cartesian3.normalize(i,i),R.Cartesian3.multiplyByScalar(r,e,r),R.Cartesian3.multiplyByScalar(i,e,i),R.Cartesian3.multiplyByScalar(a,e,a),R.Cartesian3.negate(i,Ee)),s=R.Cartesian3.negate(a,xe),o=Se,u=o[0],f=(R.Cartesian3.add(r,i,u),R.Cartesian3.add(u,a,u),u=o[1],R.Cartesian3.add(r,i,u),R.Cartesian3.add(u,s,u),u=o[2],R.Cartesian3.add(r,e,u),R.Cartesian3.add(u,s,u),u=o[3],R.Cartesian3.add(r,e,u),R.Cartesian3.add(u,a,u),R.Cartesian3.negate(r,r),u=o[4],R.Cartesian3.add(r,i,u),R.Cartesian3.add(u,a,u),u=o[5],R.Cartesian3.add(r,i,u),R.Cartesian3.add(u,s,u),u=o[6],R.Cartesian3.add(r,e,u),R.Cartesian3.add(u,s,u),u=o[7],R.Cartesian3.add(r,e,u),R.Cartesian3.add(u,a,u),o.length),h=0;h<f;++h){var l=o[h],p=(R.Cartesian3.add(n,l,l),d.cartesianToCartographic(l,Oe));t.project(p,l)}i=(n=(c=q.fromPoints(o,c)).center).x,s=n.y,r=n.z;return n.x=r,n.y=i,n.z=s,c},q.isOccluded=function(e,t){return!t.isBoundingSphereVisible(e)},q.equals=function(e,t){return e===t||T.defined(e)&&T.defined(t)&&R.Cartesian3.equals(e.center,t.center)&&e.radius===t.radius},q.prototype.intersectPlane=function(e){return q.intersectPlane(this,e)},q.prototype.distanceSquaredTo=function(e){return q.distanceSquaredTo(this,e)},q.prototype.computePlaneDistances=function(e,t,n){return q.computePlaneDistances(this,e,t,n)},q.prototype.isOccluded=function(e){return q.isOccluded(this,e)},q.prototype.equals=function(e){return q.equals(this,e)},q.prototype.clone=function(e){return q.clone(this,e)},q.prototype.volume=function(){var e=this.radius;return re*e*e*e},{requestFullscreen:void 0,exitFullscreen:void 0,fullscreenEnabled:void 0,fullscreenElement:void 0,fullscreenchange:void 0,fullscreenerror:void 0}),Ze={};function Xe(e){for(var t=e.split("."),n=0,r=t.length;n<r;++n)t[n]=parseInt(t[n],10);return t}function Je(){var e;return T.defined(Re)||(Re=!1,$e()||null!==(e=/ Chrome\/([\.0-9]+)/.exec(Me.userAgent))&&(Re=!0,Te=Xe(e[1]))),Re}function Ge(){var e;return T.defined(qe)||(qe=!1,Je()||$e()||!/ Safari\/[\.0-9]+/.test(Me.userAgent)||null!==(e=/ Version\/([\.0-9]+)/.exec(Me.userAgent))&&(qe=!0,ze=Xe(e[1]))),qe}function Qe(){var e;return T.defined(Ie)||(Ie=!1,null!==(e=/ AppleWebKit\/([\.0-9]+)(\+?)/.exec(Me.userAgent))&&(Ie=!0,(Ue=Xe(e[1])).isNightly=!!e[2])),Ie}function Ke(){var e;return T.defined(De)||(De=!1,"Microsoft Internet Explorer"===Me.appName?null!==(e=/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(Me.userAgent))&&(De=!0,Pe=Xe(e[1])):"Netscape"===Me.appName&&null!==(e=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(Me.userAgent))&&(De=!0,Pe=Xe(e[1]))),De}function $e(){var e;return T.defined(Ne)||(Ne=!1,null!==(e=/ Edge\/([\.0-9]+)/.exec(Me.userAgent))&&(Ne=!0,Ve=Xe(e[1]))),Ne}function et(){var e;return T.defined(Fe)||(Fe=!1,null!==(e=/Firefox\/([\.0-9]+)/.exec(Me.userAgent))&&(Fe=!0,Be=Xe(e[1]))),Fe}function tt(){var e;return T.defined(je)||((e=document.createElement("canvas")).setAttribute("style","image-rendering: -moz-crisp-edges;image-rendering: pixelated;"),e=e.style.imageRendering,(je=T.defined(e)&&""!==e)&&(We=e)),je}function nt(){return nt._result}Object.defineProperties(Ze,{element:{get:function(){if(Ze.supportsFullscreen())return document[He.fullscreenElement]}},changeEventName:{get:function(){if(Ze.supportsFullscreen())return He.fullscreenchange}},errorEventName:{get:function(){if(Ze.supportsFullscreen())return He.fullscreenerror}},enabled:{get:function(){if(Ze.supportsFullscreen())return document[He.fullscreenEnabled]}},fullscreen:{get:function(){if(Ze.supportsFullscreen())return null!==Ze.element}}}),Ze.supportsFullscreen=function(){if(T.defined(be))return be;be=!1;var e=document.body;if("function"==typeof e.requestFullscreen)return He.requestFullscreen="requestFullscreen",He.exitFullscreen="exitFullscreen",He.fullscreenEnabled="fullscreenEnabled",He.fullscreenElement="fullscreenElement",He.fullscreenchange="fullscreenchange",He.fullscreenerror="fullscreenerror",be=!0;for(var t=["webkit","moz","o","ms","khtml"],n=0,r=t.length;n<r;++n){var a,i=t[n];"function"!=typeof e[a=i+"RequestFullscreen"]&&"function"!=typeof e[a=i+"RequestFullScreen"]||(He.requestFullscreen=a,be=!0),a=i+"ExitFullscreen","function"==typeof document[a]?He.exitFullscreen=a:(a=i+"CancelFullScreen","function"==typeof document[a]&&(He.exitFullscreen=a)),a=i+"FullscreenEnabled",void 0!==document[a]?He.fullscreenEnabled=a:(a=i+"FullScreenEnabled",void 0!==document[a]&&(He.fullscreenEnabled=a)),a=i+"FullscreenElement",void 0!==document[a]?He.fullscreenElement=a:(a=i+"FullScreenElement",void 0!==document[a]&&(He.fullscreenElement=a)),a=i+"fullscreenchange",void 0!==document["on"+a]&&(He.fullscreenchange=a="ms"===i?"MSFullscreenChange":a),a=i+"fullscreenerror",void 0!==document["on"+a]&&(He.fullscreenerror=a="ms"===i?"MSFullscreenError":a)}return be},Ze.requestFullscreen=function(e,t){Ze.supportsFullscreen()&&e[He.requestFullscreen]({vrDisplay:t})},Ze.exitFullscreen=function(){Ze.supportsFullscreen()&&document[He.exitFullscreen]()},Ze._names=He,Me="undefined"!=typeof navigator?navigator:{},nt._promise=void 0,nt._result=void 0,nt.initialize=function(){if(T.defined(nt._promise))return nt._promise;var e=T.when.defer();if(nt._promise=e.promise,$e())return nt._result=!1,e.resolve(nt._result),e.promise;var t=new Image;return t.onload=function(){nt._result=0<t.width&&0<t.height,e.resolve(nt._result)},t.onerror=function(){nt._result=!1,e.resolve(nt._result)},t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",e.promise},Object.defineProperties(nt,{initialized:{get:function(){return T.defined(nt._result)}}});var A=[],rt=("undefined"!=typeof ArrayBuffer&&(A.push(Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array),"undefined"!=typeof Uint8ClampedArray&&A.push(Uint8ClampedArray),"undefined"!=typeof Uint8ClampedArray&&A.push(Uint8ClampedArray),"undefined"!=typeof BigInt64Array&&A.push(BigInt64Array),"undefined"!=typeof BigUint64Array&&A.push(BigUint64Array)),{isChrome:Je,chromeVersion:function(){return Je()&&Te},isSafari:Ge,safariVersion:function(){return Ge()&&ze},isWebkit:Qe,webkitVersion:function(){return Qe()&&Ue},isInternetExplorer:Ke,internetExplorerVersion:function(){return Ke()&&Pe},isEdge:$e,edgeVersion:function(){return $e()&&Ve},isFirefox:et,firefoxVersion:function(){return et()&&Be},isWindows:function(){return Le=T.defined(Le)?Le:/Windows/i.test(Me.appVersion)},hardwareConcurrency:T.defaultValue(Me.hardwareConcurrency,3),supportsPointerEvents:function(){return ke=T.defined(ke)?ke:!et()&&"undefined"!=typeof PointerEvent&&(!T.defined(Me.pointerEnabled)||Me.pointerEnabled)},supportsImageRenderingPixelated:tt,supportsWebP:nt,imageRenderingValue:function(){return tt()?We:void 0},typedArrayTypes:A});function c(e,t,n,r){this.x=T.defaultValue(e,0),this.y=T.defaultValue(t,0),this.z=T.defaultValue(n,0),this.w=T.defaultValue(r,0)}rt.supportsBasis=function(e){return rt.supportsWebAssembly()&&e.context.supportsBasis},rt.supportsFullscreen=function(){return Ze.supportsFullscreen()},rt.supportsTypedArrays=function(){return"undefined"!=typeof ArrayBuffer},rt.supportsBigInt64Array=function(){return"undefined"!=typeof BigInt64Array},rt.supportsBigUint64Array=function(){return"undefined"!=typeof BigUint64Array},rt.supportsBigInt=function(){return"undefined"!=typeof BigInt},rt.supportsWebWorkers=function(){return"undefined"!=typeof Worker},rt.supportsWebAssembly=function(){return"undefined"!=typeof WebAssembly&&!rt.isEdge()};for(var at,it,st=new R.Cartesian3,ot=(c.fromAxisAngle=function(e,t,n){var t=t/2,r=Math.sin(t),e=(st=R.Cartesian3.normalize(e,st)).x*r,a=st.y*r,r=st.z*r,t=Math.cos(t);return T.defined(n)?(n.x=e,n.y=a,n.z=r,n.w=t,n):new c(e,a,r,t)},[1,2,0]),ut=new Array(3),lt=(c.fromRotationMatrix=function(e,t){var n,r,a,i,s=e[F.COLUMN0ROW0],o=e[F.COLUMN1ROW1],u=e[F.COLUMN2ROW2],l=s+o+u,u=0<l?(a=.5*(i=Math.sqrt(l+1)),n=(e[F.COLUMN1ROW2]-e[F.COLUMN2ROW1])*(i=.5/i),r=(e[F.COLUMN2ROW0]-e[F.COLUMN0ROW2])*i,(e[F.COLUMN0ROW1]-e[F.COLUMN1ROW0])*i):(s=ot[u=ot[l=s<u&&o<u?2:s<o?1:0]],i=Math.sqrt(e[F.getElementIndex(l,l)]-e[F.getElementIndex(u,u)]-e[F.getElementIndex(s,s)]+1),(o=ut)[l]=.5*i,i=.5/i,a=(e[F.getElementIndex(s,u)]-e[F.getElementIndex(u,s)])*i,o[u]=(e[F.getElementIndex(u,l)]+e[F.getElementIndex(l,u)])*i,o[s]=(e[F.getElementIndex(s,l)]+e[F.getElementIndex(l,s)])*i,n=-o[0],r=-o[1],-o[2]);return T.defined(t)?(t.x=n,t.y=r,t.z=u,t.w=a,t):new c(n,r,u,a)},new c),ct=(new c,new c,new c,c.fromHeadingPitchRoll=function(e,t){return it=c.fromAxisAngle(R.Cartesian3.UNIT_X,e.roll,lt),at=c.fromAxisAngle(R.Cartesian3.UNIT_Y,-e.pitch,t),t=c.multiply(at,it,at),it=c.fromAxisAngle(R.Cartesian3.UNIT_Z,-e.heading,lt),c.multiply(it,t,t)},new R.Cartesian3),dt=new R.Cartesian3,ft=new c,ht=new c,pt=new c,mt=(c.packedLength=4,c.pack=function(e,t,n){return n=T.defaultValue(n,0),t[n++]=e.x,t[n++]=e.y,t[n++]=e.z,t[n]=e.w,t},c.unpack=function(e,t,n){return t=T.defaultValue(t,0),(n=T.defined(n)?n:new c).x=e[t],n.y=e[t+1],n.z=e[t+2],n.w=e[t+3],n},c.packedInterpolationLength=3,c.convertPackedArrayForInterpolation=function(e,t,n,r){c.unpack(e,4*n,pt),c.conjugate(pt,pt);for(var a=0,i=n-t+1;a<i;a++){var s=3*a,o=(c.unpack(e,4*(t+a),ft),c.multiply(ft,pt,ft),ft.w<0&&c.negate(ft,ft),c.computeAxis(ft,ct),c.computeAngle(ft));(r=T.defined(r)?r:[])[s]=ct.x*o,r[1+s]=ct.y*o,r[2+s]=ct.z*o}},c.unpackInterpolationResult=function(e,t,n,r,a){T.defined(a)||(a=new c),R.Cartesian3.fromArray(e,0,dt);e=R.Cartesian3.magnitude(dt);return c.unpack(t,4*r,ht),0===e?c.clone(c.IDENTITY,ft):c.fromAxisAngle(dt,e,ft),c.multiply(ft,ht,a)},c.clone=function(e,t){if(T.defined(e))return T.defined(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t):new c(e.x,e.y,e.z,e.w)},c.conjugate=function(e,t){return t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=e.w,t},c.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w},c.magnitude=function(e){return Math.sqrt(c.magnitudeSquared(e))},c.normalize=function(e,t){var n=1/c.magnitude(e),r=e.x*n,a=e.y*n,i=e.z*n,e=e.w*n;return t.x=r,t.y=a,t.z=i,t.w=e,t},c.inverse=function(e,t){var n=c.magnitudeSquared(e);return t=c.conjugate(e,t),c.multiplyByScalar(t,1/n,t)},c.add=function(e,t,n){return n.x=e.x+t.x,n.y=e.y+t.y,n.z=e.z+t.z,n.w=e.w+t.w,n},c.subtract=function(e,t,n){return n.x=e.x-t.x,n.y=e.y-t.y,n.z=e.z-t.z,n.w=e.w-t.w,n},c.negate=function(e,t){return t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=-e.w,t},c.dot=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w},c.multiply=function(e,t,n){var r=e.x,a=e.y,i=e.z,e=e.w,s=t.x,o=t.y,u=t.z,t=t.w,l=e*o-r*u+a*t+i*s,c=e*u+r*o-a*s+i*t,d=e*t-r*s-a*o-i*u;return n.x=e*s+r*t+a*u-i*o,n.y=l,n.z=c,n.w=d,n},c.multiplyByScalar=function(e,t,n){return n.x=e.x*t,n.y=e.y*t,n.z=e.z*t,n.w=e.w*t,n},c.divideByScalar=function(e,t,n){return n.x=e.x/t,n.y=e.y/t,n.z=e.z/t,n.w=e.w/t,n},c.computeAxis=function(e,t){var n=e.w;if(Math.abs(n-1)<k.CesiumMath.EPSILON6)return t.x=t.y=t.z=0,t;n=1/Math.sqrt(1-n*n);return t.x=e.x*n,t.y=e.y*n,t.z=e.z*n,t},c.computeAngle=function(e){return Math.abs(e.w-1)<k.CesiumMath.EPSILON6?0:2*Math.acos(e.w)},new c),yt=(c.lerp=function(e,t,n,r){return mt=c.multiplyByScalar(t,n,mt),r=c.multiplyByScalar(e,1-n,r),c.add(mt,r,r)},new c),At=new c,Ct=new c,wt=(c.slerp=function(e,t,n,r){var a=c.dot(e,t),i=t;if(a<0&&(a=-a,i=yt=c.negate(t,yt)),1-a<k.CesiumMath.EPSILON6)return c.lerp(e,i,n,r);t=Math.acos(a);return At=c.multiplyByScalar(e,Math.sin((1-n)*t),At),Ct=c.multiplyByScalar(i,Math.sin(n*t),Ct),r=c.add(At,Ct,r),c.multiplyByScalar(r,1/Math.sin(t),r)},c.log=function(e,t){var n=k.CesiumMath.acosClamped(e.w),r=0;return 0!==n&&(r=n/Math.sin(n)),R.Cartesian3.multiplyByScalar(e,r,t)},c.exp=function(e,t){var n=R.Cartesian3.magnitude(e),r=0;return 0!==n&&(r=Math.sin(n)/n),t.x=e.x*r,t.y=e.y*r,t.z=e.z*r,t.w=Math.cos(n),t},new R.Cartesian3),gt=new R.Cartesian3,vt=new c,xt=new c,Et=(c.computeInnerQuadrangle=function(e,t,n,r){var a=c.conjugate(t,vt),n=(c.multiply(a,n,xt),c.log(xt,wt)),a=(c.multiply(a,e,xt),c.log(xt,gt));return R.Cartesian3.add(n,a,n),R.Cartesian3.multiplyByScalar(n,.25,n),R.Cartesian3.negate(n,n),c.exp(n,vt),c.multiply(t,vt,r)},c.squad=function(e,t,n,r,a,i){e=c.slerp(e,t,a,vt),t=c.slerp(n,r,a,xt);return c.slerp(e,t,2*a*(1-a),i)},new c),A=1.9011074535173003,Ot=rt.supportsTypedArrays()?new Float32Array(8):[],St=rt.supportsTypedArrays()?new Float32Array(8):[],_t=rt.supportsTypedArrays()?new Float32Array(8):[],bt=rt.supportsTypedArrays()?new Float32Array(8):[],Mt=0;Mt<7;++Mt){var Rt=Mt+1,Tt=2*Rt+1;Ot[Mt]=1/(Rt*Tt),St[Mt]=Rt/Tt}function qt(e,t,n){for(var r,a,i=0,s=e.length-1;i<=s;)if((a=n(e[r=~~((i+s)/2)],t))<0)i=1+r;else{if(!(0<a))return r;s=r-1}return~(s+1)}function zt(e,t,n,r,a){this.xPoleWander=e,this.yPoleWander=t,this.xPoleOffset=n,this.yPoleOffset=r,this.ut1MinusUtc=a}function It(){function w(e,t,n,r,a,i,s){var o=e>>>0;return e=(n=n&&o&&{2:"0b",8:"0",16:"0x"}[t]||"")+E(o.toString(t),i||0,"0",!1),O(e,n,r,a,s)}function g(e,t,n,r,a,i){return null!=r&&(e=e.slice(0,r)),O(e,"",t,n,a,i)}var v=arguments,x=0,e=v[x++],E=function(e,t,n,r){n=n||" ";t=e.length>=t?"":Array(1+t-e.length>>>0).join(n);return r?e+t:t+e},O=function(e,t,n,r,a,i){var s=r-e.length;return e=0<s?n||!a?E(e,r,i,n):e.slice(0,t.length)+E("",s,"0",!0)+e.slice(t.length):e};return e.replace(/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuideEfFgG])/g,function(c,d,e,t,f,n,r){var a,i,h,p,s;if("%%"==c)return"%";for(var o=!1,m="",u=!1,l=!1,y=" ",A=e.length,C=0;e&&C<A;C++)switch(e.charAt(C)){case" ":m=" ";break;case"+":m="+";break;case"-":o=!0;break;case"'":y=e.charAt(C+1);break;case"0":u=!0;break;case"#":l=!0}if((t=t?"*"==t?+v[x++]:"*"==t.charAt(0)?+v[t.slice(1,-1)]:+t:0)<0&&(t=-t,o=!0),!isFinite(t))throw new Error("sprintf: (minimum-)width must be finite");switch(n=n?"*"==n?+v[x++]:"*"==n.charAt(0)?+v[n.slice(1,-1)]:+n:-1<"fFeE".indexOf(r)?6:"d"==r?0:void 0,s=d?v[d.slice(0,-1)]:v[x++],r){case"s":return g(String(s),o,t,n,u,y);case"c":return g(String.fromCharCode(+s),o,t,n,u);case"b":return w(s,2,l,o,t,n,u);case"o":return w(s,8,l,o,t,n,u);case"x":return w(s,16,l,o,t,n,u);case"X":return w(s,16,l,o,t,n,u).toUpperCase();case"u":return w(s,10,l,o,t,n,u);case"i":case"d":return a=+s||0,s=(i=(a=Math.round(a-a%1))<0?"-":m)+E(String(Math.abs(a)),n,"0",!1),O(s,i,o,t,u);case"e":case"E":case"f":case"F":case"g":case"G":return i=(a=+s)<0?"-":m,h=["toExponential","toFixed","toPrecision"]["efg".indexOf(r.toLowerCase())],p=["toString","toUpperCase"]["eEfFgG".indexOf(r)%2],s=i+Math.abs(a)[h](n),O(s,i,o,t,u)[p]();default:return c}})}function Ut(e,t,n,r,a,i,s,o){this.year=e,this.month=t,this.day=n,this.hour=r,this.minute=a,this.second=i,this.millisecond=s,this.isLeapSecond=o}function Dt(e){return e%4==0&&e%100!=0||e%400==0}function Pt(e,t){this.julianDate=e,this.offset=t}Ot[7]=A/136,St[7]=8*A/17,c.fastSlerp=function(e,t,n,r){for(var a=c.dot(e,t),i=(0<=a?l=1:(l=-1,a=-a),a-1),a=1-n,s=n*n,o=a*a,u=7;0<=u;--u)_t[u]=(Ot[u]*s-St[u])*i,bt[u]=(Ot[u]*o-St[u])*i;var l=l*n*(1+_t[0]*(1+_t[1]*(1+_t[2]*(1+_t[3]*(1+_t[4]*(1+_t[5]*(1+_t[6]*(1+_t[7])))))))),n=a*(1+bt[0]*(1+bt[1]*(1+bt[2]*(1+bt[3]*(1+bt[4]*(1+bt[5]*(1+bt[6]*(1+bt[7])))))))),a=c.multiplyByScalar(e,n,Et);return c.multiplyByScalar(t,l,r),c.add(a,r,r)},c.fastSquad=function(e,t,n,r,a,i){e=c.fastSlerp(e,t,a,vt),t=c.fastSlerp(n,r,a,xt);return c.fastSlerp(e,t,2*a*(1-a),i)},c.equals=function(e,t){return e===t||T.defined(e)&&T.defined(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.w===t.w},c.equalsEpsilon=function(e,t,n){return n=T.defaultValue(n,0),e===t||T.defined(e)&&T.defined(t)&&Math.abs(e.x-t.x)<=n&&Math.abs(e.y-t.y)<=n&&Math.abs(e.z-t.z)<=n&&Math.abs(e.w-t.w)<=n},c.ZERO=Object.freeze(new c(0,0,0,0)),c.IDENTITY=Object.freeze(new c(0,0,0,1)),c.prototype.clone=function(e){return c.clone(this,e)},c.prototype.equals=function(e){return c.equals(this,e)},c.prototype.equalsEpsilon=function(e,t){return c.equalsEpsilon(this,e,t)},c.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+", "+this.w+")"};var Nt=Object.freeze({SECONDS_PER_MILLISECOND:.001,SECONDS_PER_MINUTE:60,MINUTES_PER_HOUR:60,HOURS_PER_DAY:24,SECONDS_PER_HOUR:3600,MINUTES_PER_DAY:1440,SECONDS_PER_DAY:86400,DAYS_PER_JULIAN_CENTURY:36525,PICOSECOND:1e-9,MODIFIED_JULIAN_DATE_DIFFERENCE:2400000.5}),w=Object.freeze({UTC:0,TAI:1}),Vt=new Ut,Ft=[31,28,31,30,31,30,31,31,30,31,30,31];function Bt(e,t){return g.compare(e.julianDate,t.julianDate)}var Lt=new Pt;function kt(e){Lt.julianDate=e;var t=g.leapSeconds,n=qt(t,Lt,Bt),r=t[n=(n=n<0?~n:n)>=t.length?t.length-1:n].offset;0<n&&r<g.secondsDifference(t[n].julianDate,e)&&(r=t[--n].offset),g.addSeconds(e,r,e)}function Wt(e,t){Lt.julianDate=e;var n=g.leapSeconds,r=qt(n,Lt,Bt);if(0===(r=r<0?~r:r))return g.addSeconds(e,-n[0].offset,t);if(r>=n.length)return g.addSeconds(e,-n[r-1].offset,t);var a=g.secondsDifference(n[r].julianDate,e);return 0===a?g.addSeconds(e,-n[r].offset,t):a<=1?void 0:g.addSeconds(e,-n[--r].offset,t)}function jt(e,t,n){var r=t/Nt.SECONDS_PER_DAY|0;return e+=r,(t-=Nt.SECONDS_PER_DAY*r)<0&&(e--,t+=Nt.SECONDS_PER_DAY),n.dayNumber=e,n.secondsOfDay=t,n}function Yt(e,t,n,r,a,i,s){var o=(t-14)/12|0,e=e+4800+o,t=(1461*e/4|0)+(367*(t-2-12*o)/12|0)-(3*((e+100)/100|0)/4|0)+n-32075,o=((r-=12)<0&&(r+=24),i+(r*Nt.SECONDS_PER_HOUR+a*Nt.SECONDS_PER_MINUTE+s*Nt.SECONDS_PER_MILLISECOND));return 43200<=o&&--t,[t,o]}var Ht=/^(\d{4})$/,Zt=/^(\d{4})-(\d{2})$/,Xt=/^(\d{4})-?(\d{3})$/,Jt=/^(\d{4})-?W(\d{2})-?(\d{1})?$/,Gt=/^(\d{4})-?(\d{2})-?(\d{2})$/,A=/([Z+\-])?(\d{2})?:?(\d{2})?$/,Qt=/^(\d{2})(\.\d+)?/.source+A.source,Kt=/^(\d{2}):?(\d{2})(\.\d+)?/.source+A.source,$t=/^(\d{2}):?(\d{2}):?(\d{2})(\.\d+)?/.source+A.source;function g(e,t,n){this.dayNumber=void 0,this.secondsOfDay=void 0,e=T.defaultValue(e,0),t=T.defaultValue(t,0),n=T.defaultValue(n,w.UTC);var r=0|e;jt(r,t+=(e-r)*Nt.SECONDS_PER_DAY,this),n===w.UTC&&kt(this)}g.fromGregorianDate=function(e,t){e=Yt(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond);return T.defined(t)?(jt(e[0],e[1],t),kt(t),t):new g(e[0],e[1],w.UTC)},g.fromDate=function(e,t){e=Yt(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds());return T.defined(t)?(jt(e[0],e[1],t),kt(t),t):new g(e[0],e[1],w.UTC)},g.fromIso8601=function(e,t){var n,c,r,a,e=(e=e.replace(",",".")).split("T"),i=1,s=1,o=0,u=0,d=0,f=0,h=e[0],l=e[1];if(null!==(e=h.match(Gt))?(r=+e[1],i=+e[2],s=+e[3]):null!==(e=h.match(Zt))?(r=+e[1],i=+e[2]):null!==(e=h.match(Ht))?r=+e[1]:(null!==(e=h.match(Xt))?(r=+e[1],y=+e[2],c=Dt(r)):null!==(e=h.match(Jt))&&(r=+e[1],y=7*+e[2]+(+e[3]||0)-new Date(Date.UTC(r,0,4)).getUTCDay()-3),(n=new Date(Date.UTC(r,0,1))).setUTCDate(y),i=n.getUTCMonth()+1,s=n.getUTCDate()),c=Dt(r),T.defined(l)){null!==(e=l.match($t))?(o=+e[1],u=+e[2],d=+e[3],f=1e3*+(e[4]||0),a=5):null!==(e=l.match(Kt))?(o=+e[1],u=+e[2],d=60*+(e[3]||0),a=4):null!==(e=l.match(Qt))&&(o=+e[1],u=60*+(e[2]||0),a=3);var h=e[a],p=+e[a+1],m=+(e[a+2]||0);switch(h){case"+":o-=p,u-=m;break;case"-":o+=p,u+=m;break;case"Z":break;default:u+=new Date(Date.UTC(r,i-1,s,o,u)).getTimezoneOffset()}}var y=60===d;for(y&&d--;60<=u;)u-=60,o++;for(;24<=o;)o-=24,s++;for(n=c&&2===i?29:Ft[i-1];n<s;)s-=n,12<++i&&(i-=12,r++),n=c&&2===i?29:Ft[i-1];for(;u<0;)u+=60,o--;for(;o<0;)o+=24,s--;for(;s<1;)--i<1&&(i+=12,r--),s+=n=c&&2===i?29:Ft[i-1];l=Yt(r,i,s,o,u,d,f);return T.defined(t)?(jt(l[0],l[1],t),kt(t)):t=new g(l[0],l[1],w.UTC),y&&g.addSeconds(t,1,t),t},g.now=function(e){return g.fromDate(new Date,e)};var en=new g(0,0,w.TAI);function tn(e){e instanceof tn?(this.scheme=e.scheme,this.authority=e.authority,this.path=e.path,this.query=e.query,this.fragment=e.fragment):e&&(e=nn.exec(e),this.scheme=e[1],this.authority=e[2],this.path=e[3],this.query=e[4],this.fragment=e[5])}g.toGregorianDate=function(e,t){var n=!1,r=Wt(e,en),e=(T.defined(r)||(g.addSeconds(e,-1,en),r=Wt(en,en),n=!0),r.dayNumber),r=r.secondsOfDay,e=(43200<=r&&(e+=1),e+68569|0),a=4*e/146097|0,i=4e3*(1+(e=e-((146097*a+3)/4|0)|0))/1461001|0,s=80*(e=e-(1461*i/4|0)+31|0)/2447|0,o=e-(2447*s/80|0)|0,s=2+s-12*(e=s/11|0)|0,a=100*(a-49)+i+e|0,i=r/Nt.SECONDS_PER_HOUR|0,e=r-i*Nt.SECONDS_PER_HOUR,r=e/Nt.SECONDS_PER_MINUTE|0,u=0|(e-=r*Nt.SECONDS_PER_MINUTE),e=(e-u)/Nt.SECONDS_PER_MILLISECOND;return 23<(i+=12)&&(i-=24),n&&(u+=1),T.defined(t)?(t.year=a,t.month=s,t.day=o,t.hour=i,t.minute=r,t.second=u,t.millisecond=e,t.isLeapSecond=n,t):new Ut(a,s,o,i,r,u,e,n)},g.toDate=function(e){var e=g.toGregorianDate(e,Vt),t=e.second;return e.isLeapSecond&&--t,new Date(Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,t,e.millisecond))},g.toIso8601=function(e,t){var e=g.toGregorianDate(e,Vt),n=e.year,r=e.month,a=e.day,i=e.hour,s=e.minute,o=e.second,e=e.millisecond;return 1e4===n&&1===r&&1===a&&0===i&&0===s&&0===o&&0===e&&(n=9999,r=12,a=31,i=24),T.defined(t)||0===e?T.defined(t)&&0!==t?It("%04d-%02d-%02dT%02d:%02d:%02d.%sZ",n,r,a,i,s,o,(.01*e).toFixed(t).replace(".","").slice(0,t)):It("%04d-%02d-%02dT%02d:%02d:%02dZ",n,r,a,i,s,o):It("%04d-%02d-%02dT%02d:%02d:%02d.%sZ",n,r,a,i,s,o,(.01*e).toString().replace(".",""))},g.clone=function(e,t){if(T.defined(e))return T.defined(t)?(t.dayNumber=e.dayNumber,t.secondsOfDay=e.secondsOfDay,t):new g(e.dayNumber,e.secondsOfDay,w.TAI)},g.compare=function(e,t){var n=e.dayNumber-t.dayNumber;return 0!=n?n:e.secondsOfDay-t.secondsOfDay},g.equals=function(e,t){return e===t||T.defined(e)&&T.defined(t)&&e.dayNumber===t.dayNumber&&e.secondsOfDay===t.secondsOfDay},g.equalsEpsilon=function(e,t,n){return n=T.defaultValue(n,0),e===t||T.defined(e)&&T.defined(t)&&Math.abs(g.secondsDifference(e,t))<=n},g.totalDays=function(e){return e.dayNumber+e.secondsOfDay/Nt.SECONDS_PER_DAY},g.secondsDifference=function(e,t){return(e.dayNumber-t.dayNumber)*Nt.SECONDS_PER_DAY+(e.secondsOfDay-t.secondsOfDay)},g.daysDifference=function(e,t){return e.dayNumber-t.dayNumber+(e.secondsOfDay-t.secondsOfDay)/Nt.SECONDS_PER_DAY},g.computeTaiMinusUtc=function(e){Lt.julianDate=e;var e=g.leapSeconds,t=qt(e,Lt,Bt);return t<0&&(t=~t,--t<0&&(t=0)),e[t].offset},g.addSeconds=function(e,t,n){return jt(e.dayNumber,e.secondsOfDay+t,n)},g.addMinutes=function(e,t,n){t=e.secondsOfDay+t*Nt.SECONDS_PER_MINUTE;return jt(e.dayNumber,t,n)},g.addHours=function(e,t,n){t=e.secondsOfDay+t*Nt.SECONDS_PER_HOUR;return jt(e.dayNumber,t,n)},g.addDays=function(e,t,n){return jt(e.dayNumber+t,e.secondsOfDay,n)},g.lessThan=function(e,t){return g.compare(e,t)<0},g.lessThanOrEquals=function(e,t){return g.compare(e,t)<=0},g.greaterThan=function(e,t){return 0<g.compare(e,t)},g.greaterThanOrEquals=function(e,t){return 0<=g.compare(e,t)},g.prototype.clone=function(e){return g.clone(this,e)},g.prototype.equals=function(e){return g.equals(this,e)},g.prototype.equalsEpsilon=function(e,t){return g.equalsEpsilon(this,e,t)},g.prototype.toString=function(){return g.toIso8601(this)},g.leapSeconds=[new Pt(new g(2441317,43210,w.TAI),10),new Pt(new g(2441499,43211,w.TAI),11),new Pt(new g(2441683,43212,w.TAI),12),new Pt(new g(2442048,43213,w.TAI),13),new Pt(new g(2442413,43214,w.TAI),14),new Pt(new g(2442778,43215,w.TAI),15),new Pt(new g(2443144,43216,w.TAI),16),new Pt(new g(2443509,43217,w.TAI),17),new Pt(new g(2443874,43218,w.TAI),18),new Pt(new g(2444239,43219,w.TAI),19),new Pt(new g(2444786,43220,w.TAI),20),new Pt(new g(2445151,43221,w.TAI),21),new Pt(new g(2445516,43222,w.TAI),22),new Pt(new g(2446247,43223,w.TAI),23),new Pt(new g(2447161,43224,w.TAI),24),new Pt(new g(2447892,43225,w.TAI),25),new Pt(new g(2448257,43226,w.TAI),26),new Pt(new g(2448804,43227,w.TAI),27),new Pt(new g(2449169,43228,w.TAI),28),new Pt(new g(2449534,43229,w.TAI),29),new Pt(new g(2450083,43230,w.TAI),30),new Pt(new g(2450630,43231,w.TAI),31),new Pt(new g(2451179,43232,w.TAI),32),new Pt(new g(2453736,43233,w.TAI),33),new Pt(new g(2454832,43234,w.TAI),34),new Pt(new g(2456109,43235,w.TAI),35),new Pt(new g(2457204,43236,w.TAI),36),new Pt(new g(2457754,43237,w.TAI),37)],tn.prototype.scheme=null,tn.prototype.authority=null,tn.prototype.path="",tn.prototype.query=null,tn.prototype.fragment=null;var nn=new RegExp("^(?:([^:/?#]+):)?(?://([^/?#]*))?([^?#]*)(?:\\?([^#]*))?(?:#(.*))?$"),rn=(tn.prototype.getScheme=function(){return this.scheme},tn.prototype.getAuthority=function(){return this.authority},tn.prototype.getPath=function(){return this.path},tn.prototype.getQuery=function(){return this.query},tn.prototype.getFragment=function(){return this.fragment},tn.prototype.isAbsolute=function(){return!!this.scheme&&!this.fragment},tn.prototype.isSameDocumentAs=function(e){return e.scheme==this.scheme&&e.authority==this.authority&&e.path==this.path&&e.query==this.query},tn.prototype.equals=function(e){return this.isSameDocumentAs(e)&&e.fragment==this.fragment},tn.prototype.normalize=function(){this.removeDotSegments(),this.scheme&&(this.scheme=this.scheme.toLowerCase()),this.authority&&(this.authority=this.authority.replace(sn,un).replace(rn,on)),this.path&&(this.path=this.path.replace(rn,on)),this.query&&(this.query=this.query.replace(rn,on)),this.fragment&&(this.fragment=this.fragment.replace(rn,on))},/%[0-9a-z]{2}/gi),an=/[a-zA-Z0-9\-\._~]/,sn=/(.*@)?([^@:]*)(:.*)?/;function on(e){var t=unescape(e);return an.test(t)?t:e.toUpperCase()}function un(e,t,n,r){return(t||"")+n.toLowerCase()+(r||"")}function ln(e,t){if(null===e||"object"!=typeof e)return e;t=T.defaultValue(t,!1);var n,r,a=new e.constructor;for(n in e)e.hasOwnProperty(n)&&(r=e[n],t&&(r=ln(r,t)),a[n]=r);return a}function cn(e,t){var n;return"undefined"!=typeof document&&(n=document),cn._implementation(e,t,n)}tn.prototype.resolve=function(e){var t=new tn;return this.scheme?(t.scheme=this.scheme,t.authority=this.authority,t.path=this.path,t.query=this.query):(t.scheme=e.scheme,this.authority?(t.authority=this.authority,t.path=this.path,t.query=this.query):(t.authority=e.authority,""==this.path?(t.path=e.path,t.query=this.query||e.query):("/"==this.path.charAt(0)?t.path=this.path:e.authority&&""==e.path?t.path="/"+this.path:t.path=e.path.substring(0,e.path.lastIndexOf("/")+1)+this.path,t.removeDotSegments(),t.query=this.query))),t.fragment=this.fragment,t},tn.prototype.removeDotSegments=function(){var e,t=this.path.split("/"),n=[],r=""==t[0];for(r&&t.shift(),""==t[0]&&t.shift();t.length;)".."==(e=t.shift())?n.pop():"."!=e&&n.push(e);"."!=e&&".."!=e||n.push(""),r&&n.unshift(""),this.path=n.join("/")},tn.prototype.toString=function(){var e="";return this.scheme&&(e+=this.scheme+":"),this.authority&&(e+="//"+this.authority),e+=this.path,this.query&&(e+="?"+this.query),this.fragment&&(e+="#"+this.fragment),e},cn._implementation=function(e,t,n){if(!T.defined(t)){if(void 0===n)return e;t=T.defaultValue(n.baseURI,n.location.href)}n=new tn(t);return new tn(e).resolve(n).toString()};var dn,fn=/^blob:/i;function hn(e){return fn.test(e)}var pn=/^data:/i;function mn(e){return pn.test(e)}var yn=Object.freeze({UNISSUED:0,ISSUED:1,ACTIVE:2,RECEIVED:3,CANCELLED:4,FAILED:5}),An=Object.freeze({TERRAIN:0,IMAGERY:1,TILES3D:2,OTHER:3});function Cn(e){e=T.defaultValue(e,T.defaultValue.EMPTY_OBJECT);var t=T.defaultValue(e.throttleByServer,!1),n=T.defaultValue(e.throttle,!1);this.url=e.url,this.requestFunction=e.requestFunction,this.cancelFunction=e.cancelFunction,this.priorityFunction=e.priorityFunction,this.priority=T.defaultValue(e.priority,0),this.throttle=n,this.throttleByServer=t,this.type=T.defaultValue(e.type,An.OTHER),this.serverKey=void 0,this.state=yn.UNISSUED,this.deferred=void 0,this.cancelled=!1}function wn(e,t,n){this.statusCode=e,this.response=t,this.responseHeaders=n,"string"==typeof this.responseHeaders&&(this.responseHeaders=function(e){var t={};if(!e)return t;for(var n=e.split("\r\n"),r=0;r<n.length;++r){var a,i=n[r],s=i.indexOf(": ");0<s&&(a=i.substring(0,s),i=i.substring(s+2),t[a]=i)}return t}(this.responseHeaders))}function gn(){this._listeners=[],this._scopes=[],this._toRemove=[],this._insideRaiseEvent=!1}function vn(e,t){return t-e}function xn(e){this._comparator=e.comparator,this._array=[],this._length=0,this._maximumLength=void 0}function En(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}Cn.prototype.cancel=function(){this.cancelled=!0},Cn.prototype.clone=function(e){return T.defined(e)?(e.url=this.url,e.requestFunction=this.requestFunction,e.cancelFunction=this.cancelFunction,e.priorityFunction=this.priorityFunction,e.priority=this.priority,e.throttle=this.throttle,e.throttleByServer=this.throttleByServer,e.type=this.type,e.serverKey=this.serverKey,e.state=this.RequestState.UNISSUED,e.deferred=void 0,e.cancelled=!1,e):new Cn(this)},wn.prototype.toString=function(){var e="Request has failed.";return T.defined(this.statusCode)&&(e+=" Status Code: "+this.statusCode),e},Object.defineProperties(gn.prototype,{numberOfListeners:{get:function(){return this._listeners.length-this._toRemove.length}}}),gn.prototype.addEventListener=function(e,t){this._listeners.push(e),this._scopes.push(t);var n=this;return function(){n.removeEventListener(e,t)}},gn.prototype.removeEventListener=function(e,t){for(var n=this._listeners,r=this._scopes,a=-1,i=0;i<n.length;i++)if(n[i]===e&&r[i]===t){a=i;break}return-1!==a&&(this._insideRaiseEvent?(this._toRemove.push(a),n[a]=void 0,r[a]=void 0):(n.splice(a,1),r.splice(a,1)),!0)},gn.prototype.raiseEvent=function(){this._insideRaiseEvent=!0;for(var e=this._listeners,t=this._scopes,n=e.length,r=0;r<n;r++){var a=e[r];T.defined(a)&&e[r].apply(t[r],arguments)}var i=this._toRemove;if(0<(n=i.length)){for(i.sort(vn),r=0;r<n;r++){var s=i[r];e.splice(s,1),t.splice(s,1)}i.length=0}this._insideRaiseEvent=!1},Object.defineProperties(xn.prototype,{length:{get:function(){return this._length}},internalArray:{get:function(){return this._array}},maximumLength:{get:function(){return this._maximumLength},set:function(e){var t=this._length;if(e<t){for(var n=this._array,r=e;r<t;++r)n[r]=void 0;this._length=e,n.length=e}this._maximumLength=e}},comparator:{get:function(){return this._comparator}}}),xn.prototype.reserve=function(e){e=T.defaultValue(e,this._length),this._array.length=e},xn.prototype.heapify=function(e){e=T.defaultValue(e,0);for(var t=this._length,n=this._comparator,r=this._array,a=-1,i=!0;i;){var s=2*(e+1),o=s-1,a=o<t&&n(r[o],r[e])<0?o:e;(a=s<t&&n(r[s],r[a])<0?s:a)!==e?(En(r,a,e),e=a):i=!1}},xn.prototype.resort=function(){for(var e=this._length,t=Math.ceil(e/2);0<=t;--t)this.heapify(t)},xn.prototype.insert=function(e){var t,n=this._array,r=this._comparator,a=this._maximumLength,i=this._length++;for(i<n.length?n[i]=e:n.push(e);0!==i;){var s=Math.floor((i-1)/2);if(!(r(n[i],n[s])<0))break;En(n,i,s),i=s}return T.defined(a)&&this._length>a&&(t=n[a],this._length=a),t},xn.prototype.pop=function(e){var t,n;if(e=T.defaultValue(e,0),0!==this._length)return t=this._array,n=t[e],En(t,e,--this._length),this.heapify(e),t[this._length]=void 0,n};var On={numberOfAttemptedRequests:0,numberOfActiveRequests:0,numberOfCancelledRequests:0,numberOfCancelledActiveRequests:0,numberOfFailedRequests:0,numberOfActiveRequestsEver:0,lastNumberOfActiveRequests:0},Sn=20,_n=new xn({comparator:function(e,t){return e.priority-t.priority}}),bn=(_n.maximumLength=Sn,_n.reserve(Sn),[]),Mn={},Rn="undefined"!=typeof document?new tn(document.location.href):new tn,Tn=new gn;function qn(){}function zn(e){T.defined(e.priorityFunction)&&(e.priority=e.priorityFunction())}function In(e){return e.state===yn.UNISSUED&&(e.state=yn.ISSUED,e.deferred=T.when.defer()),e.deferred.promise}function Un(e){var t,n,r=In(e);return e.state=yn.ACTIVE,bn.push(e),++On.numberOfActiveRequests,++On.numberOfActiveRequestsEver,++Mn[e.serverKey],e.requestFunction().then((n=e,function(e){var t;n.state!==yn.CANCELLED&&(t=n.deferred,--On.numberOfActiveRequests,--Mn[n.serverKey],Tn.raiseEvent(),n.state=yn.RECEIVED,n.deferred=void 0,t.resolve(e))})).otherwise((t=e,function(e){t.state!==yn.CANCELLED&&(++On.numberOfFailedRequests,--On.numberOfActiveRequests,--Mn[t.serverKey],Tn.raiseEvent(e),t.state=yn.FAILED,t.deferred.reject(e))})),r}function Dn(e){var t,n=e.state===yn.ACTIVE;e.state=yn.CANCELLED,++On.numberOfCancelledRequests,T.defined(e.deferred)&&(t=e.deferred,e.deferred=void 0,t.reject()),n&&(--On.numberOfActiveRequests,--Mn[e.serverKey],++On.numberOfCancelledActiveRequests),T.defined(e.cancelFunction)&&e.cancelFunction()}qn.maximumRequests=50,qn.maximumRequestsPerServer=6,qn.requestsByServer={"api.cesium.com:443":18,"assets.cesium.com:443":18},qn.throttleRequests=!0,qn.debugShowStatistics=!1,qn.requestCompletedEvent=Tn,Object.defineProperties(qn,{statistics:{get:function(){return On}},priorityHeapLength:{get:function(){return Sn},set:function(e){if(e<Sn)for(;_n.length>e;)Dn(_n.pop());Sn=e,_n.maximumLength=e,_n.reserve(e)}}}),qn.serverHasOpenSlots=function(e,t){t=T.defaultValue(t,1);var n=T.defaultValue(qn.requestsByServer[e],qn.maximumRequestsPerServer);return Mn[e]+t<=n},qn.heapHasOpenSlots=function(e){return _n.length+e<=Sn},qn.update=function(){for(var e,t=0,n=bn.length,r=0;r<n;++r)(e=bn[r]).cancelled&&Dn(e),e.state===yn.ACTIVE?0<t&&(bn[r-t]=e):++t;bn.length-=t;var a=_n.internalArray,i=_n.length;for(r=0;r<i;++r)zn(a[r]);_n.resort();for(var s=Math.max(qn.maximumRequests-bn.length,0),o=0;o<s&&0<_n.length;)!(e=_n.pop()).cancelled&&(!e.throttleByServer||qn.serverHasOpenSlots(e.serverKey))?(Un(e),++o):Dn(e);qn.debugShowStatistics&&(0===On.numberOfActiveRequests&&0<On.lastNumberOfActiveRequests&&(0<On.numberOfAttemptedRequests&&(console.log("Number of attempted requests: "+On.numberOfAttemptedRequests),On.numberOfAttemptedRequests=0),0<On.numberOfCancelledRequests&&(console.log("Number of cancelled requests: "+On.numberOfCancelledRequests),On.numberOfCancelledRequests=0),0<On.numberOfCancelledActiveRequests&&(console.log("Number of cancelled active requests: "+On.numberOfCancelledActiveRequests),On.numberOfCancelledActiveRequests=0),0<On.numberOfFailedRequests&&(console.log("Number of failed requests: "+On.numberOfFailedRequests),On.numberOfFailedRequests=0)),On.lastNumberOfActiveRequests=On.numberOfActiveRequests)},qn.getServerKey=function(e){var e=new tn(e).resolve(Rn),t=(e.normalize(),e.authority),e=(/:/.test(t)||(t=t+":"+("https"===e.scheme?"443":"80")),Mn[t]);return T.defined(e)||(Mn[t]=0),t},qn.request=function(e){if(mn(e.url)||hn(e.url))return Tn.raiseEvent(),e.state=yn.RECEIVED,e.requestFunction();if(++On.numberOfAttemptedRequests,T.defined(e.serverKey)||(e.serverKey=qn.getServerKey(e.url)),!qn.throttleRequests||!e.throttleByServer||qn.serverHasOpenSlots(e.serverKey)){if(!qn.throttleRequests||!e.throttle)return Un(e);if(!(bn.length>=qn.maximumRequests)){zn(e);var t=_n.insert(e);if(T.defined(t)){if(t===e)return;Dn(t)}return In(e)}}},qn.clearForSpecs=function(){for(;0<_n.length;)Dn(_n.pop());for(var e=bn.length,t=0;t<e;++t)Dn(bn[t]);bn.length=0,Mn={},On.numberOfAttemptedRequests=0,On.numberOfActiveRequests=0,On.numberOfCancelledRequests=0,On.numberOfCancelledActiveRequests=0,On.numberOfFailedRequests=0,On.numberOfActiveRequestsEver=0,On.lastNumberOfActiveRequests=0},qn.numberOfActiveRequestsByServer=function(e){return Mn[e]},qn.requestHeap=_n;var Pn={},Nn={};Pn.add=function(e,t){e=e.toLowerCase()+":"+t;T.defined(Nn[e])||(Nn[e]=!0)},Pn.remove=function(e,t){e=e.toLowerCase()+":"+t;T.defined(Nn[e])&&delete Nn[e]},Pn.contains=function(e){e=function(e){(e=new tn(e)).normalize();var t=e.getAuthority();if(T.defined(t)){if(-1===(t=-1!==t.indexOf("@")?t.split("@")[1]:t).indexOf(":")){e=e.getScheme();if("http"===(e=T.defined(e)?e:(e=window.location.protocol).substring(0,e.length-1)))t+=":80";else{if("https"!==e)return;t+=":443"}}return t}}(e);return!(!T.defined(e)||!T.defined(Nn[e]))},Pn.clear=function(){Nn={}};var Vn,Fn=function(){try{var e=new XMLHttpRequest;return e.open("GET","#",!0),(e.responseType="blob")===e.responseType}catch(e){return!1}}();function Bn(e,t,n,r){var a,i=e.query;if(!T.defined(i)||0===i.length)return 1;a=-1===i.indexOf("=")?((a={})[i]=void 0,a):function(e){var t={};if(""===e)return t;for(var n=e.replace(/\+/g,"%20").split(/[&;]/),r=0,a=n.length;r<a;++r){var i=n[r].split("="),s=decodeURIComponent(i[0]),i=i[1],i=T.defined(i)?decodeURIComponent(i):"",o=t[s];"string"==typeof o?t[s]=[o,i]:Array.isArray(o)?o.push(i):t[s]=i}return t}(i),t._queryParameters=n?jn(a,t._queryParameters,r):a,e.query=void 0}function Ln(e,t){var t=t._queryParameters,n=Object.keys(t);1!==n.length||T.defined(t[n[0]])?e.query=function(e){var t,n="";for(t in e)if(e.hasOwnProperty(t)){var r=e[t],a=encodeURIComponent(t)+"=";if(Array.isArray(r))for(var i=0,s=r.length;i<s;++i)n+=a+encodeURIComponent(r[i])+"&";else n+=a+encodeURIComponent(r)+"&"}return n=n.slice(0,-1)}(t):e.query=n[0]}function kn(e,t){return T.defined(e)?T.defined(e.clone)?e.clone():ln(e):t}function Wn(e){if(e.state===yn.ISSUED||e.state===yn.ACTIVE)throw new W.RuntimeError("The Resource is already being fetched.");e.state=yn.UNISSUED,e.deferred=void 0}function jn(e,t,n){if(!n)return d.combine(e,t);var r,a,i,s=ln(e,!0);for(r in t)t.hasOwnProperty(r)&&(a=s[r],i=t[r],T.defined(a)?(Array.isArray(a)||(a=s[r]=[a]),s[r]=a.concat(i)):s[r]=Array.isArray(i)?i.slice():i);return s}function f(e){"string"==typeof(e=T.defaultValue(e,T.defaultValue.EMPTY_OBJECT))&&(e={url:e}),this._url=void 0,this._templateValues=kn(e.templateValues,{}),this._queryParameters=kn(e.queryParameters,{}),this.headers=kn(e.headers,{}),this.request=T.defaultValue(e.request,new Cn),this.proxy=e.proxy,this.retryCallback=e.retryCallback,this.retryAttempts=T.defaultValue(e.retryAttempts,0),this._retryCount=0;e=new tn(e.url);Bn(e,this,!0,!0),e.fragment=void 0,this._url=e.toString()}function Yn(e){var n=e.resource,r=e.flipY,a=e.skipColorSpaceConversion,i=e.preferImageBitmap,s=n.request,e=(s.url=n.url,s.requestFunction=function(){var e=!1,t=(n.isDataUri||n.isBlobUri||(e=n.isCrossOriginUrl),T.when.defer());return f._Implementations.createImage(s,e,t,r,a,i),t.promise},qn.request(s));if(T.defined(e))return e.otherwise(function(t){return s.state!==yn.FAILED?T.when.reject(t):n.retryOnError(t).then(function(e){return e?(s.state=yn.UNISSUED,s.deferred=void 0,Yn({resource:n,flipY:r,skipColorSpaceConversion:a,preferImageBitmap:i})):T.when.reject(t)})})}f.createIfNeeded=function(e){return e instanceof f?e.getDerivedResource({request:e.request}):"string"!=typeof e?e:new f({url:e})},f.supportsImageBitmapOptions=function(){if(T.defined(Vn))return Vn;if("function"!=typeof createImageBitmap)return Vn=T.when.resolve(!1);return Vn=f.fetchBlob({url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWP4////fwAJ+wP9CNHoHgAAAABJRU5ErkJggg=="}).then(function(e){return createImageBitmap(e,{imageOrientation:"flipY",premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(e){return!0}).otherwise(function(){return!1})},Object.defineProperties(f,{isBlobSupported:{get:function(){return Fn}}}),Object.defineProperties(f.prototype,{queryParameters:{get:function(){return this._queryParameters}},templateValues:{get:function(){return this._templateValues}},url:{get:function(){return this.getUrlComponent(!0,!0)},set:function(e){e=new tn(e);Bn(e,this,!1),e.fragment=void 0,this._url=e.toString()}},extension:{get:function(){return(e=new tn(e=this._url)).normalize(),e=-1===(t=(e=-1!==(t=(e=e.path).lastIndexOf("/"))?e.substr(t+1):e).lastIndexOf("."))?"":e.substr(t+1);var e,t}},isDataUri:{get:function(){return mn(this._url)}},isBlobUri:{get:function(){return hn(this._url)}},isCrossOriginUrl:{get:function(){return e=this._url,(dn=T.defined(dn)?dn:document.createElement("a")).href=window.location.href,t=dn.host,n=dn.protocol,dn.href=e,dn.href=dn.href,n!==dn.protocol||t!==dn.host;var e,t,n}},hasHeaders:{get:function(){return 0<Object.keys(this.headers).length}}}),f.prototype.toString=function(){return this.getUrlComponent(!0,!0)},f.prototype.getUrlComponent=function(e,t){if(this.isDataUri)return this._url;var n=new tn(this._url),e=(e&&Ln(n,this),n.toString().replace(/%7B/g,"{").replace(/%7D/g,"}")),r=this._templateValues,e=e.replace(/{(.*?)}/g,function(e,t){t=r[t];return T.defined(t)?encodeURIComponent(t):e});return e=t&&T.defined(this.proxy)?this.proxy.getURL(e):e},f.prototype.setQueryParameters=function(e,t){this._queryParameters=t?jn(this._queryParameters,e,!1):jn(e,this._queryParameters,!1)},f.prototype.appendQueryParameters=function(e){this._queryParameters=jn(e,this._queryParameters,!0)},f.prototype.setTemplateValues=function(e,t){this._templateValues=t?d.combine(this._templateValues,e):d.combine(e,this._templateValues)},f.prototype.getDerivedResource=function(e){var t,n=this.clone();return n._retryCount=0,T.defined(e.url)&&(Bn(t=new tn(e.url),n,!0,T.defaultValue(e.preserveQueryParameters,!1)),t.fragment=void 0,n._url=t.resolve(new tn(cn(this._url))).toString()),T.defined(e.queryParameters)&&(n._queryParameters=d.combine(e.queryParameters,n._queryParameters)),T.defined(e.templateValues)&&(n._templateValues=d.combine(e.templateValues,n.templateValues)),T.defined(e.headers)&&(n.headers=d.combine(e.headers,n.headers)),T.defined(e.proxy)&&(n.proxy=e.proxy),T.defined(e.request)&&(n.request=e.request),T.defined(e.retryCallback)&&(n.retryCallback=e.retryCallback),T.defined(e.retryAttempts)&&(n.retryAttempts=e.retryAttempts),n},f.prototype.retryOnError=function(e){var t=this.retryCallback;if("function"!=typeof t||this._retryCount>=this.retryAttempts)return T.when(!1);var n=this;return T.when(t(this,e)).then(function(e){return++n._retryCount,e})},f.prototype.clone=function(e){return(e=T.defined(e)?e:new f({url:this._url}))._url=this._url,e._queryParameters=ln(this._queryParameters),e._templateValues=ln(this._templateValues),e.headers=ln(this.headers),e.proxy=this.proxy,e.retryCallback=this.retryCallback,e.retryAttempts=this.retryAttempts,e._retryCount=0,e.request=this.request.clone(),e},f.prototype.getBaseUri=function(e){return t=this.getUrlComponent(e),e=e,n="",-1!==(r=t.lastIndexOf("/"))&&(n=t.substring(0,r+1)),e&&(t=new tn(t),T.defined(t.query)&&(n+="?"+t.query),T.defined(t.fragment)&&(n+="#"+t.fragment)),n;var t,n,r},f.prototype.appendForwardSlash=function(){var e;this._url=(0!==(e=this._url).length&&"/"===e[e.length-1]||(e+="/"),e)},f.prototype.fetchArrayBuffer=function(){return this.fetch({responseType:"arraybuffer"})},f.fetchArrayBuffer=function(e){return new f(e).fetchArrayBuffer()},f.prototype.fetchBlob=function(){return this.fetch({responseType:"blob"})},f.fetchBlob=function(e){return new f(e).fetchBlob()},f.prototype.fetchImage=function(e){e=T.defaultValue(e,T.defaultValue.EMPTY_OBJECT);var t=T.defaultValue(e.preferImageBitmap,!1),n=T.defaultValue(e.preferBlob,!1),r=T.defaultValue(e.flipY,!1),a=T.defaultValue(e.skipColorSpaceConversion,!1);if(Wn(this.request),!Fn||this.isDataUri||this.isBlobUri||!this.hasHeaders&&!n)return Yn({resource:this,flipY:r,skipColorSpaceConversion:a,preferImageBitmap:t});var i,s,o,u=this.fetchBlob();return T.defined(u)?f.supportsImageBitmapOptions().then(function(e){return i=e&&t,u}).then(function(e){if(T.defined(e)){if(o=e,i)return 1===e.size?Yn({resource:s=new f({url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAEVSURBVHhe7cExAQAAAMKg9U/tawggAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABODQE8AAH/Cno5AAAAAElFTkSuQmCC"}),flipY:r,preferImageBitmap:!1}):f.createImageBitmapFromBlob(e,{flipY:r,premultiplyAlpha:!1,skipColorSpaceConversion:a});e=window.URL.createObjectURL(e);return Yn({resource:s=new f({url:e}),flipY:r,skipColorSpaceConversion:a,preferImageBitmap:!1})}}).then(function(e){if(T.defined(e))return e.blob=o,i||window.URL.revokeObjectURL(s.url),e}).otherwise(function(e){return T.defined(s)&&window.URL.revokeObjectURL(s.url),e.blob=o,T.when.reject(e)}):void 0},f.fetchImage=function(e){return new f(e).fetchImage({flipY:e.flipY,skipColorSpaceConversion:e.skipColorSpaceConversion,preferBlob:e.preferBlob,preferImageBitmap:e.preferImageBitmap})},f.prototype.fetchText=function(){return this.fetch({responseType:"text"})},f.fetchText=function(e){return new f(e).fetchText()},f.prototype.fetchJson=function(){var e=this.fetch({responseType:"text",headers:{Accept:"application/json,*/*;q=0.01"}});if(T.defined(e))return e.then(function(e){if(T.defined(e))return JSON.parse(e)})},f.fetchJson=function(e){return new f(e).fetchJson()},f.prototype.fetchXML=function(){return this.fetch({responseType:"document",overrideMimeType:"text/xml"})},f.fetchXML=function(e){return new f(e).fetchXML()},f.prototype.fetchJsonp=function(e){var t;for(e=T.defaultValue(e,"callback"),Wn(this.request);t="loadJsonp"+Math.random().toString().substring(2,8),T.defined(window[t]););return function n(r,a,i){var e={};e[a]=i;r.setQueryParameters(e);var s=r.request;s.url=r.url;s.requestFunction=function(){var t=T.when.defer();return window[i]=function(e){t.resolve(e);try{delete window[i]}catch(e){window[i]=void 0}},f._Implementations.loadAndExecuteScript(r.url,i,t),t.promise};e=qn.request(s);if(!T.defined(e))return;return e.otherwise(function(t){return s.state!==yn.FAILED?T.when.reject(t):r.retryOnError(t).then(function(e){return e?(s.state=yn.UNISSUED,s.deferred=void 0,n(r,a,i)):T.when.reject(t)})})}(this,e,t)},f.fetchJsonp=function(e){return new f(e).fetchJsonp(e.callbackParameterName)},f.prototype._makeRequest=function(o){var u=this,l=(Wn(u.request),u.request),e=(l.url=u.url,l.requestFunction=function(){var e=o.responseType,t=d.combine(o.headers,u.headers),n=o.overrideMimeType,r=o.method,a=o.data,i=T.when.defer(),s=f._Implementations.loadWithXhr(u.url,e,r,a,t,i,n);return T.defined(s)&&T.defined(s.abort)&&(l.cancelFunction=function(){s.abort()}),i.promise},qn.request(l));if(T.defined(e))return e.then(function(e){return l.cancelFunction=void 0,e}).otherwise(function(t){return l.cancelFunction=void 0,l.state!==yn.FAILED?T.when.reject(t):u.retryOnError(t).then(function(e){return e?(l.state=yn.UNISSUED,l.deferred=void 0,u.fetch(o)):T.when.reject(t)})})};var Hn=/^data:(.*?)(;base64)?,(.*)$/;function Zn(e,t){t=decodeURIComponent(t);return e?atob(t):t}function Xn(e,t){for(var n=Zn(e,t),e=new ArrayBuffer(n.length),r=new Uint8Array(e),a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return e}function Jn(e,t){switch(t){case"text":return e.toString("utf8");case"json":return JSON.parse(e.toString("utf8"));default:return new Uint8Array(e).buffer}}f.prototype.fetch=function(e){return(e=kn(e,{})).method="GET",this._makeRequest(e)},f.fetch=function(e){return new f(e).fetch({responseType:e.responseType,overrideMimeType:e.overrideMimeType})},f.prototype.delete=function(e){return(e=kn(e,{})).method="DELETE",this._makeRequest(e)},f.delete=function(e){return new f(e).delete({responseType:e.responseType,overrideMimeType:e.overrideMimeType,data:e.data})},f.prototype.head=function(e){return(e=kn(e,{})).method="HEAD",this._makeRequest(e)},f.head=function(e){return new f(e).head({responseType:e.responseType,overrideMimeType:e.overrideMimeType})},f.prototype.options=function(e){return(e=kn(e,{})).method="OPTIONS",this._makeRequest(e)},f.options=function(e){return new f(e).options({responseType:e.responseType,overrideMimeType:e.overrideMimeType})},f.prototype.post=function(e,t){return o.Check.defined("data",e),(t=kn(t,{})).method="POST",t.data=e,this._makeRequest(t)},f.post=function(e){return new f(e).post(e.data,{responseType:e.responseType,overrideMimeType:e.overrideMimeType})},f.prototype.put=function(e,t){return o.Check.defined("data",e),(t=kn(t,{})).method="PUT",t.data=e,this._makeRequest(t)},f.put=function(e){return new f(e).put(e.data,{responseType:e.responseType,overrideMimeType:e.overrideMimeType})},f.prototype.patch=function(e,t){return o.Check.defined("data",e),(t=kn(t,{})).method="PATCH",t.data=e,this._makeRequest(t)},f.patch=function(e){return new f(e).patch(e.data,{responseType:e.responseType,overrideMimeType:e.overrideMimeType})},(f._Implementations={}).createImage=function(i,s,o,u,l,c){var d=i.url;f.supportsImageBitmapOptions().then(function(e){if(!e||!c)return e=d,r=s,t=o,(n=new Image).onload=function(){t.resolve(n)},n.onerror=function(e){t.reject(e)},r&&(Pn.contains(e)?n.crossOrigin="use-credentials":n.crossOrigin=""),void(n.src=e);var t,n,r=T.when.defer(),a=f._Implementations.loadWithXhr(d,"blob","GET",void 0,void 0,r,void 0,void 0,void 0);return T.defined(a)&&T.defined(a.abort)&&(i.cancelFunction=function(){a.abort()}),r.promise.then(function(e){if(T.defined(e))return f.createImageBitmapFromBlob(e,{flipY:u,premultiplyAlpha:!1,skipColorSpaceConversion:l});o.reject(new W.RuntimeError("Successfully retrieved "+d+" but it contained no content."))}).then(o.resolve)}).otherwise(o.reject)},f.createImageBitmapFromBlob=function(e,t){return o.Check.defined("options",t),o.Check.typeOf.bool("options.flipY",t.flipY),o.Check.typeOf.bool("options.premultiplyAlpha",t.premultiplyAlpha),o.Check.typeOf.bool("options.skipColorSpaceConversion",t.skipColorSpaceConversion),createImageBitmap(e,{imageOrientation:t.flipY?"flipY":"none",premultiplyAlpha:t.premultiplyAlpha?"premultiply":"none",colorSpaceConversion:t.skipColorSpaceConversion?"none":"default"})};var Gn="undefined"==typeof XMLHttpRequest;function Qn(e){var t,n;e=T.defaultValue(e,T.defaultValue.EMPTY_OBJECT),this._dates=void 0,this._samples=void 0,this._dateColumn=-1,this._xPoleWanderRadiansColumn=-1,this._yPoleWanderRadiansColumn=-1,this._ut1MinusUtcSecondsColumn=-1,this._xCelestialPoleOffsetRadiansColumn=-1,this._yCelestialPoleOffsetRadiansColumn=-1,this._taiMinusUtcSecondsColumn=-1,this._columnCount=0,this._lastIndex=-1,this._downloadPromise=void 0,this._dataError=void 0,this._addNewLeapSeconds=T.defaultValue(e.addNewLeapSeconds,!0),T.defined(e.data)?$n(this,e.data):T.defined(e.url)?(t=f.createIfNeeded(e.url),(n=this)._downloadPromise=t.fetchJson().then(function(e){$n(n,e)}).otherwise(function(){n._dataError="An error occurred while retrieving the EOP data from the URL "+t.url+"."})):$n(this,{columnNames:["dateIso8601","modifiedJulianDateUtc","xPoleWanderRadians","yPoleWanderRadians","ut1MinusUtcSeconds","lengthOfDayCorrectionSeconds","xCelestialPoleOffsetRadians","yCelestialPoleOffsetRadians","taiMinusUtcSeconds"],samples:[]})}function Kn(e,t){return g.compare(e.julianDate,t)}function $n(e,t){if(T.defined(t.columnNames))if(T.defined(t.samples)){var n=t.columnNames.indexOf("modifiedJulianDateUtc"),r=t.columnNames.indexOf("xPoleWanderRadians"),c=t.columnNames.indexOf("yPoleWanderRadians"),d=t.columnNames.indexOf("ut1MinusUtcSeconds"),f=t.columnNames.indexOf("xCelestialPoleOffsetRadians"),h=t.columnNames.indexOf("yCelestialPoleOffsetRadians"),a=t.columnNames.indexOf("taiMinusUtcSeconds");if(n<0||r<0||c<0||d<0||f<0||h<0||a<0)e._dataError="Error in loaded EOP data: The columnNames property must include modifiedJulianDateUtc, xPoleWanderRadians, yPoleWanderRadians, ut1MinusUtcSeconds, xCelestialPoleOffsetRadians, yCelestialPoleOffsetRadians, and taiMinusUtcSeconds columns";else for(var i,s=e._samples=t.samples,p=e._dates=[],m=(e._dateColumn=n,e._xPoleWanderRadiansColumn=r,e._yPoleWanderRadiansColumn=c,e._ut1MinusUtcSecondsColumn=d,e._xCelestialPoleOffsetRadiansColumn=f,e._yCelestialPoleOffsetRadiansColumn=h,e._taiMinusUtcSecondsColumn=a,e._columnCount=t.columnNames.length,e._lastIndex=void 0,e._addNewLeapSeconds),o=0,y=s.length;o<y;o+=e._columnCount){var A,C,u=s[o+n],l=s[o+a],u=new g(u+Nt.MODIFIED_JULIAN_DATE_DIFFERENCE,l,w.TAI);p.push(u),m&&(l===i||!T.defined(i)||(C=qt(A=g.leapSeconds,u,Kn))<0&&(u=new Pt(u,l),A.splice(~C,0,u)),i=l)}}else e._dataError="Error in loaded EOP data: The samples property is required.";else e._dataError="Error in loaded EOP data: The columnNames property is required."}function er(e,t,n,r,a){n*=r;a.xPoleWander=t[n+e._xPoleWanderRadiansColumn],a.yPoleWander=t[n+e._yPoleWanderRadiansColumn],a.xPoleOffset=t[n+e._xCelestialPoleOffsetRadiansColumn],a.yPoleOffset=t[n+e._yCelestialPoleOffsetRadiansColumn],a.ut1MinusUtc=t[n+e._ut1MinusUtcSecondsColumn]}function tr(e,t,n){return t+e*(n-t)}function nr(e,t,n,r,a,i,s){var o=e._columnCount;if(i>t.length-1)return s.xPoleWander=0,s.yPoleWander=0,s.xPoleOffset=0,s.yPoleOffset=0,s.ut1MinusUtc=0,s;var u=t[a],t=t[i];if(u.equals(t)||r.equals(u))return er(e,n,a,o,s),s;if(r.equals(t))return er(e,n,i,o,s),s;var c,u=g.secondsDifference(r,u)/g.secondsDifference(t,u),a=a*o,i=i*o,o=n[a+e._ut1MinusUtcSecondsColumn],l=n[i+e._ut1MinusUtcSecondsColumn],d=l-o;return!(.5<d||d<-.5)||(d=n[a+e._taiMinusUtcSecondsColumn])!==(c=n[i+e._taiMinusUtcSecondsColumn])&&(t.equals(r)?o=l:l-=c-d),s.xPoleWander=tr(u,n[a+e._xPoleWanderRadiansColumn],n[i+e._xPoleWanderRadiansColumn]),s.yPoleWander=tr(u,n[a+e._yPoleWanderRadiansColumn],n[i+e._yPoleWanderRadiansColumn]),s.xPoleOffset=tr(u,n[a+e._xCelestialPoleOffsetRadiansColumn],n[i+e._xCelestialPoleOffsetRadiansColumn]),s.yPoleOffset=tr(u,n[a+e._yCelestialPoleOffsetRadiansColumn],n[i+e._yCelestialPoleOffsetRadiansColumn]),s.ut1MinusUtc=tr(u,o,l),s}function rr(e,t,n){this.heading=T.defaultValue(e,0),this.pitch=T.defaultValue(t,0),this.roll=T.defaultValue(n,0)}f._Implementations.loadWithXhr=function(e,a,i,c,t,s,d){var f=Hn.exec(e);if(null===f){if(Gn)return n=e,r=a,h=i,p=t,o=s,m="https:"===(n=require("url").parse(n)).protocol?require("https"):require("http"),y=require("zlib"),n={protocol:n.protocol,hostname:n.hostname,port:n.port,path:n.path,query:n.query,method:h,headers:p},void m.request(n).on("response",function(t){var n;t.statusCode<200||300<=t.statusCode?o.reject(new wn(t.statusCode,t,t.headers)):(n=[],t.on("data",function(e){n.push(e)}),t.on("end",function(){var e=Buffer.concat(n);"gzip"===t.headers["content-encoding"]?y.gunzip(e,function(e,t){e?o.reject(new W.RuntimeError("Error decompressing response.")):o.resolve(Jn(t,r))}):o.resolve(Jn(e,r))}))}).on("error",function(e){o.reject(new wn)}).end();var n,r,h,p,o,m,y,u=new XMLHttpRequest;if(Pn.contains(e)&&(u.withCredentials=!0),u.open(i,e,!0),T.defined(d)&&T.defined(u.overrideMimeType)&&u.overrideMimeType(d),T.defined(t))for(var l in t)t.hasOwnProperty(l)&&u.setRequestHeader(l,t[l]);T.defined(a)&&(u.responseType=a);var A=!1;return"string"==typeof e&&(A=0===e.indexOf("file://")||"undefined"!=typeof window&&"file://"===window.location.origin),u.onload=function(){if(!(u.status<200||300<=u.status)||A&&0===u.status){var e,n,t=u.response,r=u.responseType;if("HEAD"===i||"OPTIONS"===i)return e=u.getAllResponseHeaders().trim().split(/[\r\n]+/),n={},e.forEach(function(e){var e=e.split(": "),t=e.shift();n[t]=e.join(": ")}),void s.resolve(n);if(204===u.status)s.resolve();else if(!T.defined(t)||T.defined(a)&&r!==a)if("json"===a&&"string"==typeof t)try{s.resolve(JSON.parse(t))}catch(e){s.reject(e)}else(""===r||"document"===r)&&T.defined(u.responseXML)&&u.responseXML.hasChildNodes()?s.resolve(u.responseXML):""!==r&&"text"!==r||!T.defined(u.responseText)?s.reject(new W.RuntimeError("Invalid XMLHttpRequest response type.")):s.resolve(u.responseText);else s.resolve(t)}else s.reject(new wn(u.status,u.response,u.getAllResponseHeaders()))},u.onerror=function(e){s.reject(new wn)},u.send(c),u}s.resolve(function(e,t){t=T.defaultValue(t,"");var n=e[1],r=!!e[2],a=e[3];switch(t){case"":case"text":return Zn(r,a);case"arraybuffer":return Xn(r,a);case"blob":var i=Xn(r,a);return new Blob([i],{type:n});case"document":return(new DOMParser).parseFromString(Zn(r,a),n);case"json":return JSON.parse(Zn(r,a))}}(f,a))},f._Implementations.loadAndExecuteScript=function(e,t,n){return e=e,r=T.when.defer(),(a=document.createElement("script")).async=!0,a.src=e,i=document.getElementsByTagName("head")[0],a.onload=function(){a.onload=void 0,i.removeChild(a),r.resolve()},a.onerror=function(e){r.reject(e)},i.appendChild(a),r.promise.otherwise(n.reject);var r,a,i},(f._DefaultImplementations={}).createImage=f._Implementations.createImage,f._DefaultImplementations.loadWithXhr=f._Implementations.loadWithXhr,f._DefaultImplementations.loadAndExecuteScript=f._Implementations.loadAndExecuteScript,f.DEFAULT=Object.freeze(new f({url:"undefined"==typeof document?"":document.location.href.split("?")[0]})),Qn.NONE=Object.freeze({getPromiseToLoad:function(){return T.when.resolve()},compute:function(e,t){return T.defined(t)?(t.xPoleWander=0,t.yPoleWander=0,t.xPoleOffset=0,t.yPoleOffset=0,t.ut1MinusUtc=0):t=new zt(0,0,0,0,0),t}}),Qn.prototype.getPromiseToLoad=function(){return T.when(this._downloadPromise)},Qn.prototype.compute=function(e,t){if(T.defined(this._samples)){if(T.defined(t)||(t=new zt(0,0,0,0,0)),0===this._samples.length)return t.xPoleWander=0,t.yPoleWander=0,t.xPoleOffset=0,t.yPoleOffset=0,t.ut1MinusUtc=0,t;var n=this._dates,r=this._lastIndex,a=0,i=0;if(T.defined(r)){var s=n[r],o=n[r+1],s=g.lessThanOrEquals(s,e),u=!T.defined(o),l=u||g.greaterThanOrEquals(o,e);if(s&&l)return a=r,!u&&o.equals(e)&&++a,nr(this,n,this._samples,e,a,i=a+1,t),t}s=qt(n,e,g.compare,this._dateColumn);return 0<=s?(s<n.length-1&&n[s+1].equals(e)&&++s,i=a=s):(a=(i=~s)-1)<0&&(a=0),this._lastIndex=a,nr(this,n,this._samples,e,a,i,t),t}if(T.defined(this._dataError))throw new W.RuntimeError(this._dataError)},rr.fromQuaternion=function(e,t){T.defined(t)||(t=new rr);var n=2*(e.w*e.y-e.z*e.x),r=1-2*(e.x*e.x+e.y*e.y),a=2*(e.w*e.x+e.y*e.z),i=1-2*(e.y*e.y+e.z*e.z),e=2*(e.w*e.z+e.x*e.y);return t.heading=-Math.atan2(e,i),t.roll=Math.atan2(a,r),t.pitch=-k.CesiumMath.asinClamped(n),t},rr.fromDegrees=function(e,t,n,r){return(r=T.defined(r)?r:new rr).heading=e*k.CesiumMath.RADIANS_PER_DEGREE,r.pitch=t*k.CesiumMath.RADIANS_PER_DEGREE,r.roll=n*k.CesiumMath.RADIANS_PER_DEGREE,r},rr.clone=function(e,t){if(T.defined(e))return T.defined(t)?(t.heading=e.heading,t.pitch=e.pitch,t.roll=e.roll,t):new rr(e.heading,e.pitch,e.roll)},rr.equals=function(e,t){return e===t||T.defined(e)&&T.defined(t)&&e.heading===t.heading&&e.pitch===t.pitch&&e.roll===t.roll},rr.equalsEpsilon=function(e,t,n,r){return e===t||T.defined(e)&&T.defined(t)&&k.CesiumMath.equalsEpsilon(e.heading,t.heading,n,r)&&k.CesiumMath.equalsEpsilon(e.pitch,t.pitch,n,r)&&k.CesiumMath.equalsEpsilon(e.roll,t.roll,n,r)},rr.prototype.clone=function(e){return rr.clone(this,e)},rr.prototype.equals=function(e){return rr.equals(this,e)},rr.prototype.equalsEpsilon=function(e,t,n){return rr.equalsEpsilon(this,e,t,n)},rr.prototype.toString=function(){return"("+this.heading+", "+this.pitch+", "+this.roll+")"};var ar,ir,sr,or=/((?:.*\/)|^)Cesium\.js(?:\?|\#|$)/;function ur(e){return"undefined"==typeof document?e:((ar=T.defined(ar)?ar:document.createElement("a")).href=e,ar.href=ar.href,ar.href)}function lr(){if(T.defined(ir))return ir;var e="undefined"!=typeof CESIUM_BASE_URL?CESIUM_BASE_URL:"object"==typeof define&&T.defined(define.amd)&&!define.amd.toUrlUndefined&&T.defined(require.toUrl)?cn("..",fr("Core/buildModuleUrl.js")):function(){for(var e=document.getElementsByTagName("script"),t=0,n=e.length;t<n;++t){var r=e[t].getAttribute("src"),r=or.exec(r);if(null!==r)return r[1]}}();return(ir=new f({url:ur(e)})).appendForwardSlash(),ir}function cr(e){return ur(require.toUrl("../"+e))}function dr(e){return lr().getDerivedResource({url:e}).url}function fr(e){return(sr=T.defined(sr)?sr:"object"==typeof define&&T.defined(define.amd)&&!define.amd.toUrlUndefined&&T.defined(require.toUrl)?cr:dr)(e)}function hr(e,t,n){this.x=e,this.y=t,this.s=n}function pr(e){e=T.defaultValue(e,T.defaultValue.EMPTY_OBJECT),this._xysFileUrlTemplate=f.createIfNeeded(e.xysFileUrlTemplate),this._interpolationOrder=T.defaultValue(e.interpolationOrder,9),this._sampleZeroJulianEphemerisDate=T.defaultValue(e.sampleZeroJulianEphemerisDate,2442396.5),this._sampleZeroDateTT=new g(this._sampleZeroJulianEphemerisDate,0,w.TAI),this._stepSizeDays=T.defaultValue(e.stepSizeDays,1),this._samplesPerXysFile=T.defaultValue(e.samplesPerXysFile,1e3),this._totalSamples=T.defaultValue(e.totalSamples,27426),this._samples=new Array(3*this._totalSamples),this._chunkDownloadsInProgress=[];for(var t=this._interpolationOrder,n=this._denominators=new Array(t+1),r=this._xTable=new Array(t+1),a=Math.pow(this._stepSizeDays,t),i=0;i<=t;++i){n[i]=a,r[i]=i*this._stepSizeDays;for(var s=0;s<=t;++s)s!==i&&(n[i]*=i-s);n[i]=1/n[i]}this._work=new Array(t+1),this._coef=new Array(t+1)}fr._cesiumScriptRegex=or,fr._buildModuleUrlFromBaseUrl=dr,fr._clearBaseResource=function(){ir=void 0},fr.setBaseUrl=function(e){ir=f.DEFAULT.getDerivedResource({url:e})},fr.getCesiumBaseUrl=lr;var mr=new g(0,0,w.TAI);function yr(e,t,n){var r=mr;return r.dayNumber=t,r.secondsOfDay=n,g.daysDifference(r,e._sampleZeroDateTT)}function Ar(s,o){if(s._chunkDownloadsInProgress[o])return s._chunkDownloadsInProgress[o];var u=T.when.defer(),e=(s._chunkDownloadsInProgress[o]=u,s._xysFileUrlTemplate),e=T.defined(e)?e.getDerivedResource({templateValues:{0:o}}):new f({url:fr("Assets/IAU2006_XYS/IAU2006_XYS_"+o+".json")});return T.when(e.fetchJson(),function(e){s._chunkDownloadsInProgress[o]=!1;for(var t=s._samples,n=e.samples,r=o*s._samplesPerXysFile*3,a=0,i=n.length;a<i;++a)t[r+a]=n[a];u.resolve()}),u.promise}pr.prototype.preload=function(e,t,n,r){for(var e=yr(this,e,t),t=yr(this,n,r),n=e/this._stepSizeDays-this._interpolationOrder/2|0,r=t/this._stepSizeDays-this._interpolationOrder/2|0+this._interpolationOrder,e=(r>=this._totalSamples&&(r=this._totalSamples-1),(n=n<0?0:n)/this._samplesPerXysFile|0),a=r/this._samplesPerXysFile|0,i=[],s=e;s<=a;++s)i.push(Ar(this,s));return T.when.all(i)},pr.prototype.computeXysRadians=function(e,t,n){e=yr(this,e,t);if(!(e<0)){t=e/this._stepSizeDays|0;if(!(t>=this._totalSamples)){var r=this._interpolationOrder,a=t-(r/2|0),t=(a=a<0?0:a)+r,i=(t>=this._totalSamples&&(a=(t=this._totalSamples-1)-r)<0&&(a=0),!1),s=this._samples;if(T.defined(s[3*a])||(Ar(this,a/this._samplesPerXysFile|0),i=!0),T.defined(s[3*t])||(Ar(this,t/this._samplesPerXysFile|0),i=!0),!i){T.defined(n)?(n.x=0,n.y=0,n.s=0):n=new hr(0,0,0);for(var o,c=e-a*this._stepSizeDays,d=this._work,f=this._denominators,u=this._coef,h=this._xTable,l=0;l<=r;++l)d[l]=c-h[l];for(l=0;l<=r;++l){for(u[l]=1,o=0;o<=r;++o)o!==l&&(u[l]*=d[o]);u[l]*=f[l];var p=3*(a+l);n.x+=u[l]*s[p++],n.y+=u[l]*s[p++],n.s+=u[l]*s[p]}return n}}}};var Cr={},wr={up:{south:"east",north:"west",west:"south",east:"north"},down:{south:"west",north:"east",west:"north",east:"south"},south:{up:"west",down:"east",west:"down",east:"up"},north:{up:"east",down:"west",west:"up",east:"down"},west:{up:"north",down:"south",north:"down",south:"up"},east:{up:"south",down:"north",north:"up",south:"down"}},gr={north:[-1,0,0],east:[0,1,0],up:[0,0,1],south:[1,0,0],west:[0,-1,0],down:[0,0,-1]},vr={},xr={east:new R.Cartesian3,north:new R.Cartesian3,up:new R.Cartesian3,west:new R.Cartesian3,south:new R.Cartesian3,down:new R.Cartesian3},Er=new R.Cartesian3,Or=new R.Cartesian3,Sr=new R.Cartesian3,_r=(Cr.localFrameToFixedFrameGenerator=function(a,i){if(!wr.hasOwnProperty(a)||!wr[a].hasOwnProperty(i))throw new o.DeveloperError("firstAxis and secondAxis must be east, north, up, west, south or down.");var e,s=wr[a][i],t=a+i;return T.defined(vr[t])?e=vr[t]:vr[t]=e=function(e,t,n){var r;return T.defined(n)||(n=new L),R.Cartesian3.equalsEpsilon(e,R.Cartesian3.ZERO,k.CesiumMath.EPSILON14)?(R.Cartesian3.unpack(gr[a],0,Er),R.Cartesian3.unpack(gr[i],0,Or),R.Cartesian3.unpack(gr[s],0,Sr)):k.CesiumMath.equalsEpsilon(e.x,0,k.CesiumMath.EPSILON14)&&k.CesiumMath.equalsEpsilon(e.y,0,k.CesiumMath.EPSILON14)?(r=k.CesiumMath.sign(e.z),R.Cartesian3.unpack(gr[a],0,Er),"east"!==a&&"west"!==a&&R.Cartesian3.multiplyByScalar(Er,r,Er),R.Cartesian3.unpack(gr[i],0,Or),"east"!==i&&"west"!==i&&R.Cartesian3.multiplyByScalar(Or,r,Or),R.Cartesian3.unpack(gr[s],0,Sr),"east"!==s&&"west"!==s&&R.Cartesian3.multiplyByScalar(Sr,r,Sr)):((t=T.defaultValue(t,R.Ellipsoid.WGS84)).geodeticSurfaceNormal(e,xr.up),r=xr.up,(t=xr.east).x=-e.y,t.y=e.x,t.z=0,R.Cartesian3.normalize(t,xr.east),R.Cartesian3.cross(r,t,xr.north),R.Cartesian3.multiplyByScalar(xr.up,-1,xr.down),R.Cartesian3.multiplyByScalar(xr.east,-1,xr.west),R.Cartesian3.multiplyByScalar(xr.north,-1,xr.south),Er=xr[a],Or=xr[i],Sr=xr[s]),n[0]=Er.x,n[1]=Er.y,n[2]=Er.z,n[3]=0,n[4]=Or.x,n[5]=Or.y,n[6]=Or.z,n[7]=0,n[8]=Sr.x,n[9]=Sr.y,n[10]=Sr.z,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,n},e},Cr.eastNorthUpToFixedFrame=Cr.localFrameToFixedFrameGenerator("east","north"),Cr.northEastDownToFixedFrame=Cr.localFrameToFixedFrameGenerator("north","east"),Cr.northUpEastToFixedFrame=Cr.localFrameToFixedFrameGenerator("north","up"),Cr.northWestUpToFixedFrame=Cr.localFrameToFixedFrameGenerator("north","west"),new c),br=new R.Cartesian3(1,1,1),Mr=new L,Rr=(Cr.headingPitchRollToFixedFrame=function(e,t,n,r,a){r=T.defaultValue(r,Cr.eastNorthUpToFixedFrame);t=c.fromHeadingPitchRoll(t,_r),t=L.fromTranslationQuaternionRotationScale(R.Cartesian3.ZERO,t,br,Mr);return a=r(e,n,a),L.multiply(a,t,a)},new L),Tr=new F,qr=(Cr.headingPitchRollQuaternion=function(e,t,n,r,a){e=Cr.headingPitchRollToFixedFrame(e,t,n,r,Rr),t=L.getMatrix3(e,Tr);return c.fromRotationMatrix(t,a)},new R.Cartesian3(1,1,1)),zr=new R.Cartesian3,Ir=new L,Ur=new L,Dr=new F,Pr=new c,Nr=(Cr.fixedFrameToHeadingPitchRoll=function(e,t,n,r){t=T.defaultValue(t,R.Ellipsoid.WGS84),n=T.defaultValue(n,Cr.eastNorthUpToFixedFrame),T.defined(r)||(r=new rr);var a=L.getTranslation(e,zr);if(R.Cartesian3.equals(a,R.Cartesian3.ZERO))return r.heading=0,r.pitch=0,r.roll=0,r;n=L.inverseTransformation(n(a,t,Ir),Ir),a=L.setScale(e,qr,Ur),a=L.setTranslation(a,R.Cartesian3.ZERO,a),n=L.multiply(n,a,n),t=c.fromRotationMatrix(L.getMatrix3(n,Dr),Pr),t=c.normalize(t,t);return rr.fromQuaternion(t,r)},k.CesiumMath.TWO_PI/86400),Vr=new g,Fr=(Cr.computeTemeToPseudoFixedMatrix=function(e,t){var e=(Vr=g.addSeconds(e,-g.computeTaiMinusUtc(e),Vr)).dayNumber,n=Vr.secondsOfDay,r=e-2451545,r=43200<=n?(.5+r)/Nt.DAYS_PER_JULIAN_CENTURY:(r-.5)/Nt.DAYS_PER_JULIAN_CENTURY,r=(24110.54841+r*(8640184.812866+r*(.093104+-62e-7*r)))*Nr%k.CesiumMath.TWO_PI+(72921158553e-15+11772758384668e-32*(e-2451545.5))*((n+.5*Nt.SECONDS_PER_DAY)%Nt.SECONDS_PER_DAY),e=Math.cos(r),n=Math.sin(r);return T.defined(t)?(t[0]=e,t[1]=-n,t[2]=0,t[3]=n,t[4]=e,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t):new F(e,n,0,-n,e,0,0,0,1)},Cr.iau2006XysData=new pr,Cr.earthOrientationParameters=Qn.NONE,32.184),Br=(Cr.preloadIcrfFixed=function(e){var t=e.start.dayNumber,n=e.start.secondsOfDay+Fr,r=e.stop.dayNumber,e=e.stop.secondsOfDay+Fr,t=Cr.iau2006XysData.preload(t,n,r,e),n=Cr.earthOrientationParameters.getPromiseToLoad();return T.when.all([t,n])},Cr.computeIcrfToFixedMatrix=function(e,t){T.defined(t)||(t=new F);e=Cr.computeFixedToIcrfMatrix(e,t);if(T.defined(e))return F.transpose(e,t)},new hr(0,0,0)),Lr=new zt(0,0,0,0,0),kr=new F,Wr=new F,jr=(Cr.computeFixedToIcrfMatrix=function(e,t){T.defined(t)||(t=new F);var n=Cr.earthOrientationParameters.compute(e,Lr);if(T.defined(n)){var r,a,i,s,o=e.dayNumber,u=e.secondsOfDay+Fr,l=Cr.iau2006XysData.computeXysRadians(o,u,Br);if(T.defined(l))return i=l.x+n.xPoleOffset,r=l.y+n.yPoleOffset,s=1/(1+Math.sqrt(1-i*i-r*r)),(a=kr)[0]=1-s*i*i,a[3]=-s*i*r,a[6]=i,a[1]=-s*i*r,a[4]=1-s*r*r,a[7]=r,a[2]=-i,a[5]=-r,a[8]=1-s*(i*i+r*r),s=F.fromRotationZ(-l.s,Wr),i=F.multiply(a,s,kr),r=e.dayNumber,a=(a=.779057273264+(l=(e.secondsOfDay-g.computeTaiMinusUtc(e)+n.ut1MinusUtc)/Nt.SECONDS_PER_DAY)+.00273781191135448*(r-2451545+l))%1*k.CesiumMath.TWO_PI,s=F.fromRotationZ(a,Wr),e=F.multiply(i,s,kr),r=Math.cos(n.xPoleWander),l=Math.cos(n.yPoleWander),a=Math.sin(n.xPoleWander),i=Math.sin(n.yPoleWander),s=o-2451545+u/Nt.SECONDS_PER_DAY,n=-47e-6*(s/=36525)*k.CesiumMath.RADIANS_PER_DEGREE/3600,o=Math.cos(n),u=Math.sin(n),(s=Wr)[0]=r*o,s[1]=r*u,s[2]=a,s[3]=-l*u+i*a*o,s[4]=l*o+i*a*u,s[5]=-i*r,s[6]=-i*u-l*a*o,s[7]=i*o-l*a*u,s[8]=l*r,F.multiply(e,s,t)}},new B),Yr=(Cr.pointToWindowCoordinates=function(e,t,n,r){return(r=Cr.pointToGLWindowCoordinates(e,t,n,r)).y=2*t[5]-r.y,r},Cr.pointToGLWindowCoordinates=function(e,t,n,r){T.defined(r)||(r=new R.Cartesian2);var a=jr;return L.multiplyByVector(e,B.fromElements(n.x,n.y,n.z,1,a),a),B.multiplyByScalar(a,1/a.w,a),L.multiplyByVector(t,a,a),R.Cartesian2.fromCartesian4(a,r)},new R.Cartesian3),Hr=new R.Cartesian3,Zr=new R.Cartesian3,Xr=(Cr.rotationMatrixFromPositionVelocity=function(e,t,n,r){n=T.defaultValue(n,R.Ellipsoid.WGS84).geodeticSurfaceNormal(e,Yr),e=R.Cartesian3.cross(t,n,Hr),R.Cartesian3.equalsEpsilon(e,R.Cartesian3.ZERO,k.CesiumMath.EPSILON6)&&(e=R.Cartesian3.clone(R.Cartesian3.UNIT_X,e)),n=R.Cartesian3.cross(e,t,Zr);return R.Cartesian3.normalize(n,n),R.Cartesian3.cross(t,n,e),R.Cartesian3.negate(e,e),R.Cartesian3.normalize(e,e),(r=T.defined(r)?r:new F)[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=e.x,r[4]=e.y,r[5]=e.z,r[6]=n.x,r[7]=n.y,r[8]=n.z,r},new L(0,0,1,0,1,0,0,0,0,1,0,0,0,0,0,1)),Jr=new R.Cartographic,Gr=new R.Cartesian3,Qr=new R.Cartesian3,Kr=new F,$r=new L,ea=new L;Cr.basisTo2D=function(e,t,n){var r=L.getTranslation(t,Qr),a=e.ellipsoid,i=a.cartesianToCartographic(r,Jr),e=e.project(i,Gr),i=(R.Cartesian3.fromElements(e.z,e.x,e.y,e),Cr.eastNorthUpToFixedFrame(r,a,$r)),r=L.inverseTransformation(i,ea),a=L.getMatrix3(t,Kr),i=L.multiplyByMatrix3(r,a,n);return L.multiply(Xr,i,n),L.setTranslation(n,e,n),n},Cr.wgs84To2DModelMatrix=function(e,t,n){var r=e.ellipsoid,a=Cr.eastNorthUpToFixedFrame(t,r,$r),a=L.inverseTransformation(a,ea),r=r.cartesianToCartographic(t,Jr),t=e.project(r,Gr),e=(R.Cartesian3.fromElements(t.z,t.x,t.y,t),L.fromTranslation(t,$r));return L.multiply(Xr,a,n),L.multiply(e,n,n),n},e.BoundingSphere=q,e.Cartesian4=B,e.FeatureDetection=rt,e.GeographicProjection=t,e.Intersect=a,e.Interval=i,e.Matrix3=F,e.Matrix4=L,e.Quaternion=c,e.Resource=f,e.Transforms=Cr,e.buildModuleUrl=fr});
