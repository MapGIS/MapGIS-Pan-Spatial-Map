define(["exports","./Check-f996273c","./when-ae2e0b60","./Math-5bbcea10"],function(e,d,S,q){"use strict";function O(e,t,n){this.x=S.defaultValue(e,0),this.y=S.defaultValue(t,0),this.z=S.defaultValue(n,0)}O.fromSpherical=function(e,t){S.defined(t)||(t=new O);var n=e.clock,a=e.cone,e=S.defaultValue(e.magnitude,1),i=e*Math.sin(a);return t.x=i*Math.cos(n),t.y=i*Math.sin(n),t.z=e*Math.cos(a),t},O.fromElements=function(e,t,n,a){return S.defined(a)?(a.x=e,a.y=t,a.z=n,a):new O(e,t,n)},O.fromCartesian4=O.clone=function(e,t){if(S.defined(e))return S.defined(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t):new O(e.x,e.y,e.z)},O.packedLength=3,O.pack=function(e,t,n){return n=S.defaultValue(n,0),t[n++]=e.x,t[n++]=e.y,t[n]=e.z,t},O.unpack=function(e,t,n){return t=S.defaultValue(t,0),(n=S.defined(n)?n:new O).x=e[t++],n.y=e[t++],n.z=e[t],n},O.packArray=function(e,t){var n=e.length,a=3*n;if(S.defined(t)){if(!Array.isArray(t)&&t.length!==a)throw new d.DeveloperError("If result is a typed array, it must have exactly array.length * 3 elements");t.length!==a&&(t.length=a)}else t=new Array(a);for(var i=0;i<n;++i)O.pack(e[i],t,3*i);return t},O.unpackArray=function(e,t){var n=e.length;S.defined(t)?t.length=n/3:t=new Array(n/3);for(var a=0;a<n;a+=3){var i=a/3;t[i]=O.unpack(e,a,t[i])}return t},O.fromArray=O.unpack,O.maximumComponent=function(e){return Math.max(e.x,e.y,e.z)},O.minimumComponent=function(e){return Math.min(e.x,e.y,e.z)},O.minimumByComponent=function(e,t,n){return n.x=Math.min(e.x,t.x),n.y=Math.min(e.y,t.y),n.z=Math.min(e.z,t.z),n},O.maximumByComponent=function(e,t,n){return n.x=Math.max(e.x,t.x),n.y=Math.max(e.y,t.y),n.z=Math.max(e.z,t.z),n},O.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y+e.z*e.z},O.magnitude=function(e){return Math.sqrt(O.magnitudeSquared(e))};var n=new O,i=(O.distance=function(e,t){return O.subtract(e,t,n),O.magnitude(n)},O.distanceSquared=function(e,t){return O.subtract(e,t,n),O.magnitudeSquared(n)},O.normalize=function(e,t){var n=O.magnitude(e);return t.x=e.x/n,t.y=e.y/n,t.z=e.z/n,t},O.dot=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z},O.multiplyComponents=function(e,t,n){return n.x=e.x*t.x,n.y=e.y*t.y,n.z=e.z*t.z,n},O.divideComponents=function(e,t,n){return n.x=e.x/t.x,n.y=e.y/t.y,n.z=e.z/t.z,n},O.add=function(e,t,n){return n.x=e.x+t.x,n.y=e.y+t.y,n.z=e.z+t.z,n},O.subtract=function(e,t,n){return n.x=e.x-t.x,n.y=e.y-t.y,n.z=e.z-t.z,n},O.multiplyByScalar=function(e,t,n){return n.x=e.x*t,n.y=e.y*t,n.z=e.z*t,n},O.divideByScalar=function(e,t,n){return n.x=e.x/t,n.y=e.y/t,n.z=e.z/t,n},O.negate=function(e,t){return t.x=-e.x,t.y=-e.y,t.z=-e.z,t},O.abs=function(e,t){return t.x=Math.abs(e.x),t.y=Math.abs(e.y),t.z=Math.abs(e.z),t},new O),a=(O.lerp=function(e,t,n,a){return O.multiplyByScalar(t,n,i),a=O.multiplyByScalar(e,1-n,a),O.add(i,a,a)},new O),h=new O,l=(O.angleBetween=function(e,t){O.normalize(e,a),O.normalize(t,h);e=O.dot(a,h),t=O.magnitude(O.cross(a,h,a));return Math.atan2(t,e)},new O),u=(O.mostOrthogonalAxis=function(e,t){e=O.normalize(e,l);return O.abs(e,e),t=e.x<=e.y?e.x<=e.z?O.clone(O.UNIT_X,t):O.clone(O.UNIT_Z,t):e.y<=e.z?O.clone(O.UNIT_Y,t):O.clone(O.UNIT_Z,t)},O.projectVector=function(e,t,n){e=O.dot(e,t)/O.dot(t,t);return O.multiplyByScalar(t,e,n)},O.equals=function(e,t){return e===t||S.defined(e)&&S.defined(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z},O.equalsArray=function(e,t,n){return e.x===t[n]&&e.y===t[n+1]&&e.z===t[n+2]},O.equalsEpsilon=function(e,t,n,a){return e===t||S.defined(e)&&S.defined(t)&&q.CesiumMath.equalsEpsilon(e.x,t.x,n,a)&&q.CesiumMath.equalsEpsilon(e.y,t.y,n,a)&&q.CesiumMath.equalsEpsilon(e.z,t.z,n,a)},O.cross=function(e,t,n){var a=e.x,i=e.y,e=e.z,r=t.x,u=t.y,t=t.z,o=e*r-a*t,a=a*u-i*r;return n.x=i*t-e*u,n.y=o,n.z=a,n},O.midpoint=function(e,t,n){return n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y),n.z=.5*(e.z+t.z),n},O.fromDegrees=function(e,t,n,a,i){return e=q.CesiumMath.toRadians(e),t=q.CesiumMath.toRadians(t),O.fromRadians(e,t,n,a,i)},new O),o=new O,m=new O(40680631590769,40680631590769,40408299984661.445),T=(O.fromRadians=function(e,t,n,a,i){n=S.defaultValue(n,0);var a=S.defined(a)?a.radiiSquared:m,r=Math.cos(t),r=(u.x=r*Math.cos(e),u.y=r*Math.sin(e),u.z=Math.sin(t),u=O.normalize(u,u),O.multiplyComponents(a,u,o),Math.sqrt(O.dot(u,o)));return o=O.divideByScalar(o,r,o),u=O.multiplyByScalar(u,n,u),S.defined(i)||(i=new O),O.add(o,u,i)},O.fromDegreesArray=function(e,t,n){var a=e.length;S.defined(n)?n.length=a/2:n=new Array(a/2);for(var i=0;i<a;i+=2){var r=e[i],u=e[i+1],o=i/2;n[o]=O.fromDegrees(r,u,0,t,n[o])}return n},O.fromRadiansArray=function(e,t,n){var a=e.length;S.defined(n)?n.length=a/2:n=new Array(a/2);for(var i=0;i<a;i+=2){var r=e[i],u=e[i+1],o=i/2;n[o]=O.fromRadians(r,u,0,t,n[o])}return n},O.fromDegreesArrayHeights=function(e,t,n){var a=e.length;S.defined(n)?n.length=a/3:n=new Array(a/3);for(var i=0;i<a;i+=3){var r=e[i],u=e[i+1],o=e[i+2],s=i/3;n[s]=O.fromDegrees(r,u,o,t,n[s])}return n},O.fromRadiansArrayHeights=function(e,t,n){var a=e.length;S.defined(n)?n.length=a/3:n=new Array(a/3);for(var i=0;i<a;i+=3){var r=e[i],u=e[i+1],o=e[i+2],s=i/3;n[s]=O.fromRadians(r,u,o,t,n[s])}return n},O.ZERO=Object.freeze(new O(0,0,0)),O.UNIT_X=Object.freeze(new O(1,0,0)),O.UNIT_Y=Object.freeze(new O(0,1,0)),O.UNIT_Z=Object.freeze(new O(0,0,1)),O.prototype.clone=function(e){return O.clone(this,e)},O.prototype.equals=function(e){return O.equals(this,e)},O.prototype.equalsEpsilon=function(e,t,n){return O.equalsEpsilon(this,e,t,n)},O.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},new O),A=new O;function y(e,t,h,l,n){var a=e.x,i=e.y,f=e.z,r=t.x,u=t.y,t=t.z,c=a*a*r*r,m=i*i*u*u,y=f*f*t*t,r=c+m+y,u=Math.sqrt(1/r),t=O.multiplyByScalar(e,u,T);if(r<l)return isFinite(u)?O.clone(t,n):void 0;var p=h.x,g=h.y,M=h.z,r=A,x=(r.x=t.x*p*2,r.y=t.y*g*2,r.z=t.z*M*2,(1-u)*O.magnitude(e)/(.5*O.magnitude(r))),w=0;do{var o,s,d,_,v,C,z,w=(z=c*(_=(o=1/(1+(x-=w)*p))*o)+m*(v=(s=1/(1+x*g))*s)+y*(C=(d=1/(1+x*M))*d)-1)/(-2*(c*(_*o)*p+m*(v*s)*g+y*(C*d)*M))}while(Math.abs(z)>q.CesiumMath.EPSILON12);return S.defined(n)?(n.x=a*o,n.y=i*s,n.z=f*d,n):new O(a*o,i*s,f*d)}function r(e,t,n){this.longitude=S.defaultValue(e,0),this.latitude=S.defaultValue(t,0),this.height=S.defaultValue(n,0)}r.fromRadians=function(e,t,n,a){return n=S.defaultValue(n,0),S.defined(a)?(a.longitude=e,a.latitude=t,a.height=n,a):new r(e,t,n)},r.fromDegrees=function(e,t,n,a){return e=q.CesiumMath.toRadians(e),t=q.CesiumMath.toRadians(t),r.fromRadians(e,t,n,a)};var p=new O,g=new O,M=new O,x=new O(1/6378137,1/6378137,1/6356752.314245179),w=new O(1/40680631590769,1/40680631590769,1/40408299984661.445),_=q.CesiumMath.EPSILON1;function v(e,t,n,a){t=S.defaultValue(t,0),n=S.defaultValue(n,0),a=S.defaultValue(a,0),e._radii=new O(t,n,a),e._radiiSquared=new O(t*t,n*n,a*a),e._radiiToTheFourth=new O(t*t*t*t,n*n*n*n,a*a*a*a),e._oneOverRadii=new O(0===t?0:1/t,0===n?0:1/n,0===a?0:1/a),e._oneOverRadiiSquared=new O(0===t?0:1/(t*t),0===n?0:1/(n*n),0===a?0:1/(a*a)),e._minimumRadius=Math.min(t,n,a),e._maximumRadius=Math.max(t,n,a),e._centerToleranceSquared=q.CesiumMath.EPSILON1,0!==e._radiiSquared.z&&(e._squaredXOverSquaredZ=e._radiiSquared.x/e._radiiSquared.z)}function f(e,t,n){this._radii=void 0,this._radiiSquared=void 0,this._radiiToTheFourth=void 0,this._oneOverRadii=void 0,this._oneOverRadiiSquared=void 0,this._minimumRadius=void 0,this._maximumRadius=void 0,this._centerToleranceSquared=void 0,this._squaredXOverSquaredZ=void 0,v(this,e,t,n)}r.fromCartesian=function(e,t,n){var a=S.defined(t)?t.oneOverRadii:x,i=S.defined(t)?t.oneOverRadiiSquared:w,a=y(e,a,i,S.defined(t)?t._centerToleranceSquared:_,g);if(S.defined(a))return t=O.multiplyComponents(a,i,p),t=O.normalize(t,t),i=O.subtract(e,a,M),a=Math.atan2(t.y,t.x),t=Math.asin(t.z),e=q.CesiumMath.sign(O.dot(i,e))*O.magnitude(i),S.defined(n)?(n.longitude=a,n.latitude=t,n.height=e,n):new r(a,t,e)},r.toCartesian=function(e,t,n){return O.fromRadians(e.longitude,e.latitude,e.height,t,n)},r.clone=function(e,t){if(S.defined(e))return S.defined(t)?(t.longitude=e.longitude,t.latitude=e.latitude,t.height=e.height,t):new r(e.longitude,e.latitude,e.height)},r.equals=function(e,t){return e===t||S.defined(e)&&S.defined(t)&&e.longitude===t.longitude&&e.latitude===t.latitude&&e.height===t.height},r.equalsEpsilon=function(e,t,n){return n=S.defaultValue(n,0),e===t||S.defined(e)&&S.defined(t)&&Math.abs(e.longitude-t.longitude)<=n&&Math.abs(e.latitude-t.latitude)<=n&&Math.abs(e.height-t.height)<=n},r.ZERO=Object.freeze(new r(0,0,0)),r.prototype.clone=function(e){return r.clone(this,e)},r.prototype.equals=function(e){return r.equals(this,e)},r.prototype.equalsEpsilon=function(e,t){return r.equalsEpsilon(this,e,t)},r.prototype.toString=function(){return"("+this.longitude+", "+this.latitude+", "+this.height+")"},Object.defineProperties(f.prototype,{radii:{get:function(){return this._radii}},radiiSquared:{get:function(){return this._radiiSquared}},radiiToTheFourth:{get:function(){return this._radiiToTheFourth}},oneOverRadii:{get:function(){return this._oneOverRadii}},oneOverRadiiSquared:{get:function(){return this._oneOverRadiiSquared}},minimumRadius:{get:function(){return this._minimumRadius}},maximumRadius:{get:function(){return this._maximumRadius}}}),f.clone=function(e,t){var n;if(S.defined(e))return n=e._radii,S.defined(t)?(O.clone(n,t._radii),O.clone(e._radiiSquared,t._radiiSquared),O.clone(e._radiiToTheFourth,t._radiiToTheFourth),O.clone(e._oneOverRadii,t._oneOverRadii),O.clone(e._oneOverRadiiSquared,t._oneOverRadiiSquared),t._minimumRadius=e._minimumRadius,t._maximumRadius=e._maximumRadius,t._centerToleranceSquared=e._centerToleranceSquared,t):new f(n.x,n.y,n.z)},f.fromCartesian3=function(e,t){return S.defined(t)||(t=new f),S.defined(e)&&v(t,e.x,e.y,e.z),t},f.WGS84=Object.freeze(new f(6378137,6378137,6356752.314245179)),f.UNIT_SPHERE=Object.freeze(new f(1,1,1)),f.MOON=Object.freeze(new f(q.CesiumMath.LUNAR_RADIUS,q.CesiumMath.LUNAR_RADIUS,q.CesiumMath.LUNAR_RADIUS)),f.prototype.clone=function(e){return f.clone(this,e)},f.packedLength=O.packedLength,f.pack=function(e,t,n){return n=S.defaultValue(n,0),O.pack(e._radii,t,n),t},f.unpack=function(e,t,n){t=S.defaultValue(t,0);e=O.unpack(e,t);return f.fromCartesian3(e,n)},f.prototype.geocentricSurfaceNormal=O.normalize,f.prototype.geodeticSurfaceNormalCartographic=function(e,t){var n=e.longitude,e=e.latitude,a=Math.cos(e),i=a*Math.cos(n),a=a*Math.sin(n),n=Math.sin(e);return(t=S.defined(t)?t:new O).x=i,t.y=a,t.z=n,O.normalize(t,t)},f.prototype.geodeticSurfaceNormal=function(e,t){if(!O.equalsEpsilon(e,O.ZERO,q.CesiumMath.EPSILON14))return S.defined(t)||(t=new O),t=O.multiplyComponents(e,this._oneOverRadiiSquared,t),O.normalize(t,t)};var C=new O,z=new O,R=(f.prototype.cartographicToCartesian=function(e,t){var n=C,a=z,i=(this.geodeticSurfaceNormalCartographic(e,n),O.multiplyComponents(this._radiiSquared,n,a),Math.sqrt(O.dot(n,a)));return O.divideByScalar(a,i,a),O.multiplyByScalar(n,e.height,n),S.defined(t)||(t=new O),O.add(a,n,t)},f.prototype.cartographicArrayToCartesianArray=function(e,t){var n=e.length;S.defined(t)?t.length=n:t=new Array(n);for(var a=0;a<n;a++)t[a]=this.cartographicToCartesian(e[a],t[a]);return t},new O),V=new O,b=new O,I=(f.prototype.cartesianToCartographic=function(e,t){var n,a,i=this.scaleToGeodeticSurface(e,V);if(S.defined(i))return a=this.geodeticSurfaceNormal(i,R),i=O.subtract(e,i,b),n=Math.atan2(a.y,a.x),a=Math.asin(a.z),e=q.CesiumMath.sign(O.dot(i,e))*O.magnitude(i),S.defined(t)?(t.longitude=n,t.latitude=a,t.height=e,t):new r(n,a,e)},f.prototype.cartesianArrayToCartographicArray=function(e,t){var n=e.length;S.defined(t)?t.length=n:t=new Array(n);for(var a=0;a<n;++a)t[a]=this.cartesianToCartographic(e[a],t[a]);return t},f.prototype.scaleToGeodeticSurface=function(e,t){return y(e,this._oneOverRadii,this._oneOverRadiiSquared,this._centerToleranceSquared,t)},f.prototype.scaleToGeocentricSurface=function(e,t){S.defined(t)||(t=new O);var n=e.x,a=e.y,i=e.z,r=this._oneOverRadiiSquared,n=1/Math.sqrt(n*n*r.x+a*a*r.y+i*i*r.z);return O.multiplyByScalar(e,n,t)},f.prototype.transformPositionToScaledSpace=function(e,t){return S.defined(t)||(t=new O),O.multiplyComponents(e,this._oneOverRadii,t)},f.prototype.transformPositionFromScaledSpace=function(e,t){return S.defined(t)||(t=new O),O.multiplyComponents(e,this._radii,t)},f.prototype.equals=function(e){return this===e||S.defined(e)&&O.equals(this._radii,e._radii)},f.prototype.toString=function(){return this._radii.toString()},f.prototype.getSurfaceNormalIntersectionWithZAxis=function(e,t,n){t=S.defaultValue(t,0);var a=this._squaredXOverSquaredZ;if((n=S.defined(n)?n:new O).x=0,n.y=0,n.z=e.z*(1-a),!(Math.abs(n.z)>=this._radii.z-t))return n},[.14887433898163,.43339539412925,.67940956829902,.86506336668898,.97390652851717,0]),E=[.29552422471475,.26926671930999,.21908636251598,.14945134915058,.066671344308684,0];function P(e,t,n){for(var a=.5*(t+e),i=.5*(t-e),r=0,u=0;u<5;u++){var o=i*I[u];r+=E[u]*(n(a+o)+n(a-o))}return r*=i}function c(e,t,n,a){this.west=S.defaultValue(e,0),this.south=S.defaultValue(t,0),this.east=S.defaultValue(n,0),this.north=S.defaultValue(a,0)}f.prototype.surfaceArea=function(e){for(var t=e.west,i=e.east,n=e.south,e=e.north;i<t;)i+=q.CesiumMath.TWO_PI;var a=this._radiiSquared,r=a.x,u=a.y,o=a.z,s=r*u;return P(n,e,function(e){var n=Math.cos(e),a=Math.sin(e);return Math.cos(e)*P(t,i,function(e){var t=Math.cos(e),e=Math.sin(e);return Math.sqrt(s*a*a+o*(u*t*t+r*e*e)*n*n)})})},Object.defineProperties(c.prototype,{width:{get:function(){return c.computeWidth(this)}},height:{get:function(){return c.computeHeight(this)}}}),c.packedLength=4,c.pack=function(e,t,n){return n=S.defaultValue(n,0),t[n++]=e.west,t[n++]=e.south,t[n++]=e.east,t[n]=e.north,t},c.unpack=function(e,t,n){return t=S.defaultValue(t,0),(n=S.defined(n)?n:new c).west=e[t++],n.south=e[t++],n.east=e[t++],n.north=e[t],n},c.computeWidth=function(e){var t=e.east,e=e.west;return t<e&&(t+=q.CesiumMath.TWO_PI),t-e},c.computeHeight=function(e){return e.north-e.south},c.fromDegrees=function(e,t,n,a,i){return e=q.CesiumMath.toRadians(S.defaultValue(e,0)),t=q.CesiumMath.toRadians(S.defaultValue(t,0)),n=q.CesiumMath.toRadians(S.defaultValue(n,0)),a=q.CesiumMath.toRadians(S.defaultValue(a,0)),S.defined(i)?(i.west=e,i.south=t,i.east=n,i.north=a,i):new c(e,t,n,a)},c.fromRadians=function(e,t,n,a,i){return S.defined(i)?(i.west=S.defaultValue(e,0),i.south=S.defaultValue(t,0),i.east=S.defaultValue(n,0),i.north=S.defaultValue(a,0),i):new c(e,t,n,a)},c.fromCartographicArray=function(e,t){for(var n=Number.MAX_VALUE,a=-Number.MAX_VALUE,i=Number.MAX_VALUE,r=-Number.MAX_VALUE,u=Number.MAX_VALUE,o=-Number.MAX_VALUE,s=0,h=e.length;s<h;s++)var d=e[s],n=Math.min(n,d.longitude),a=Math.max(a,d.longitude),u=Math.min(u,d.latitude),o=Math.max(o,d.latitude),d=0<=d.longitude?d.longitude:d.longitude+q.CesiumMath.TWO_PI,i=Math.min(i,d),r=Math.max(r,d);return r-i<a-n&&(n=i,(a=r)>q.CesiumMath.PI&&(a-=q.CesiumMath.TWO_PI),n>q.CesiumMath.PI&&(n-=q.CesiumMath.TWO_PI)),S.defined(t)?(t.west=n,t.south=u,t.east=a,t.north=o,t):new c(n,u,a,o)},c.fromCartesianArray=function(h,e,t){e=S.defaultValue(e,f.WGS84);for(var n=Number.MAX_VALUE,a=-Number.MAX_VALUE,i=Number.MAX_VALUE,r=-Number.MAX_VALUE,u=Number.MAX_VALUE,o=-Number.MAX_VALUE,s=0,l=h.length;s<l;s++)var d=e.cartesianToCartographic(h[s]),n=Math.min(n,d.longitude),a=Math.max(a,d.longitude),u=Math.min(u,d.latitude),o=Math.max(o,d.latitude),d=0<=d.longitude?d.longitude:d.longitude+q.CesiumMath.TWO_PI,i=Math.min(i,d),r=Math.max(r,d);return r-i<a-n&&(n=i,(a=r)>q.CesiumMath.PI&&(a-=q.CesiumMath.TWO_PI),n>q.CesiumMath.PI&&(n-=q.CesiumMath.TWO_PI)),S.defined(t)?(t.west=n,t.south=u,t.east=a,t.north=o,t):new c(n,u,a,o)},c.clone=function(e,t){if(S.defined(e))return S.defined(t)?(t.west=e.west,t.south=e.south,t.east=e.east,t.north=e.north,t):new c(e.west,e.south,e.east,e.north)},c.equalsEpsilon=function(e,t,n){return n=S.defaultValue(n,0),e===t||S.defined(e)&&S.defined(t)&&Math.abs(e.west-t.west)<=n&&Math.abs(e.south-t.south)<=n&&Math.abs(e.east-t.east)<=n&&Math.abs(e.north-t.north)<=n},c.prototype.clone=function(e){return c.clone(this,e)},c.prototype.equals=function(e){return c.equals(this,e)},c.equals=function(e,t){return e===t||S.defined(e)&&S.defined(t)&&e.west===t.west&&e.south===t.south&&e.east===t.east&&e.north===t.north},c.prototype.equalsEpsilon=function(e,t){return c.equalsEpsilon(this,e,t)},c.validate=function(e){},c.southwest=function(e,t){return S.defined(t)?(t.longitude=e.west,t.latitude=e.south,t.height=0,t):new r(e.west,e.south)},c.northwest=function(e,t){return S.defined(t)?(t.longitude=e.west,t.latitude=e.north,t.height=0,t):new r(e.west,e.north)},c.northeast=function(e,t){return S.defined(t)?(t.longitude=e.east,t.latitude=e.north,t.height=0,t):new r(e.east,e.north)},c.southeast=function(e,t){return S.defined(t)?(t.longitude=e.east,t.latitude=e.south,t.height=0,t):new r(e.east,e.south)},c.center=function(e,t){var n=e.east,a=e.west,a=(n<a&&(n+=q.CesiumMath.TWO_PI),q.CesiumMath.negativePiToPi(.5*(a+n))),n=.5*(e.south+e.north);return S.defined(t)?(t.longitude=a,t.latitude=n,t.height=0,t):new r(a,n)},c.intersection=function(e,t,n){var a=e.east,i=e.west,r=t.east,u=t.west,i=(a<i&&0<r?a+=q.CesiumMath.TWO_PI:r<u&&0<a&&(r+=q.CesiumMath.TWO_PI),a<i&&u<0?u+=q.CesiumMath.TWO_PI:r<u&&i<0&&(i+=q.CesiumMath.TWO_PI),q.CesiumMath.negativePiToPi(Math.max(i,u))),u=q.CesiumMath.negativePiToPi(Math.min(a,r));if(!((e.west<e.east||t.west<t.east)&&u<=i)){a=Math.max(e.south,t.south),r=Math.min(e.north,t.north);if(!(r<=a))return S.defined(n)?(n.west=i,n.south=a,n.east=u,n.north=r,n):new c(i,a,u,r)}},c.simpleIntersection=function(e,t,n){var a=Math.max(e.west,t.west),i=Math.max(e.south,t.south),r=Math.min(e.east,t.east),e=Math.min(e.north,t.north);if(!(e<=i||r<=a))return S.defined(n)?(n.west=a,n.south=i,n.east=r,n.north=e,n):new c(a,i,r,e)},c.union=function(e,t,n){S.defined(n)||(n=new c);var a=e.east,i=e.west,r=t.east,u=t.west,i=(a<i&&0<r?a+=q.CesiumMath.TWO_PI:r<u&&0<a&&(r+=q.CesiumMath.TWO_PI),a<i&&u<0?u+=q.CesiumMath.TWO_PI:r<u&&i<0&&(i+=q.CesiumMath.TWO_PI),q.CesiumMath.convertLongitudeRange(Math.min(i,u))),u=q.CesiumMath.convertLongitudeRange(Math.max(a,r));return n.west=i,n.south=Math.min(e.south,t.south),n.east=u,n.north=Math.max(e.north,t.north),n},c.expand=function(e,t,n){return(n=S.defined(n)?n:new c).west=Math.min(e.west,t.longitude),n.south=Math.min(e.south,t.latitude),n.east=Math.max(e.east,t.longitude),n.north=Math.max(e.north,t.latitude),n},c.contains=function(e,t){var n=t.longitude,t=t.latitude,a=e.west,i=e.east;return i<a&&(i+=q.CesiumMath.TWO_PI,n<0&&(n+=q.CesiumMath.TWO_PI)),(a<n||q.CesiumMath.equalsEpsilon(n,a,q.CesiumMath.EPSILON14))&&(n<i||q.CesiumMath.equalsEpsilon(n,i,q.CesiumMath.EPSILON14))&&t>=e.south&&t<=e.north};var N=new r;function s(e,t){this.x=S.defaultValue(e,0),this.y=S.defaultValue(t,0)}c.subsample=function(e,t,n,a){t=S.defaultValue(t,f.WGS84),n=S.defaultValue(n,0),S.defined(a)||(a=[]);var i=0,r=e.north,u=e.south,h=e.east,o=e.west,s=N;s.height=n,s.longitude=o,s.latitude=r,a[i]=t.cartographicToCartesian(s,a[i]),i++,s.longitude=h,a[i]=t.cartographicToCartesian(s,a[i]),i++,s.latitude=u,a[i]=t.cartographicToCartesian(s,a[i]),i++,s.longitude=o,a[i]=t.cartographicToCartesian(s,a[i]),i++,s.latitude=r<0?r:0<u?u:0;for(var d=1;d<8;++d)s.longitude=-Math.PI+d*q.CesiumMath.PI_OVER_TWO,c.contains(e,s)&&(a[i]=t.cartographicToCartesian(s,a[i]),i++);return 0===s.latitude&&(s.longitude=o,a[i]=t.cartographicToCartesian(s,a[i]),i++,s.longitude=h,a[i]=t.cartographicToCartesian(s,a[i]),i++),a.length=i,a},c.MAX_VALUE=Object.freeze(new c(-Math.PI,-q.CesiumMath.PI_OVER_TWO,Math.PI,q.CesiumMath.PI_OVER_TWO)),s.fromElements=function(e,t,n){return S.defined(n)?(n.x=e,n.y=t,n):new s(e,t)},s.fromCartesian3=s.clone=function(e,t){if(S.defined(e))return S.defined(t)?(t.x=e.x,t.y=e.y,t):new s(e.x,e.y)},s.fromCartesian4=s.clone,s.packedLength=2,s.pack=function(e,t,n){return n=S.defaultValue(n,0),t[n++]=e.x,t[n]=e.y,t},s.unpack=function(e,t,n){return t=S.defaultValue(t,0),(n=S.defined(n)?n:new s).x=e[t++],n.y=e[t],n},s.packArray=function(e,t){var n=e.length,a=2*n;if(S.defined(t)){if(!Array.isArray(t)&&t.length!==a)throw new d.DeveloperError("If result is a typed array, it must have exactly array.length * 2 elements");t.length!==a&&(t.length=a)}else t=new Array(a);for(var i=0;i<n;++i)s.pack(e[i],t,2*i);return t},s.unpackArray=function(e,t){var n=e.length;S.defined(t)?t.length=n/2:t=new Array(n/2);for(var a=0;a<n;a+=2){var i=a/2;t[i]=s.unpack(e,a,t[i])}return t},s.fromArray=s.unpack,s.maximumComponent=function(e){return Math.max(e.x,e.y)},s.minimumComponent=function(e){return Math.min(e.x,e.y)},s.minimumByComponent=function(e,t,n){return n.x=Math.min(e.x,t.x),n.y=Math.min(e.y,t.y),n},s.maximumByComponent=function(e,t,n){return n.x=Math.max(e.x,t.x),n.y=Math.max(e.y,t.y),n},s.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},s.magnitude=function(e){return Math.sqrt(s.magnitudeSquared(e))};var U=new s,L=(s.distance=function(e,t){return s.subtract(e,t,U),s.magnitude(U)},s.distanceSquared=function(e,t){return s.subtract(e,t,U),s.magnitudeSquared(U)},s.normalize=function(e,t){var n=s.magnitude(e);return t.x=e.x/n,t.y=e.y/n,t},s.dot=function(e,t){return e.x*t.x+e.y*t.y},s.cross=function(e,t){return e.x*t.y-e.y*t.x},s.multiplyComponents=function(e,t,n){return n.x=e.x*t.x,n.y=e.y*t.y,n},s.divideComponents=function(e,t,n){return n.x=e.x/t.x,n.y=e.y/t.y,n},s.add=function(e,t,n){return n.x=e.x+t.x,n.y=e.y+t.y,n},s.subtract=function(e,t,n){return n.x=e.x-t.x,n.y=e.y-t.y,n},s.multiplyByScalar=function(e,t,n){return n.x=e.x*t,n.y=e.y*t,n},s.divideByScalar=function(e,t,n){return n.x=e.x/t,n.y=e.y/t,n},s.negate=function(e,t){return t.x=-e.x,t.y=-e.y,t},s.abs=function(e,t){return t.x=Math.abs(e.x),t.y=Math.abs(e.y),t},new s),W=(s.lerp=function(e,t,n,a){return s.multiplyByScalar(t,n,L),a=s.multiplyByScalar(e,1-n,a),s.add(L,a,a)},new s),k=new s,B=(s.angleBetween=function(e,t){return s.normalize(e,W),s.normalize(t,k),q.CesiumMath.acosClamped(s.dot(W,k))},new s);s.mostOrthogonalAxis=function(e,t){e=s.normalize(e,B);return s.abs(e,e),t=e.x<=e.y?s.clone(s.UNIT_X,t):s.clone(s.UNIT_Y,t)},s.equals=function(e,t){return e===t||S.defined(e)&&S.defined(t)&&e.x===t.x&&e.y===t.y},s.equalsArray=function(e,t,n){return e.x===t[n]&&e.y===t[n+1]},s.equalsEpsilon=function(e,t,n,a){return e===t||S.defined(e)&&S.defined(t)&&q.CesiumMath.equalsEpsilon(e.x,t.x,n,a)&&q.CesiumMath.equalsEpsilon(e.y,t.y,n,a)},s.ZERO=Object.freeze(new s(0,0)),s.UNIT_X=Object.freeze(new s(1,0)),s.UNIT_Y=Object.freeze(new s(0,1)),s.prototype.clone=function(e){return s.clone(this,e)},s.prototype.equals=function(e){return s.equals(this,e)},s.prototype.equalsEpsilon=function(e,t,n){return s.equalsEpsilon(this,e,t,n)},s.prototype.toString=function(){return"("+this.x+", "+this.y+")"},e.Cartesian2=s,e.Cartesian3=O,e.Cartographic=r,e.Ellipsoid=f,e.Rectangle=c});
