define(["./Transforms-07a9fab5","./Cartesian2-38b35910","./Check-f996273c","./when-ae2e0b60","./Math-5bbcea10","./ArcType-1275a14e","./arrayRemoveDuplicates-bdf50aa0","./ComponentDatatype-e44126e4","./EllipsoidGeodesic-0207b202","./EllipsoidRhumbLine-af7b5ebe","./EncodedCartesian3-d40e98d6","./GeometryAttribute-586bf52c","./IntersectionTests-f49c7cd3","./Plane-45ad3143","./WebMercatorProjection-cf614542","./combine-276652d0","./RuntimeError-ac2797b4","./WebGLConstants-35626ea2"],function(sa,oa,a,la,ua,da,ga,fa,T,ma,wa,ya,Ma,r,t,n,i,s){"use strict";function e(e){e=la.defaultValue(e,la.defaultValue.EMPTY_OBJECT),this._ellipsoid=la.defaultValue(e.ellipsoid,oa.Ellipsoid.WGS84),this._rectangle=la.defaultValue(e.rectangle,oa.Rectangle.MAX_VALUE),this._projection=new sa.GeographicProjection(this._ellipsoid),this._numberOfLevelZeroTilesX=la.defaultValue(e.numberOfLevelZeroTilesX,2),this._numberOfLevelZeroTilesY=la.defaultValue(e.numberOfLevelZeroTilesY,1)}Object.defineProperties(e.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},rectangle:{get:function(){return this._rectangle}},projection:{get:function(){return this._projection}}}),e.prototype.getNumberOfXTilesAtLevel=function(e){return this._numberOfLevelZeroTilesX<<e},e.prototype.getNumberOfYTilesAtLevel=function(e){return this._numberOfLevelZeroTilesY<<e},e.prototype.rectangleToNativeRectangle=function(e,a){var t=ua.CesiumMath.toDegrees(e.west),n=ua.CesiumMath.toDegrees(e.south),i=ua.CesiumMath.toDegrees(e.east),e=ua.CesiumMath.toDegrees(e.north);return la.defined(a)?(a.west=t,a.south=n,a.east=i,a.north=e,a):new oa.Rectangle(t,n,i,e)},e.prototype.tileXYToNativeRectangle=function(e,a,t,n){e=this.tileXYToRectangle(e,a,t,n);return e.west=ua.CesiumMath.toDegrees(e.west),e.south=ua.CesiumMath.toDegrees(e.south),e.east=ua.CesiumMath.toDegrees(e.east),e.north=ua.CesiumMath.toDegrees(e.north),e},e.prototype.tileXYToRectangle=function(e,a,t,n){var i=this._rectangle,r=this.getNumberOfXTilesAtLevel(t),t=this.getNumberOfYTilesAtLevel(t),r=i.width/r,s=e*r+i.west,e=(e+1)*r+i.west,r=i.height/t,t=i.north-a*r,i=i.north-(a+1)*r;return(n=la.defined(n)?n:new oa.Rectangle(s,i,e,t)).west=s,n.south=i,n.east=e,n.north=t,n},e.prototype.positionToTileXY=function(e,a,t){var n,i,r,s,o=this._rectangle;if(oa.Rectangle.contains(o,e))return n=this.getNumberOfXTilesAtLevel(a),a=this.getNumberOfYTilesAtLevel(a),s=o.width/n,i=o.height/a,r=e.longitude,o.east<o.west&&(r+=ua.CesiumMath.TWO_PI),r=(r-o.west)/s|0,n<=r&&(r=n-1),s=(o.north-e.latitude)/i|0,a<=s&&(s=a-1),la.defined(t)?(t.x=r,t.y=s,t):new oa.Cartesian2(r,s)};var o=new oa.Cartesian3,l=new oa.Cartesian3,u=new oa.Cartographic,c=new oa.Cartesian3,C=new oa.Cartesian3,h=new sa.BoundingSphere,d=new e,g=[new oa.Cartographic,new oa.Cartographic,new oa.Cartographic,new oa.Cartographic],f=new oa.Cartesian2,ca={};function m(e){oa.Cartographic.fromRadians(e.east,e.north,0,g[0]),oa.Cartographic.fromRadians(e.west,e.north,0,g[1]),oa.Cartographic.fromRadians(e.east,e.south,0,g[2]),oa.Cartographic.fromRadians(e.west,e.south,0,g[3]);for(var a=0,t=0,n=0,i=0,r=ca._terrainHeightsMaxLevel,s=0;s<=r;++s){for(var o=!1,l=0;l<4;++l)if(d.positionToTileXY(g[l],s,f),0===l)n=f.x,i=f.y;else if(n!==f.x||i!==f.y){o=!0;break}if(o)break;a=n,t=i}if(0!==s)return{x:a,y:t,level:r<s?r:s-1}}ca.initialize=function(){var e=ca._initPromise;return la.defined(e)?e:(e=sa.Resource.fetchJson(sa.buildModuleUrl("Assets/approximateTerrainHeights.json")).then(function(e){ca._terrainHeights=e}),ca._initPromise=e)},ca.getMinimumMaximumHeights=function(e,a){a=la.defaultValue(a,oa.Ellipsoid.WGS84);var t=m(e),n=ca._defaultMinTerrainHeight,i=ca._defaultMaxTerrainHeight;return la.defined(t)&&(t=t.level+"-"+t.x+"-"+t.y,t=ca._terrainHeights[t],la.defined(t)&&(n=t[0],i=t[1]),a.cartographicToCartesian(oa.Rectangle.northeast(e,u),o),a.cartographicToCartesian(oa.Rectangle.southwest(e,u),l),oa.Cartesian3.midpoint(l,o,c),t=a.scaleToGeodeticSurface(c,C),n=la.defined(t)?(e=oa.Cartesian3.distance(c,t),Math.min(n,-e)):ca._defaultMinTerrainHeight),{minimumTerrainHeight:n=Math.max(ca._defaultMinTerrainHeight,n),maximumTerrainHeight:i}},ca.getBoundingSphere=function(e,a){a=la.defaultValue(a,oa.Ellipsoid.WGS84);var t=m(e),n=ca._defaultMaxTerrainHeight,t=(la.defined(t)&&(t=t.level+"-"+t.x+"-"+t.y,t=ca._terrainHeights[t],la.defined(t)&&(n=t[1])),sa.BoundingSphere.fromRectangle3D(e,a,0));return sa.BoundingSphere.fromRectangle3D(e,a,n,h),sa.BoundingSphere.union(t,h,t)},ca._terrainHeightsMaxLevel=6,ca._defaultMaxTerrainHeight=9e3,ca._defaultMinTerrainHeight=-1e5,ca._terrainHeights=void 0,ca._initPromise=void 0,Object.defineProperties(ca,{initialized:{get:function(){return la.defined(ca._terrainHeights)}}});var Ta=[sa.GeographicProjection,t.WebMercatorProjection],w=Ta.length,va=Math.cos(ua.CesiumMath.toRadians(30)),y=Math.cos(ua.CesiumMath.toRadians(150)),Ea=0,_a=1e3;function p(e){var a=(e=la.defaultValue(e,la.defaultValue.EMPTY_OBJECT)).positions;this.width=la.defaultValue(e.width,1),this._positions=a,this.granularity=la.defaultValue(e.granularity,9999),this.loop=la.defaultValue(e.loop,!1),this.arcType=la.defaultValue(e.arcType,da.ArcType.GEODESIC),this._ellipsoid=oa.Ellipsoid.WGS84,this._projectionIndex=0,this._workerName="createGroundPolylineGeometry",this._scene3DOnly=!1}Object.defineProperties(p.prototype,{packedLength:{get:function(){return 1+3*this._positions.length+1+1+1+oa.Ellipsoid.packedLength+1+1}}}),p.setProjectionAndEllipsoid=function(e,a){for(var t=0,n=0;n<w;n++)if(a instanceof Ta[n]){t=n;break}e._projectionIndex=t,e._ellipsoid=a.ellipsoid};var M=new oa.Cartesian3,v=new oa.Cartesian3,E=new oa.Cartesian3;function Oa(e,a,t,n,i){var r=Ca(n,e,0,M),e=Ca(n,e,t,v),t=Ca(n,a,0,E),n=pa(e,r,v),a=pa(t,r,E);return oa.Cartesian3.cross(a,n,i),oa.Cartesian3.normalize(i,i)}var _=new oa.Cartographic,O=new oa.Cartesian3,b=new oa.Cartesian3,P=new oa.Cartesian3;function ba(e,a,c,t,n,i,r,s,C,p,h){if(0!==n){i===da.ArcType.GEODESIC?o=new T.EllipsoidGeodesic(e,a,r):i===da.ArcType.RHUMB&&(o=new ma.EllipsoidRhumbLine(e,a,r));var o,i=o.surfaceDistance;if(!(i<n))for(var d=Oa(e,a,t,r,P),e=Math.ceil(i/n),g=i/e,f=g,m=e-1,l=s.length,w=0;w<m;w++){var u=o.interpolateUsingSurfaceDistance(f,_),y=Ca(r,u,c,O),M=Ca(r,u,t,b);oa.Cartesian3.pack(d,s,l),oa.Cartesian3.pack(y,C,l),oa.Cartesian3.pack(M,p,l),h.push(u.latitude),h.push(u.longitude),l+=3,f+=g}}}var k=new oa.Cartographic;function Ca(e,a,t,n){return oa.Cartographic.clone(a,k),k.height=t,oa.Cartographic.toCartesian(k,e,n)}function pa(e,a,t){return oa.Cartesian3.subtract(e,a,t),oa.Cartesian3.normalize(t,t),t}function A(e,a,t,n){return n=pa(e,a,n),n=oa.Cartesian3.cross(n,t,n),n=oa.Cartesian3.normalize(n,n),n=oa.Cartesian3.cross(t,n,n)}p.pack=function(e,a,t){var n=la.defaultValue(t,0),i=e._positions,r=i.length;a[n++]=r;for(var s=0;s<r;++s){var o=i[s];oa.Cartesian3.pack(o,a,n),n+=3}return a[n++]=e.granularity,a[n++]=e.loop?1:0,a[n++]=e.arcType,oa.Ellipsoid.pack(e._ellipsoid,a,n),n+=oa.Ellipsoid.packedLength,a[n++]=e._projectionIndex,a[n++]=e._scene3DOnly?1:0,a},p.unpack=function(e,a,t){for(var n=la.defaultValue(a,0),i=e[n++],r=new Array(i),s=0;s<i;s++)r[s]=oa.Cartesian3.unpack(e,n),n+=3;var a=e[n++],o=1===e[n++],l=e[n++],u=oa.Ellipsoid.unpack(e,n),c=(n+=oa.Ellipsoid.packedLength,e[n++]),C=1===e[n++];return(t=la.defined(t)?t:new p({positions:r}))._positions=r,t.granularity=a,t.loop=o,t.arcType=l,t._ellipsoid=u,t._projectionIndex=c,t._scene3DOnly=C,t};var L=new oa.Cartesian3,S=new oa.Cartesian3,I=new oa.Cartesian3,x=new oa.Cartesian3;function Pa(e,a,t,n,i){t=pa(t,a,x),e=A(e,a,t,L),n=A(n,a,t,S);if(ua.CesiumMath.equalsEpsilon(oa.Cartesian3.dot(e,n),-1,ua.CesiumMath.EPSILON5))return i=oa.Cartesian3.cross(t,e,i),i=oa.Cartesian3.normalize(i,i);i=oa.Cartesian3.add(n,e,i),i=oa.Cartesian3.normalize(i,i);a=oa.Cartesian3.cross(t,i,I);return i=oa.Cartesian3.dot(n,a)<0?oa.Cartesian3.negate(i,i):i}var ka=r.Plane.fromPointNormal(oa.Cartesian3.ZERO,oa.Cartesian3.UNIT_Y),Aa=new oa.Cartesian3,La=new oa.Cartesian3,Sa=new oa.Cartesian3,Ia=new oa.Cartesian3,xa=new oa.Cartesian3,Na=new oa.Cartesian3,Ra=new oa.Cartographic,Da=new oa.Cartographic,za=new oa.Cartographic,N=(p.createGeometry=function(c){for(var C,p,h,d,g,e,f,m,w=!c._scene3DOnly,y=c.loop,a=c._ellipsoid,M=c.granularity,T=c.arcType,v=new Ta[c._projectionIndex](a),E=Ea,_=_a,O=c._positions,b=O.length,P=(2===b&&(y=!1),new ma.EllipsoidRhumbLine(void 0,void 0,a)),k=[O[0]],t=0;t<b-1;t++)p=O[t],h=O[t+1],e=Ma.IntersectionTests.lineSegmentPlane(p,h,ka,Na),!la.defined(e)||oa.Cartesian3.equalsEpsilon(e,p,ua.CesiumMath.EPSILON7)||oa.Cartesian3.equalsEpsilon(e,h,ua.CesiumMath.EPSILON7)||(c.arcType===da.ArcType.GEODESIC?k.push(oa.Cartesian3.clone(e)):c.arcType===da.ArcType.RHUMB&&(m=a.cartesianToCartographic(e,Ra).longitude,d=a.cartesianToCartographic(p,Ra),g=a.cartesianToCartographic(h,Da),P.setEndPoints(d,g),f=P.findIntersectionWithLongitude(m,za),e=a.cartographicToCartesian(f,Na),!la.defined(e)||oa.Cartesian3.equalsEpsilon(e,p,ua.CesiumMath.EPSILON7)||oa.Cartesian3.equalsEpsilon(e,h,ua.CesiumMath.EPSILON7)||k.push(oa.Cartesian3.clone(e)))),k.push(h);y&&(p=O[b-1],h=O[0],e=Ma.IntersectionTests.lineSegmentPlane(p,h,ka,Na),!la.defined(e)||oa.Cartesian3.equalsEpsilon(e,p,ua.CesiumMath.EPSILON7)||oa.Cartesian3.equalsEpsilon(e,h,ua.CesiumMath.EPSILON7)||(c.arcType===da.ArcType.GEODESIC?k.push(oa.Cartesian3.clone(e)):c.arcType===da.ArcType.RHUMB&&(m=a.cartesianToCartographic(e,Ra).longitude,d=a.cartesianToCartographic(p,Ra),g=a.cartesianToCartographic(h,Da),P.setEndPoints(d,g),f=P.findIntersectionWithLongitude(m,za),e=a.cartographicToCartesian(f,Na),!la.defined(e)||oa.Cartesian3.equalsEpsilon(e,p,ua.CesiumMath.EPSILON7)||oa.Cartesian3.equalsEpsilon(e,h,ua.CesiumMath.EPSILON7)||k.push(oa.Cartesian3.clone(e)))));var A=k.length,n=new Array(A);for(t=0;t<A;t++){var L=oa.Cartographic.fromCartesian(k[t],a);L.height=0,n[t]=L}if(!((A=(n=ga.arrayRemoveDuplicates(n,oa.Cartographic.equalsEpsilon)).length)<2)){var S=[],I=[],x=[],N=[],R=Aa,D=La,z=Sa,H=Ia,B=xa,j=n[0],i=n[1];for(R=Ca(a,n[A-1],E,R),H=Ca(a,i,E,H),D=Ca(a,j,E,D),z=Ca(a,j,_,z),B=y?Pa(R,D,z,H,B):Oa(j,i,_,a,B),oa.Cartesian3.pack(B,I,0),oa.Cartesian3.pack(D,x,0),oa.Cartesian3.pack(z,N,0),S.push(j.latitude),S.push(j.longitude),ba(j,i,E,_,M,T,a,I,x,N,S),t=1;t<A-1;++t){var R=oa.Cartesian3.clone(D,R),D=oa.Cartesian3.clone(H,D),G=n[t];Ca(a,G,_,z),Ca(a,n[t+1],E,H),Pa(R,D,z,H,B),C=I.length,oa.Cartesian3.pack(B,I,C),oa.Cartesian3.pack(D,x,C),oa.Cartesian3.pack(z,N,C),S.push(G.latitude),S.push(G.longitude),ba(n[t],n[t+1],E,_,M,T,a,I,x,N,S)}var i=n[A-1],V=n[A-2];if(D=Ca(a,i,E,D),z=Ca(a,i,_,z),B=y?(U=n[0],Pa(R=Ca(a,V,E,R),D,z,H=Ca(a,U,E,H),B)):Oa(V,i,_,a,B),C=I.length,oa.Cartesian3.pack(B,I,C),oa.Cartesian3.pack(D,x,C),oa.Cartesian3.pack(z,N,C),S.push(i.latitude),S.push(i.longitude),y){for(ba(i,j,E,_,M,T,a,I,x,N,S),C=I.length,t=0;t<3;++t)I[C+t]=I[t],x[C+t]=x[t],N[C+t]=N[t];S.push(j.latitude),S.push(j.longitude)}var Y,r,F,q,X,W,U=y,Z=v,J=x,Q=N,K=I,$=S,ee=w,ae=Z._ellipsoid,te=J.length/3-1,V=8*te,i=4*V,j=36*te,ne=new(65535<V?Uint32Array:Uint16Array)(j),ie=new Float64Array(3*V),re=new Float32Array(i),se=new Float32Array(i),oe=new Float32Array(i),le=new Float32Array(i),ue=new Float32Array(i),ce=(ee&&(F=new Float32Array(i),q=new Float32Array(i),X=new Float32Array(i),W=new Float32Array(2*V)),$.length/2),Ce=0,pe=Va,he=(pe.height=0,Ya),de=(he.height=0,Fa),ge=qa;if(ee)for(r=0,Y=1;Y<ce;Y++)pe.latitude=$[r],pe.longitude=$[r+1],he.latitude=$[r+2],he.longitude=$[r+3],de=Z.project(pe,de),ge=Z.project(he,ge),Ce+=oa.Cartesian3.distance(de,ge),r+=2;var s,fe=Q.length/3,me=(ge=oa.Cartesian3.unpack(Q,0,ge),0);for(r=3,Y=1;Y<fe;Y++)de=oa.Cartesian3.clone(ge,de),ge=oa.Cartesian3.unpack(Q,r,ge),me+=oa.Cartesian3.distance(de,ge),r+=3;var we=0,ye=0,Me=0,Te=0,ve=!(r=3),Ee=oa.Cartesian3.unpack(J,0,Wa),_e=oa.Cartesian3.unpack(Q,0,qa),Oe=oa.Cartesian3.unpack(K,0,Za);U&&(j=oa.Cartesian3.unpack(J,J.length-6,Xa),Ha(Oe,j,Ee,_e)&&(Oe=oa.Cartesian3.negate(Oe,Oe)));var be,Pe,ke,Ae,Le,Se,Ie,xe=0,Ne=0,Re=0;for(Y=0;Y<te;Y++){var o=oa.Cartesian3.clone(Ee,Xa),De=oa.Cartesian3.clone(_e,Fa),ze=oa.Cartesian3.clone(Oe,Ua),He=(ve&&(ze=oa.Cartesian3.negate(ze,ze)),Ee=oa.Cartesian3.unpack(J,r,Wa),_e=oa.Cartesian3.unpack(Q,r,qa),Oe=oa.Cartesian3.unpack(K,r,Za),ve=Ha(Oe,o,Ee,_e),pe.latitude=$[we],pe.longitude=$[we+1],he.latitude=$[we+2],he.longitude=$[we+3],ee&&(Ge=function(e,a){var t=Math.abs(e.longitude),n=Math.abs(a.longitude);{var i;{if(ua.CesiumMath.equalsEpsilon(t,ua.CesiumMath.PI,ua.CesiumMath.EPSILON11))return i=ua.CesiumMath.sign(a.longitude),e.longitude=i*(t-ua.CesiumMath.EPSILON11),1;if(ua.CesiumMath.equalsEpsilon(n,ua.CesiumMath.PI,ua.CesiumMath.EPSILON11))return i=ua.CesiumMath.sign(e.longitude),a.longitude=i*(n-ua.CesiumMath.EPSILON11),2}}return 0}(pe,he),be=Z.project(pe,tt),(He=pa(Pe=Z.project(he,nt),be,dt)).y=Math.abs(He.y),ke=it,Ae=rt,0===Ge||oa.Cartesian3.dot(He,oa.Cartesian3.UNIT_Y)>va?(ke=Ba(Z,pe,ze,be,it),Ae=Ba(Z,he,Oe,Pe,rt)):1===Ge?(Ae=Ba(Z,he,Oe,Pe,rt),ke.x=0,ke.y=ua.CesiumMath.sign(pe.longitude-Math.abs(he.longitude)),ke.z=0):(ke=Ba(Z,pe,ze,be,it),Ae.x=0,Ae.y=ua.CesiumMath.sign(pe.longitude-he.longitude),Ae.z=0)),oa.Cartesian3.distance(De,_e)),Be=wa.EncodedCartesian3.fromCartesian(o,pt),je=oa.Cartesian3.subtract(Ee,o,st),Ge=oa.Cartesian3.normalize(je,ut),l=oa.Cartesian3.subtract(De,o,ot),Ve=(l=oa.Cartesian3.normalize(l,l),oa.Cartesian3.cross(Ge,l,ut)),Ye=(Ve=oa.Cartesian3.normalize(Ve,Ve),oa.Cartesian3.cross(l,ze,ct)),l=(Ye=oa.Cartesian3.normalize(Ye,Ye),oa.Cartesian3.subtract(_e,Ee,lt)),Fe=(l=oa.Cartesian3.normalize(l,l),oa.Cartesian3.cross(Oe,l,Ct)),qe=(Fe=oa.Cartesian3.normalize(Fe,Fe),He/me),Xe=xe/me,ze=0,We=0,Ue=0;for(ee&&(ze=oa.Cartesian3.distance(be,Pe),Le=wa.EncodedCartesian3.fromCartesian(be,ht),Se=oa.Cartesian3.subtract(Pe,be,dt),l=(Ie=oa.Cartesian3.normalize(Se,gt)).x,Ie.x=Ie.y,Ie.y=-l,We=ze/Ce,Ue=Ne/Ce),s=0;s<8;s++){var u=Te+4*s,Ze=ye+2*s,Je=u+3,Qe=s<4?1:-1,Ke=2===s||3===s||6===s||7===s?1:-1,$e=(oa.Cartesian3.pack(Be.high,re,u),re[Je]=je.x,oa.Cartesian3.pack(Be.low,se,u),se[Je]=je.y,oa.Cartesian3.pack(Ye,oe,u),oe[Je]=je.z,oa.Cartesian3.pack(Fe,le,u),le[Je]=qe*Qe,oa.Cartesian3.pack(Ve,ue,u),Xe*Ke);0===$e&&Ke<0&&($e=9),ue[Je]=$e,ee&&(F[u]=Le.high.x,F[u+1]=Le.high.y,F[u+2]=Le.low.x,F[u+3]=Le.low.y,X[u]=-ke.y,X[u+1]=ke.x,X[u+2]=Ae.y,X[u+3]=-Ae.x,q[u]=Se.x,q[u+1]=Se.y,q[u+2]=Ie.x,q[u+3]=Ie.y,W[Ze]=We*Qe,0===($e=Ue*Ke)&&Ke<0&&($e=9),W[Ze+1]=$e)}var l=et,ea=at,aa=Ka,ta=$a,na=oa.Rectangle.fromCartographicArray(Ja,Qa),na=ca.getMinimumMaximumHeights(na,ae),ia=na.minimumTerrainHeight,na=na.maximumTerrainHeight,o=(Re=Re+ia+na,ja(o,De,ia,na,l,aa),ja(Ee,_e,ia,na,ea,ta),oa.Cartesian3.multiplyByScalar(Ve,ua.CesiumMath.EPSILON5,ft));oa.Cartesian3.add(l,o,l),oa.Cartesian3.add(ea,o,ea),oa.Cartesian3.add(aa,o,aa),oa.Cartesian3.add(ta,o,ta),Ga(l,ea),Ga(aa,ta),oa.Cartesian3.pack(l,ie,Me),oa.Cartesian3.pack(ea,ie,Me+3),oa.Cartesian3.pack(ta,ie,Me+6),oa.Cartesian3.pack(aa,ie,Me+9),o=oa.Cartesian3.multiplyByScalar(Ve,-2*ua.CesiumMath.EPSILON5,ft),oa.Cartesian3.add(l,o,l),oa.Cartesian3.add(ea,o,ea),oa.Cartesian3.add(aa,o,aa),oa.Cartesian3.add(ta,o,ta),Ga(l,ea),Ga(aa,ta),oa.Cartesian3.pack(l,ie,Me+12),oa.Cartesian3.pack(ea,ie,Me+15),oa.Cartesian3.pack(ta,ie,Me+18),oa.Cartesian3.pack(aa,ie,Me+21),we+=2,r+=3,ye+=16,Me+=24,Te+=32,xe+=He,Ne+=ze}var ra=r=0;for(Y=0;Y<te;Y++){for(s=0;s<yt;s++)ne[r+s]=wt[s]+ra;ra+=8,r+=yt}return i=mt,sa.BoundingSphere.fromVertices(J,oa.Cartesian3.ZERO,3,i[0]),sa.BoundingSphere.fromVertices(Q,oa.Cartesian3.ZERO,3,i[1]),(V=sa.BoundingSphere.fromBoundingSpheres(i)).radius+=Re/(2*te),U={position:new ya.GeometryAttribute({componentDatatype:fa.ComponentDatatype.DOUBLE,componentsPerAttribute:3,normalize:!1,values:ie}),startHiAndForwardOffsetX:ha(re),startLoAndForwardOffsetY:ha(se),startNormalAndForwardOffsetZ:ha(oe),endNormalAndTextureCoordinateNormalizationX:ha(le),rightNormalAndTextureCoordinateNormalizationY:ha(ue)},ee&&(U.startHiLo2D=ha(F),U.offsetAndRight2D=ha(q),U.startEndNormals2D=ha(X),U.texcoordNormalization2D=new ya.GeometryAttribute({componentDatatype:fa.ComponentDatatype.FLOAT,componentsPerAttribute:2,normalize:!1,values:W})),new ya.Geometry({attributes:U,indices:ne,boundingSphere:V})}},new oa.Cartesian3),R=new sa.Matrix3,D=new sa.Quaternion;function Ha(e,a,t,n){var a=pa(t,a,N),a=oa.Cartesian3.dot(a,e);return(va<a||a<y)&&(n=pa(n,t,x),t=a<y?ua.CesiumMath.PI_OVER_TWO:-ua.CesiumMath.PI_OVER_TWO,a=sa.Quaternion.fromAxisAngle(n,t,D),n=sa.Matrix3.fromQuaternion(a,R),sa.Matrix3.multiplyByVector(n,e,e),!0)}var z=new oa.Cartographic,H=new oa.Cartesian3,B=new oa.Cartesian3;function Ba(e,a,t,n,i){var r=oa.Cartographic.toCartesian(a,e._ellipsoid,H),s=oa.Cartesian3.add(r,t,B),o=!1,l=e._ellipsoid,u=l.cartesianToCartographic(s,z),a=(Math.abs(a.longitude-u.longitude)>ua.CesiumMath.PI_OVER_TWO&&(o=!0,s=oa.Cartesian3.subtract(r,t,B),u=l.cartesianToCartographic(s,z)),u.height=0,e.project(u,i));return(i=oa.Cartesian3.subtract(a,n,i)).z=0,i=oa.Cartesian3.normalize(i,i),o&&oa.Cartesian3.negate(i,i),i}var j=new oa.Cartesian3,G=new oa.Cartesian3;function ja(e,a,t,n,i,r){var s=oa.Cartesian3.subtract(a,e,j),t=(oa.Cartesian3.normalize(s,s),t-Ea),t=oa.Cartesian3.multiplyByScalar(s,t,G),e=(oa.Cartesian3.add(e,t,i),n-_a),t=oa.Cartesian3.multiplyByScalar(s,e,G);oa.Cartesian3.add(a,t,r)}var V=new oa.Cartesian3;function Ga(e,a){var t=r.Plane.getPointDistance(ka,e),n=r.Plane.getPointDistance(ka,a),i=V;ua.CesiumMath.equalsEpsilon(t,0,ua.CesiumMath.EPSILON2)?(i=pa(a,e,i),oa.Cartesian3.multiplyByScalar(i,ua.CesiumMath.EPSILON2,i),oa.Cartesian3.add(e,i,e)):ua.CesiumMath.equalsEpsilon(n,0,ua.CesiumMath.EPSILON2)&&(i=pa(e,a,i),oa.Cartesian3.multiplyByScalar(i,ua.CesiumMath.EPSILON2,i),oa.Cartesian3.add(a,i,a))}var Va=new oa.Cartographic,Ya=new oa.Cartographic,Fa=new oa.Cartesian3,qa=new oa.Cartesian3,Xa=new oa.Cartesian3,Wa=new oa.Cartesian3,Ua=new oa.Cartesian3,Za=new oa.Cartesian3,Ja=[Va,Ya],Qa=new oa.Rectangle,Ka=new oa.Cartesian3,$a=new oa.Cartesian3,et=new oa.Cartesian3,at=new oa.Cartesian3,tt=new oa.Cartesian3,nt=new oa.Cartesian3,it=new oa.Cartesian3,rt=new oa.Cartesian3,st=new oa.Cartesian3,ot=new oa.Cartesian3,lt=new oa.Cartesian3,ut=new oa.Cartesian3,ct=new oa.Cartesian3,Ct=new oa.Cartesian3,pt=new wa.EncodedCartesian3,ht=new wa.EncodedCartesian3,dt=new oa.Cartesian3,gt=new oa.Cartesian3,ft=new oa.Cartesian3,mt=[new sa.BoundingSphere,new sa.BoundingSphere],wt=[0,2,1,0,3,2,0,7,3,0,4,7,0,5,4,0,1,5,5,7,4,5,6,7,5,2,6,5,1,2,3,6,2,3,7,6],yt=wt.length;function ha(e){return new ya.GeometryAttribute({componentDatatype:fa.ComponentDatatype.FLOAT,componentsPerAttribute:4,normalize:!1,values:e})}return p._projectNormal=Ba,function(e,a){return ca.initialize().then(function(){return la.defined(a)&&(e=p.unpack(e,a)),p.createGeometry(e)})}});
