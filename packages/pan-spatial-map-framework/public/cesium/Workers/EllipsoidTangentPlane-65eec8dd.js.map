{"version":3,"file":"EllipsoidTangentPlane-65eec8dd.js","sources":["../../../../Source/Core/EllipsoidTangentPlane.js"],"sourcesContent":["import AxisAlignedBoundingBox from './AxisAlignedBoundingBox.js';\r\nimport Cartesian2 from './Cartesian2.js';\r\nimport Cartesian3 from './Cartesian3.js';\r\nimport Cartesian4 from './Cartesian4.js';\r\nimport Check from './Check.js';\r\nimport defaultValue from './defaultValue.js';\r\nimport defined from './defined.js';\r\nimport DeveloperError from './DeveloperError.js';\r\nimport Ellipsoid from './Ellipsoid.js';\r\nimport IntersectionTests from './IntersectionTests.js';\r\nimport Matrix4 from './Matrix4.js';\r\nimport Plane from './Plane.js';\r\nimport Ray from './Ray.js';\r\nimport Transforms from './Transforms.js';\r\n\r\nvar scratchCart4 = new Cartesian4();\r\n/**\r\n * A plane tangent to the provided ellipsoid at the provided origin.\r\n * If origin is not on the surface of the ellipsoid, it's surface projection will be used.\r\n * If origin is at the center of the ellipsoid, an exception will be thrown.\r\n * @alias EllipsoidTangentPlane\r\n * @constructor\r\n *\r\n * @param {Cartesian3} origin The point on the surface of the ellipsoid where the tangent plane touches.\r\n * @param {Ellipsoid} [ellipsoid=Ellipsoid.WGS84] The ellipsoid to use.\r\n *\r\n * @exception {DeveloperError} origin must not be at the center of the ellipsoid.\r\n */\r\nfunction EllipsoidTangentPlane(origin, ellipsoid) {\r\n    //>>includeStart('debug', pragmas.debug);\r\n    Check.defined('origin', origin);\r\n    //>>includeEnd('debug');\r\n\r\n    ellipsoid = defaultValue(ellipsoid, Ellipsoid.WGS84);\r\n    origin = ellipsoid.scaleToGeodeticSurface(origin);\r\n\r\n    //>>includeStart('debug', pragmas.debug);\r\n    if (!defined(origin)) {\r\n        throw new DeveloperError('origin must not be at the center of the ellipsoid.');\r\n    }\r\n    //>>includeEnd('debug');\r\n\r\n    var eastNorthUp = Transforms.eastNorthUpToFixedFrame(origin, ellipsoid);\r\n    this._ellipsoid = ellipsoid;\r\n    this._origin = origin;\r\n    this._xAxis = Cartesian3.fromCartesian4(Matrix4.getColumn(eastNorthUp, 0, scratchCart4));\r\n    this._yAxis = Cartesian3.fromCartesian4(Matrix4.getColumn(eastNorthUp, 1, scratchCart4));\r\n\r\n    var normal = Cartesian3.fromCartesian4(Matrix4.getColumn(eastNorthUp, 2, scratchCart4));\r\n    this._plane = Plane.fromPointNormal(origin, normal);\r\n}\r\n\r\nObject.defineProperties(EllipsoidTangentPlane.prototype, {\r\n    /**\r\n     * Gets the ellipsoid.\r\n     * @memberof EllipsoidTangentPlane.prototype\r\n     * @type {Ellipsoid}\r\n     */\r\n    ellipsoid: {\r\n        get: function () {\r\n            return this._ellipsoid;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Gets the origin.\r\n     * @memberof EllipsoidTangentPlane.prototype\r\n     * @type {Cartesian3}\r\n     */\r\n    origin: {\r\n        get: function () {\r\n            return this._origin;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Gets the plane which is tangent to the ellipsoid.\r\n     * @memberof EllipsoidTangentPlane.prototype\r\n     * @readonly\r\n     * @type {Plane}\r\n     */\r\n    plane: {\r\n        get: function () {\r\n            return this._plane;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Gets the local X-axis (east) of the tangent plane.\r\n     * @memberof EllipsoidTangentPlane.prototype\r\n     * @readonly\r\n     * @type {Cartesian3}\r\n     */\r\n    xAxis: {\r\n        get: function () {\r\n            return this._xAxis;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Gets the local Y-axis (north) of the tangent plane.\r\n     * @memberof EllipsoidTangentPlane.prototype\r\n     * @readonly\r\n     * @type {Cartesian3}\r\n     */\r\n    yAxis: {\r\n        get: function () {\r\n            return this._yAxis;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Gets the local Z-axis (up) of the tangent plane.\r\n     * @memberof EllipsoidTangentPlane.prototype\r\n     * @readonly\r\n     * @type {Cartesian3}\r\n     */\r\n    zAxis: {\r\n        get: function () {\r\n            return this._plane.normal;\r\n        }\r\n    }\r\n});\r\n\r\nvar tmp = new AxisAlignedBoundingBox();\r\n/**\r\n * Creates a new instance from the provided ellipsoid and the center\r\n * point of the provided Cartesians.\r\n *\r\n * @param {Cartesian3[]} cartesians The list of positions surrounding the center point.\r\n * @param {Ellipsoid} [ellipsoid=Ellipsoid.WGS84] The ellipsoid to use.\r\n * @returns {EllipsoidTangentPlane} The new instance of EllipsoidTangentPlane.\r\n */\r\nEllipsoidTangentPlane.fromPoints = function (cartesians, ellipsoid) {\r\n    //>>includeStart('debug', pragmas.debug);\r\n    Check.defined('cartesians', cartesians);\r\n    //>>includeEnd('debug');\r\n\r\n    var box = AxisAlignedBoundingBox.fromPoints(cartesians, tmp);\r\n    return new EllipsoidTangentPlane(box.center, ellipsoid);\r\n};\r\n\r\nvar scratchProjectPointOntoPlaneRay = new Ray();\r\nvar scratchProjectPointOntoPlaneCartesian3 = new Cartesian3();\r\n\r\n/**\r\n * Computes the projection of the provided 3D position onto the 2D plane, radially outward from the {@link EllipsoidTangentPlane.ellipsoid} coordinate system origin.\r\n *\r\n * @param {Cartesian3} cartesian The point to project.\r\n * @param {Cartesian2} [result] The object onto which to store the result.\r\n * @returns {Cartesian2} The modified result parameter or a new Cartesian2 instance if none was provided. Undefined if there is no intersection point\r\n */\r\nEllipsoidTangentPlane.prototype.projectPointOntoPlane = function (cartesian, result) {\r\n    //>>includeStart('debug', pragmas.debug);\r\n    Check.defined('cartesian', cartesian);\r\n    //>>includeEnd('debug');\r\n\r\n    var ray = scratchProjectPointOntoPlaneRay;\r\n    ray.origin = cartesian;\r\n    Cartesian3.normalize(cartesian, ray.direction);\r\n\r\n    var intersectionPoint = IntersectionTests.rayPlane(ray, this._plane, scratchProjectPointOntoPlaneCartesian3);\r\n    if (!defined(intersectionPoint)) {\r\n        Cartesian3.negate(ray.direction, ray.direction);\r\n        intersectionPoint = IntersectionTests.rayPlane(ray, this._plane, scratchProjectPointOntoPlaneCartesian3);\r\n    }\r\n\r\n    if (defined(intersectionPoint)) {\r\n        var v = Cartesian3.subtract(intersectionPoint, this._origin, intersectionPoint);\r\n        var x = Cartesian3.dot(this._xAxis, v);\r\n        var y = Cartesian3.dot(this._yAxis, v);\r\n\r\n        if (!defined(result)) {\r\n            return new Cartesian2(x, y);\r\n        }\r\n        result.x = x;\r\n        result.y = y;\r\n        return result;\r\n    }\r\n    return undefined;\r\n};\r\n\r\n/**\r\n * Computes the projection of the provided 3D positions onto the 2D plane (where possible), radially outward from the global origin.\r\n * The resulting array may be shorter than the input array - if a single projection is impossible it will not be included.\r\n *\r\n * @see EllipsoidTangentPlane.projectPointOntoPlane\r\n *\r\n * @param {Cartesian3[]} cartesians The array of points to project.\r\n * @param {Cartesian2[]} [result] The array of Cartesian2 instances onto which to store results.\r\n * @returns {Cartesian2[]} The modified result parameter or a new array of Cartesian2 instances if none was provided.\r\n */\r\nEllipsoidTangentPlane.prototype.projectPointsOntoPlane = function (cartesians, result) {\r\n    //>>includeStart('debug', pragmas.debug);\r\n    Check.defined('cartesians', cartesians);\r\n    //>>includeEnd('debug');\r\n\r\n    if (!defined(result)) {\r\n        result = [];\r\n    }\r\n\r\n    var count = 0;\r\n    var length = cartesians.length;\r\n    for (var i = 0; i < length; i++) {\r\n        var p = this.projectPointOntoPlane(cartesians[i], result[count]);\r\n        if (defined(p)) {\r\n            result[count] = p;\r\n            count++;\r\n        }\r\n    }\r\n    result.length = count;\r\n    return result;\r\n};\r\n\r\n/**\r\n * Computes the projection of the provided 3D position onto the 2D plane, along the plane normal.\r\n *\r\n * @param {Cartesian3} cartesian The point to project.\r\n * @param {Cartesian2} [result] The object onto which to store the result.\r\n * @returns {Cartesian2} The modified result parameter or a new Cartesian2 instance if none was provided.\r\n */\r\nEllipsoidTangentPlane.prototype.projectPointToNearestOnPlane = function (cartesian, result) {\r\n    //>>includeStart('debug', pragmas.debug);\r\n    Check.defined('cartesian', cartesian);\r\n    //>>includeEnd('debug');\r\n\r\n    if (!defined(result)) {\r\n        result = new Cartesian2();\r\n    }\r\n\r\n    var ray = scratchProjectPointOntoPlaneRay;\r\n    ray.origin = cartesian;\r\n    Cartesian3.clone(this._plane.normal, ray.direction);\r\n\r\n    var intersectionPoint = IntersectionTests.rayPlane(ray, this._plane, scratchProjectPointOntoPlaneCartesian3);\r\n    if (!defined(intersectionPoint)) {\r\n        Cartesian3.negate(ray.direction, ray.direction);\r\n        intersectionPoint = IntersectionTests.rayPlane(ray, this._plane, scratchProjectPointOntoPlaneCartesian3);\r\n    }\r\n\r\n    var v = Cartesian3.subtract(intersectionPoint, this._origin, intersectionPoint);\r\n    var x = Cartesian3.dot(this._xAxis, v);\r\n    var y = Cartesian3.dot(this._yAxis, v);\r\n\r\n    result.x = x;\r\n    result.y = y;\r\n    return result;\r\n};\r\n\r\n/**\r\n * Computes the projection of the provided 3D positions onto the 2D plane, along the plane normal.\r\n *\r\n * @see EllipsoidTangentPlane.projectPointToNearestOnPlane\r\n *\r\n * @param {Cartesian3[]} cartesians The array of points to project.\r\n * @param {Cartesian2[]} [result] The array of Cartesian2 instances onto which to store results.\r\n * @returns {Cartesian2[]} The modified result parameter or a new array of Cartesian2 instances if none was provided. This will have the same length as <code>cartesians</code>.\r\n */\r\nEllipsoidTangentPlane.prototype.projectPointsToNearestOnPlane = function (cartesians, result) {\r\n    //>>includeStart('debug', pragmas.debug);\r\n    Check.defined('cartesians', cartesians);\r\n    //>>includeEnd('debug');\r\n\r\n    if (!defined(result)) {\r\n        result = [];\r\n    }\r\n\r\n    var length = cartesians.length;\r\n    result.length = length;\r\n    for (var i = 0; i < length; i++) {\r\n        result[i] = this.projectPointToNearestOnPlane(cartesians[i], result[i]);\r\n    }\r\n    return result;\r\n};\r\n\r\nvar projectPointsOntoEllipsoidScratch = new Cartesian3();\r\n/**\r\n * Computes the projection of the provided 2D position onto the 3D ellipsoid.\r\n *\r\n * @param {Cartesian2} cartesian The points to project.\r\n * @param {Cartesian3} [result] The Cartesian3 instance to store result.\r\n * @returns {Cartesian3} The modified result parameter or a new Cartesian3 instance if none was provided.\r\n */\r\nEllipsoidTangentPlane.prototype.projectPointOntoEllipsoid = function (cartesian, result) {\r\n    //>>includeStart('debug', pragmas.debug);\r\n    Check.defined('cartesian', cartesian);\r\n    //>>includeEnd('debug');\r\n\r\n    if (!defined(result)) {\r\n        result = new Cartesian3();\r\n    }\r\n\r\n    var ellipsoid = this._ellipsoid;\r\n    var origin = this._origin;\r\n    var xAxis = this._xAxis;\r\n    var yAxis = this._yAxis;\r\n    var tmp = projectPointsOntoEllipsoidScratch;\r\n\r\n    Cartesian3.multiplyByScalar(xAxis, cartesian.x, tmp);\r\n    result = Cartesian3.add(origin, tmp, result);\r\n    Cartesian3.multiplyByScalar(yAxis, cartesian.y, tmp);\r\n    Cartesian3.add(result, tmp, result);\r\n    ellipsoid.scaleToGeocentricSurface(result, result);\r\n\r\n    return result;\r\n};\r\n\r\n/**\r\n * Computes the projection of the provided 2D positions onto the 3D ellipsoid.\r\n *\r\n * @param {Cartesian2[]} cartesians The array of points to project.\r\n * @param {Cartesian3[]} [result] The array of Cartesian3 instances onto which to store results.\r\n * @returns {Cartesian3[]} The modified result parameter or a new array of Cartesian3 instances if none was provided.\r\n */\r\nEllipsoidTangentPlane.prototype.projectPointsOntoEllipsoid = function (cartesians, result) {\r\n    //>>includeStart('debug', pragmas.debug);\r\n    Check.defined('cartesians', cartesians);\r\n    //>>includeEnd('debug');\r\n\r\n    var length = cartesians.length;\r\n    if (!defined(result)) {\r\n        result = new Array(length);\r\n    } else {\r\n        result.length = length;\r\n    }\r\n\r\n    for (var i = 0; i < length; ++i) {\r\n        result[i] = this.projectPointOntoEllipsoid(cartesians[i], result[i]);\r\n    }\r\n\r\n    return result;\r\n};\r\nexport default EllipsoidTangentPlane;\r\n"],"names":["Cartesian4","Check","defaultValue","Ellipsoid","defined","DeveloperError","Transforms","Cartesian3","Matrix4","Plane","AxisAlignedBoundingBox","Ray","IntersectionTests","Cartesian2"],"mappings":"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"}